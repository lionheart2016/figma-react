function Lie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var PB={exports:{}},R5={},NB={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=Symbol.for("react.element"),Bie=Symbol.for("react.portal"),Uie=Symbol.for("react.fragment"),zie=Symbol.for("react.strict_mode"),Wie=Symbol.for("react.profiler"),Hie=Symbol.for("react.provider"),qie=Symbol.for("react.context"),Vie=Symbol.for("react.forward_ref"),Gie=Symbol.for("react.suspense"),Kie=Symbol.for("react.memo"),Yie=Symbol.for("react.lazy"),xT=Symbol.iterator;function Zie(t){return t===null||typeof t!="object"?null:(t=xT&&t[xT]||t["@@iterator"],typeof t=="function"?t:null)}var OB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RB=Object.assign,jB={};function gg(t,e,r){this.props=t,this.context=e,this.refs=jB,this.updater=r||OB}gg.prototype.isReactComponent={};gg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MB(){}MB.prototype=gg.prototype;function JA(t,e,r){this.props=t,this.context=e,this.refs=jB,this.updater=r||OB}var QA=JA.prototype=new MB;QA.constructor=JA;RB(QA,gg.prototype);QA.isPureReactComponent=!0;var ET=Array.isArray,DB=Object.prototype.hasOwnProperty,XA={current:null},FB={key:!0,ref:!0,__self:!0,__source:!0};function LB(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DB.call(e,n)&&!FB.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:_w,type:t,key:s,ref:o,props:i,_owner:XA.current}}function Jie(t,e){return{$$typeof:_w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ek(t){return typeof t=="object"&&t!==null&&t.$$typeof===_w}function Qie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var CT=/\/+/g;function dx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qie(""+t.key):e.toString(36)}function Kv(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _w:case Bie:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+dx(o,0):n,ET(i)?(r="",t!=null&&(r=t.replace(CT,"$&/")+"/"),Kv(i,e,r,"",function(c){return c})):i!=null&&(ek(i)&&(i=Jie(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(CT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ET(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+dx(s,a);o+=Kv(s,e,r,l,i)}else if(l=Zie(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+dx(s,a++),o+=Kv(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function P2(t,e,r){if(t==null)return t;var n=[],i=0;return Kv(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Xie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ss={current:null},Yv={transition:null},ese={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:XA};function BB(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:P2,forEach:function(t,e,r){P2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return P2(t,function(){e++}),e},toArray:function(t){return P2(t,function(e){return e})||[]},only:function(t){if(!ek(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=gg;Lt.Fragment=Uie;Lt.Profiler=Wie;Lt.PureComponent=JA;Lt.StrictMode=zie;Lt.Suspense=Gie;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ese;Lt.act=BB;Lt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RB({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=XA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DB.call(e,l)&&!FB.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:_w,type:t.type,key:i,ref:s,props:n,_owner:o}};Lt.createContext=function(t){return t={$$typeof:qie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hie,_context:t},t.Consumer=t};Lt.createElement=LB;Lt.createFactory=function(t){var e=LB.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:Vie,render:t}};Lt.isValidElement=ek;Lt.lazy=function(t){return{$$typeof:Yie,_payload:{_status:-1,_result:t},_init:Xie}};Lt.memo=function(t,e){return{$$typeof:Kie,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=Yv.transition;Yv.transition={};try{t()}finally{Yv.transition=e}};Lt.unstable_act=BB;Lt.useCallback=function(t,e){return ss.current.useCallback(t,e)};Lt.useContext=function(t){return ss.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return ss.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return ss.current.useEffect(t,e)};Lt.useId=function(){return ss.current.useId()};Lt.useImperativeHandle=function(t,e,r){return ss.current.useImperativeHandle(t,e,r)};Lt.useInsertionEffect=function(t,e){return ss.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return ss.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return ss.current.useMemo(t,e)};Lt.useReducer=function(t,e,r){return ss.current.useReducer(t,e,r)};Lt.useRef=function(t){return ss.current.useRef(t)};Lt.useState=function(t){return ss.current.useState(t)};Lt.useSyncExternalStore=function(t,e,r){return ss.current.useSyncExternalStore(t,e,r)};Lt.useTransition=function(){return ss.current.useTransition()};Lt.version="18.3.1";NB.exports=Lt;var x=NB.exports;const Pe=mo(x),AE=Lie({__proto__:null,default:Pe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tse=x,rse=Symbol.for("react.element"),nse=Symbol.for("react.fragment"),ise=Object.prototype.hasOwnProperty,sse=tse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ose={key:!0,ref:!0,__self:!0,__source:!0};function UB(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ise.call(e,n)&&!ose.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:rse,type:t,key:s,ref:o,props:i,_owner:sse.current}}R5.Fragment=nse;R5.jsx=UB;R5.jsxs=UB;PB.exports=R5;var d=PB.exports,kE={},zB={exports:{}},yo={},WB={exports:{}},HB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,I){var D=S.length;S.push(I);e:for(;0<D;){var F=D-1>>>1,k=S[F];if(0<i(k,I))S[F]=I,S[D]=k,D=F;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var I=S[0],D=S.pop();if(D!==I){S[0]=D;e:for(var F=0,k=S.length,z=k>>>1;F<z;){var V=2*(F+1)-1,M=S[V],G=V+1,Z=S[G];if(0>i(M,D))G<k&&0>i(Z,M)?(S[F]=Z,S[G]=D,F=G):(S[F]=M,S[V]=D,F=V);else if(G<k&&0>i(Z,D))S[F]=Z,S[G]=D,F=G;else break e}}return I}function i(S,I){var D=S.sortIndex-I.sortIndex;return D!==0?D:S.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=S)n(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(c)}}function A(S){if(m=!1,v(S),!g)if(r(l)!==null)g=!0,$(E);else{var I=r(c);I!==null&&P(A,I.startTime-S)}}function E(S,I){g=!1,m&&(m=!1,y(R),R=-1),p=!0;var D=f;try{for(v(I),h=r(l);h!==null&&(!(h.expirationTime>I)||S&&!B());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var k=F(h.expirationTime<=I);I=t.unstable_now(),typeof k=="function"?h.callback=k:h===r(l)&&n(l),v(I)}else n(l);h=r(l)}if(h!==null)var z=!0;else{var V=r(c);V!==null&&P(A,V.startTime-I),z=!1}return z}finally{h=null,f=D,p=!1}}var O=!1,N=null,R=-1,T=5,L=-1;function B(){return!(t.unstable_now()-L<T)}function W(){if(N!==null){var S=t.unstable_now();L=S;var I=!0;try{I=N(!0,S)}finally{I?j():(O=!1,N=null)}}else O=!1}var j;if(typeof b=="function")j=function(){b(W)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,C=_.port2;_.port1.onmessage=W,j=function(){C.postMessage(null)}}else j=function(){w(W,0)};function $(S){N=S,O||(O=!0,j())}function P(S,I){R=w(function(){S(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(E))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var D=f;f=I;try{return S()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,I){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=f;f=S;try{return I()}finally{f=D}},t.unstable_scheduleCallback=function(S,I,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,S){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=D+k,S={id:u++,callback:I,priorityLevel:S,startTime:D,expirationTime:k,sortIndex:-1},D>F?(S.sortIndex=D,e(c,S),r(l)===null&&S===r(c)&&(m?(y(R),R=-1):m=!0,P(A,D-F))):(S.sortIndex=k,e(l,S),g||p||(g=!0,$(E))),S},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(S){var I=f;return function(){var D=f;f=I;try{return S.apply(this,arguments)}finally{f=D}}}})(HB);WB.exports=HB;var ase=WB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lse=x,co=ase;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qB=new Set,Y1={};function xf(t,e){P0(t,e),P0(t+"Capture",e)}function P0(t,e){for(Y1[t]=e,t=0;t<e.length;t++)qB.add(e[t])}var Kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$E=Object.prototype.hasOwnProperty,cse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_T={},AT={};function use(t){return $E.call(AT,t)?!0:$E.call(_T,t)?!1:cse.test(t)?AT[t]=!0:(_T[t]=!0,!1)}function dse(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hse(t,e,r,n){if(e===null||typeof e>"u"||dse(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ci[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ci[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ci[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ci[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ci[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ci[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ci[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ci[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ci[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var tk=/[\-:]([a-z])/g;function rk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tk,rk);ci[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tk,rk);ci[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tk,rk);ci[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ci[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});ci.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ci[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function nk(t,e,r,n){var i=ci.hasOwnProperty(e)?ci[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hse(e,r,i,n)&&(r=null),n||i===null?use(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fu=lse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N2=Symbol.for("react.element"),Op=Symbol.for("react.portal"),Rp=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),SE=Symbol.for("react.profiler"),VB=Symbol.for("react.provider"),GB=Symbol.for("react.context"),sk=Symbol.for("react.forward_ref"),IE=Symbol.for("react.suspense"),TE=Symbol.for("react.suspense_list"),ok=Symbol.for("react.memo"),Wu=Symbol.for("react.lazy"),KB=Symbol.for("react.offscreen"),kT=Symbol.iterator;function rm(t){return t===null||typeof t!="object"?null:(t=kT&&t[kT]||t["@@iterator"],typeof t=="function"?t:null)}var Yr=Object.assign,hx;function Vm(t){if(hx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);hx=e&&e[1]||""}return`
`+hx+t}var fx=!1;function px(t,e){if(!t||fx)return"";fx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vm(t):""}function fse(t){switch(t.tag){case 5:return Vm(t.type);case 16:return Vm("Lazy");case 13:return Vm("Suspense");case 19:return Vm("SuspenseList");case 0:case 2:case 15:return t=px(t.type,!1),t;case 11:return t=px(t.type.render,!1),t;case 1:return t=px(t.type,!0),t;default:return""}}function PE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rp:return"Fragment";case Op:return"Portal";case SE:return"Profiler";case ik:return"StrictMode";case IE:return"Suspense";case TE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GB:return(t.displayName||"Context")+".Consumer";case VB:return(t._context.displayName||"Context")+".Provider";case sk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ok:return e=t.displayName||null,e!==null?e:PE(t.type)||"Memo";case Wu:e=t._payload,t=t._init;try{return PE(t(e))}catch{}}return null}function pse(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PE(e);case 8:return e===ik?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ad(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gse(t){var e=YB(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function O2(t){t._valueTracker||(t._valueTracker=gse(t))}function ZB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YB(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function NE(t,e){var r=e.checked;return Yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $T(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ad(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JB(t,e){e=e.checked,e!=null&&nk(t,"checked",e,!1)}function OE(t,e){JB(t,e);var r=Ad(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RE(t,e.type,r):e.hasOwnProperty("defaultValue")&&RE(t,e.type,Ad(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ST(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function RE(t,e,r){(e!=="number"||Wb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gm=Array.isArray;function s0(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ad(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Yr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function IT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ke(92));if(Gm(r)){if(1<r.length)throw Error(ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ad(r)}}function QB(t,e){var r=Ad(e.value),n=Ad(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function TT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ME(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var R2,eU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(R2=R2||document.createElement("div"),R2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=R2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Z1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var h1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mse=["Webkit","ms","Moz","O"];Object.keys(h1).forEach(function(t){mse.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),h1[e]=h1[t]})});function tU(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||h1.hasOwnProperty(t)&&h1[t]?(""+e).trim():e+"px"}function rU(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=tU(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var yse=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DE(t,e){if(e){if(yse[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function FE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LE=null;function ak(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BE=null,o0=null,a0=null;function PT(t){if(t=$w(t)){if(typeof BE!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=L5(e),BE(t.stateNode,t.type,e))}}function nU(t){o0?a0?a0.push(t):a0=[t]:o0=t}function iU(){if(o0){var t=o0,e=a0;if(a0=o0=null,PT(t),e)for(t=0;t<e.length;t++)PT(e[t])}}function sU(t,e){return t(e)}function oU(){}var gx=!1;function aU(t,e,r){if(gx)return t(e,r);gx=!0;try{return sU(t,e,r)}finally{gx=!1,(o0!==null||a0!==null)&&(oU(),iU())}}function J1(t,e){var r=t.stateNode;if(r===null)return null;var n=L5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ke(231,e,typeof r));return r}var UE=!1;if(Kc)try{var nm={};Object.defineProperty(nm,"passive",{get:function(){UE=!0}}),window.addEventListener("test",nm,nm),window.removeEventListener("test",nm,nm)}catch{UE=!1}function wse(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var f1=!1,Hb=null,qb=!1,zE=null,vse={onError:function(t){f1=!0,Hb=t}};function bse(t,e,r,n,i,s,o,a,l){f1=!1,Hb=null,wse.apply(vse,arguments)}function xse(t,e,r,n,i,s,o,a,l){if(bse.apply(this,arguments),f1){if(f1){var c=Hb;f1=!1,Hb=null}else throw Error(ke(198));qb||(qb=!0,zE=c)}}function Ef(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NT(t){if(Ef(t)!==t)throw Error(ke(188))}function Ese(t){var e=t.alternate;if(!e){if(e=Ef(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return NT(i),t;if(s===n)return NT(i),e;s=s.sibling}throw Error(ke(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ke(189))}}if(r.alternate!==n)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?t:e}function cU(t){return t=Ese(t),t!==null?uU(t):null}function uU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uU(t);if(e!==null)return e;t=t.sibling}return null}var dU=co.unstable_scheduleCallback,OT=co.unstable_cancelCallback,Cse=co.unstable_shouldYield,_se=co.unstable_requestPaint,dn=co.unstable_now,Ase=co.unstable_getCurrentPriorityLevel,lk=co.unstable_ImmediatePriority,hU=co.unstable_UserBlockingPriority,Vb=co.unstable_NormalPriority,kse=co.unstable_LowPriority,fU=co.unstable_IdlePriority,j5=null,Ml=null;function $se(t){if(Ml&&typeof Ml.onCommitFiberRoot=="function")try{Ml.onCommitFiberRoot(j5,t,void 0,(t.current.flags&128)===128)}catch{}}var Fa=Math.clz32?Math.clz32:Tse,Sse=Math.log,Ise=Math.LN2;function Tse(t){return t>>>=0,t===0?32:31-(Sse(t)/Ise|0)|0}var j2=64,M2=4194304;function Km(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Km(a):(s&=o,s!==0&&(n=Km(s)))}else o=r&~i,o!==0?n=Km(o):s!==0&&(n=Km(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fa(e),i=1<<r,n|=t[r],e&=~i;return n}function Pse(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nse(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fa(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=Pse(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function WE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pU(){var t=j2;return j2<<=1,!(j2&4194240)&&(j2=64),t}function mx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Aw(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fa(e),t[e]=r}function Ose(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Fa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function ck(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var mr=0;function gU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mU,uk,yU,wU,vU,HE=!1,D2=[],hd=null,fd=null,pd=null,Q1=new Map,X1=new Map,Ju=[],Rse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RT(t,e){switch(t){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":Q1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":X1.delete(e.pointerId)}}function im(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$w(e),e!==null&&uk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jse(t,e,r,n,i){switch(e){case"focusin":return hd=im(hd,t,e,r,n,i),!0;case"dragenter":return fd=im(fd,t,e,r,n,i),!0;case"mouseover":return pd=im(pd,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Q1.set(s,im(Q1.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,X1.set(s,im(X1.get(s)||null,t,e,r,n,i)),!0}return!1}function bU(t){var e=Ch(t.target);if(e!==null){var r=Ef(e);if(r!==null){if(e=r.tag,e===13){if(e=lU(r),e!==null){t.blockedOn=e,vU(t.priority,function(){yU(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);LE=n,r.target.dispatchEvent(n),LE=null}else return e=$w(r),e!==null&&uk(e),t.blockedOn=r,!1;e.shift()}return!0}function jT(t,e,r){Zv(t)&&r.delete(e)}function Mse(){HE=!1,hd!==null&&Zv(hd)&&(hd=null),fd!==null&&Zv(fd)&&(fd=null),pd!==null&&Zv(pd)&&(pd=null),Q1.forEach(jT),X1.forEach(jT)}function sm(t,e){t.blockedOn===e&&(t.blockedOn=null,HE||(HE=!0,co.unstable_scheduleCallback(co.unstable_NormalPriority,Mse)))}function ey(t){function e(i){return sm(i,t)}if(0<D2.length){sm(D2[0],t);for(var r=1;r<D2.length;r++){var n=D2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(hd!==null&&sm(hd,t),fd!==null&&sm(fd,t),pd!==null&&sm(pd,t),Q1.forEach(e),X1.forEach(e),r=0;r<Ju.length;r++)n=Ju[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ju.length&&(r=Ju[0],r.blockedOn===null);)bU(r),r.blockedOn===null&&Ju.shift()}var l0=fu.ReactCurrentBatchConfig,Kb=!0;function Dse(t,e,r,n){var i=mr,s=l0.transition;l0.transition=null;try{mr=1,dk(t,e,r,n)}finally{mr=i,l0.transition=s}}function Fse(t,e,r,n){var i=mr,s=l0.transition;l0.transition=null;try{mr=4,dk(t,e,r,n)}finally{mr=i,l0.transition=s}}function dk(t,e,r,n){if(Kb){var i=qE(t,e,r,n);if(i===null)kx(t,e,n,Yb,r),RT(t,n);else if(jse(i,t,e,r,n))n.stopPropagation();else if(RT(t,n),e&4&&-1<Rse.indexOf(t)){for(;i!==null;){var s=$w(i);if(s!==null&&mU(s),s=qE(t,e,r,n),s===null&&kx(t,e,n,Yb,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else kx(t,e,n,null,r)}}var Yb=null;function qE(t,e,r,n){if(Yb=null,t=ak(n),t=Ch(t),t!==null)if(e=Ef(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lU(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yb=t,null}function xU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ase()){case lk:return 1;case hU:return 4;case Vb:case kse:return 16;case fU:return 536870912;default:return 16}default:return 16}}var od=null,hk=null,Jv=null;function EU(){if(Jv)return Jv;var t,e=hk,r=e.length,n,i="value"in od?od.value:od.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Jv=i.slice(t,1<n?1-n:void 0)}function Qv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function F2(){return!0}function MT(){return!1}function wo(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?F2:MT,this.isPropagationStopped=MT,this}return Yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=F2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=F2)},persist:function(){},isPersistent:F2}),e}var mg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=wo(mg),kw=Yr({},mg,{view:0,detail:0}),Lse=wo(kw),yx,wx,om,M5=Yr({},kw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==om&&(om&&t.type==="mousemove"?(yx=t.screenX-om.screenX,wx=t.screenY-om.screenY):wx=yx=0,om=t),yx)},movementY:function(t){return"movementY"in t?t.movementY:wx}}),DT=wo(M5),Bse=Yr({},M5,{dataTransfer:0}),Use=wo(Bse),zse=Yr({},kw,{relatedTarget:0}),vx=wo(zse),Wse=Yr({},mg,{animationName:0,elapsedTime:0,pseudoElement:0}),Hse=wo(Wse),qse=Yr({},mg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vse=wo(qse),Gse=Yr({},mg,{data:0}),FT=wo(Gse),Kse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jse(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zse[t])?!!e[t]:!1}function pk(){return Jse}var Qse=Yr({},kw,{key:function(t){if(t.key){var e=Kse[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yse[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pk,charCode:function(t){return t.type==="keypress"?Qv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xse=wo(Qse),eoe=Yr({},M5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LT=wo(eoe),toe=Yr({},kw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pk}),roe=wo(toe),noe=Yr({},mg,{propertyName:0,elapsedTime:0,pseudoElement:0}),ioe=wo(noe),soe=Yr({},M5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ooe=wo(soe),aoe=[9,13,27,32],gk=Kc&&"CompositionEvent"in window,p1=null;Kc&&"documentMode"in document&&(p1=document.documentMode);var loe=Kc&&"TextEvent"in window&&!p1,CU=Kc&&(!gk||p1&&8<p1&&11>=p1),BT=" ",UT=!1;function _U(t,e){switch(t){case"keyup":return aoe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jp=!1;function coe(t,e){switch(t){case"compositionend":return AU(e);case"keypress":return e.which!==32?null:(UT=!0,BT);case"textInput":return t=e.data,t===BT&&UT?null:t;default:return null}}function uoe(t,e){if(jp)return t==="compositionend"||!gk&&_U(t,e)?(t=EU(),Jv=hk=od=null,jp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CU&&e.locale!=="ko"?null:e.data;default:return null}}var doe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!doe[t.type]:e==="textarea"}function kU(t,e,r,n){nU(n),e=Zb(e,"onChange"),0<e.length&&(r=new fk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var g1=null,ty=null;function hoe(t){DU(t,0)}function D5(t){var e=Fp(t);if(ZB(e))return t}function foe(t,e){if(t==="change")return e}var $U=!1;if(Kc){var bx;if(Kc){var xx="oninput"in document;if(!xx){var WT=document.createElement("div");WT.setAttribute("oninput","return;"),xx=typeof WT.oninput=="function"}bx=xx}else bx=!1;$U=bx&&(!document.documentMode||9<document.documentMode)}function HT(){g1&&(g1.detachEvent("onpropertychange",SU),ty=g1=null)}function SU(t){if(t.propertyName==="value"&&D5(ty)){var e=[];kU(e,ty,t,ak(t)),aU(hoe,e)}}function poe(t,e,r){t==="focusin"?(HT(),g1=e,ty=r,g1.attachEvent("onpropertychange",SU)):t==="focusout"&&HT()}function goe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return D5(ty)}function moe(t,e){if(t==="click")return D5(e)}function yoe(t,e){if(t==="input"||t==="change")return D5(e)}function woe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ha=typeof Object.is=="function"?Object.is:woe;function ry(t,e){if(Ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$E.call(e,i)||!Ha(t[i],e[i]))return!1}return!0}function qT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VT(t,e){var r=qT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qT(r)}}function IU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TU(){for(var t=window,e=Wb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wb(t.document)}return e}function mk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function voe(t){var e=TU(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&IU(r.ownerDocument.documentElement,r)){if(n!==null&&mk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=VT(r,s);var o=VT(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var boe=Kc&&"documentMode"in document&&11>=document.documentMode,Mp=null,VE=null,m1=null,GE=!1;function GT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;GE||Mp==null||Mp!==Wb(n)||(n=Mp,"selectionStart"in n&&mk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),m1&&ry(m1,n)||(m1=n,n=Zb(VE,"onSelect"),0<n.length&&(e=new fk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mp)))}function L2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dp={animationend:L2("Animation","AnimationEnd"),animationiteration:L2("Animation","AnimationIteration"),animationstart:L2("Animation","AnimationStart"),transitionend:L2("Transition","TransitionEnd")},Ex={},PU={};Kc&&(PU=document.createElement("div").style,"AnimationEvent"in window||(delete Dp.animationend.animation,delete Dp.animationiteration.animation,delete Dp.animationstart.animation),"TransitionEvent"in window||delete Dp.transitionend.transition);function F5(t){if(Ex[t])return Ex[t];if(!Dp[t])return t;var e=Dp[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PU)return Ex[t]=e[r];return t}var NU=F5("animationend"),OU=F5("animationiteration"),RU=F5("animationstart"),jU=F5("transitionend"),MU=new Map,KT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fd(t,e){MU.set(t,e),xf(e,[t])}for(var Cx=0;Cx<KT.length;Cx++){var _x=KT[Cx],xoe=_x.toLowerCase(),Eoe=_x[0].toUpperCase()+_x.slice(1);Fd(xoe,"on"+Eoe)}Fd(NU,"onAnimationEnd");Fd(OU,"onAnimationIteration");Fd(RU,"onAnimationStart");Fd("dblclick","onDoubleClick");Fd("focusin","onFocus");Fd("focusout","onBlur");Fd(jU,"onTransitionEnd");P0("onMouseEnter",["mouseout","mouseover"]);P0("onMouseLeave",["mouseout","mouseover"]);P0("onPointerEnter",["pointerout","pointerover"]);P0("onPointerLeave",["pointerout","pointerover"]);xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Coe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ym));function YT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xse(n,e,void 0,t),t.currentTarget=null}function DU(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;YT(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;YT(i,a,c),s=l}}}if(qb)throw t=zE,qb=!1,zE=null,t}function Nr(t,e){var r=e[QE];r===void 0&&(r=e[QE]=new Set);var n=t+"__bubble";r.has(n)||(FU(e,t,2,!1),r.add(n))}function Ax(t,e,r){var n=0;e&&(n|=4),FU(r,t,n,e)}var B2="_reactListening"+Math.random().toString(36).slice(2);function ny(t){if(!t[B2]){t[B2]=!0,qB.forEach(function(r){r!=="selectionchange"&&(Coe.has(r)||Ax(r,!1,t),Ax(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[B2]||(e[B2]=!0,Ax("selectionchange",!1,e))}}function FU(t,e,r,n){switch(xU(e)){case 1:var i=Dse;break;case 4:i=Fse;break;default:i=dk}r=i.bind(null,e,r,t),i=void 0,!UE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function kx(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ch(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}aU(function(){var c=s,u=ak(r),h=[];e:{var f=MU.get(t);if(f!==void 0){var p=fk,g=t;switch(t){case"keypress":if(Qv(r)===0)break e;case"keydown":case"keyup":p=Xse;break;case"focusin":g="focus",p=vx;break;case"focusout":g="blur",p=vx;break;case"beforeblur":case"afterblur":p=vx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Use;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=roe;break;case NU:case OU:case RU:p=Hse;break;case jU:p=ioe;break;case"scroll":p=Lse;break;case"wheel":p=ooe;break;case"copy":case"cut":case"paste":p=Vse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=LT}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,v;b!==null;){v=b;var A=v.stateNode;if(v.tag===5&&A!==null&&(v=A,y!==null&&(A=J1(b,y),A!=null&&m.push(iy(b,A,v)))),w)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==LE&&(g=r.relatedTarget||r.fromElement)&&(Ch(g)||g[Yc]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ch(g):null,g!==null&&(w=Ef(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=DT,A="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=LT,A="onPointerLeave",y="onPointerEnter",b="pointer"),w=p==null?f:Fp(p),v=g==null?f:Fp(g),f=new m(A,b+"leave",p,r,u),f.target=w,f.relatedTarget=v,A=null,Ch(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=v,m.relatedTarget=w,A=m),w=A,p&&g)t:{for(m=p,y=g,b=0,v=m;v;v=Vf(v))b++;for(v=0,A=y;A;A=Vf(A))v++;for(;0<b-v;)m=Vf(m),b--;for(;0<v-b;)y=Vf(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Vf(m),y=Vf(y)}m=null}else m=null;p!==null&&ZT(h,f,p,m,!1),g!==null&&w!==null&&ZT(h,w,g,m,!0)}}e:{if(f=c?Fp(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=foe;else if(zT(f))if($U)E=yoe;else{E=goe;var O=poe}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=moe);if(E&&(E=E(t,c))){kU(h,E,r,u);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&RE(f,"number",f.value)}switch(O=c?Fp(c):window,t){case"focusin":(zT(O)||O.contentEditable==="true")&&(Mp=O,VE=c,m1=null);break;case"focusout":m1=VE=Mp=null;break;case"mousedown":GE=!0;break;case"contextmenu":case"mouseup":case"dragend":GE=!1,GT(h,r,u);break;case"selectionchange":if(boe)break;case"keydown":case"keyup":GT(h,r,u)}var N;if(gk)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else jp?_U(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(CU&&r.locale!=="ko"&&(jp||R!=="onCompositionStart"?R==="onCompositionEnd"&&jp&&(N=EU()):(od=u,hk="value"in od?od.value:od.textContent,jp=!0)),O=Zb(c,R),0<O.length&&(R=new FT(R,t,null,r,u),h.push({event:R,listeners:O}),N?R.data=N:(N=AU(r),N!==null&&(R.data=N)))),(N=loe?coe(t,r):uoe(t,r))&&(c=Zb(c,"onBeforeInput"),0<c.length&&(u=new FT("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=N))}DU(h,e)})}function iy(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zb(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=J1(t,r),s!=null&&n.unshift(iy(t,s,i)),s=J1(t,e),s!=null&&n.push(iy(t,s,i))),t=t.return}return n}function Vf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZT(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=J1(r,s),l!=null&&o.unshift(iy(r,l,a))):i||(l=J1(r,s),l!=null&&o.push(iy(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var _oe=/\r\n?/g,Aoe=/\u0000|\uFFFD/g;function JT(t){return(typeof t=="string"?t:""+t).replace(_oe,`
`).replace(Aoe,"")}function U2(t,e,r){if(e=JT(e),JT(t)!==e&&r)throw Error(ke(425))}function Jb(){}var KE=null,YE=null;function ZE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var JE=typeof setTimeout=="function"?setTimeout:void 0,koe=typeof clearTimeout=="function"?clearTimeout:void 0,QT=typeof Promise=="function"?Promise:void 0,$oe=typeof queueMicrotask=="function"?queueMicrotask:typeof QT<"u"?function(t){return QT.resolve(null).then(t).catch(Soe)}:JE;function Soe(t){setTimeout(function(){throw t})}function $x(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ey(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ey(e)}function gd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yg=Math.random().toString(36).slice(2),Pl="__reactFiber$"+yg,sy="__reactProps$"+yg,Yc="__reactContainer$"+yg,QE="__reactEvents$"+yg,Ioe="__reactListeners$"+yg,Toe="__reactHandles$"+yg;function Ch(t){var e=t[Pl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yc]||r[Pl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=XT(t);t!==null;){if(r=t[Pl])return r;t=XT(t)}return e}t=r,r=t.parentNode}return null}function $w(t){return t=t[Pl]||t[Yc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function L5(t){return t[sy]||null}var XE=[],Lp=-1;function Ld(t){return{current:t}}function Dr(t){0>Lp||(t.current=XE[Lp],XE[Lp]=null,Lp--)}function Ir(t,e){Lp++,XE[Lp]=t.current,t.current=e}var kd={},Fi=Ld(kd),$s=Ld(!1),Kh=kd;function N0(t,e){var r=t.type.contextTypes;if(!r)return kd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ss(t){return t=t.childContextTypes,t!=null}function Qb(){Dr($s),Dr(Fi)}function eP(t,e,r){if(Fi.current!==kd)throw Error(ke(168));Ir(Fi,e),Ir($s,r)}function LU(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ke(108,pse(t)||"Unknown",i));return Yr({},r,n)}function Xb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kd,Kh=Fi.current,Ir(Fi,t),Ir($s,$s.current),!0}function tP(t,e,r){var n=t.stateNode;if(!n)throw Error(ke(169));r?(t=LU(t,e,Kh),n.__reactInternalMemoizedMergedChildContext=t,Dr($s),Dr(Fi),Ir(Fi,t)):Dr($s),Ir($s,r)}var Sc=null,B5=!1,Sx=!1;function BU(t){Sc===null?Sc=[t]:Sc.push(t)}function Poe(t){B5=!0,BU(t)}function Bd(){if(!Sx&&Sc!==null){Sx=!0;var t=0,e=mr;try{var r=Sc;for(mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Sc=null,B5=!1}catch(i){throw Sc!==null&&(Sc=Sc.slice(t+1)),dU(lk,Bd),i}finally{mr=e,Sx=!1}}return null}var Bp=[],Up=0,e3=null,t3=0,Uo=[],zo=0,Yh=null,Mc=1,Dc="";function uh(t,e){Bp[Up++]=t3,Bp[Up++]=e3,e3=t,t3=e}function UU(t,e,r){Uo[zo++]=Mc,Uo[zo++]=Dc,Uo[zo++]=Yh,Yh=t;var n=Mc;t=Dc;var i=32-Fa(n)-1;n&=~(1<<i),r+=1;var s=32-Fa(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Mc=1<<32-Fa(e)+i|r<<i|n,Dc=s+t}else Mc=1<<s|r<<i|n,Dc=t}function yk(t){t.return!==null&&(uh(t,1),UU(t,1,0))}function wk(t){for(;t===e3;)e3=Bp[--Up],Bp[Up]=null,t3=Bp[--Up],Bp[Up]=null;for(;t===Yh;)Yh=Uo[--zo],Uo[zo]=null,Dc=Uo[--zo],Uo[zo]=null,Mc=Uo[--zo],Uo[zo]=null}var ao=null,so=null,Wr=!1,Pa=null;function zU(t,e){var r=Vo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ao=t,so=gd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ao=t,so=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yh!==null?{id:Mc,overflow:Dc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ao=t,so=null,!0):!1;default:return!1}}function e7(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t7(t){if(Wr){var e=so;if(e){var r=e;if(!rP(t,e)){if(e7(t))throw Error(ke(418));e=gd(r.nextSibling);var n=ao;e&&rP(t,e)?zU(n,r):(t.flags=t.flags&-4097|2,Wr=!1,ao=t)}}else{if(e7(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Wr=!1,ao=t}}}function nP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ao=t}function z2(t){if(t!==ao)return!1;if(!Wr)return nP(t),Wr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ZE(t.type,t.memoizedProps)),e&&(e=so)){if(e7(t))throw WU(),Error(ke(418));for(;e;)zU(t,e),e=gd(e.nextSibling)}if(nP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){so=gd(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}so=null}}else so=ao?gd(t.stateNode.nextSibling):null;return!0}function WU(){for(var t=so;t;)t=gd(t.nextSibling)}function O0(){so=ao=null,Wr=!1}function vk(t){Pa===null?Pa=[t]:Pa.push(t)}var Noe=fu.ReactCurrentBatchConfig;function am(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var n=r.stateNode}if(!n)throw Error(ke(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,t))}return t}function W2(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iP(t){var e=t._init;return e(t._payload)}function HU(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=vd(y,b),y.index=0,y.sibling=null,y}function s(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,v,A){return b===null||b.tag!==6?(b=jx(v,y.mode,A),b.return=y,b):(b=i(b,v),b.return=y,b)}function l(y,b,v,A){var E=v.type;return E===Rp?u(y,b,v.props.children,A,v.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wu&&iP(E)===b.type)?(A=i(b,v.props),A.ref=am(y,b,v),A.return=y,A):(A=sb(v.type,v.key,v.props,null,y.mode,A),A.ref=am(y,b,v),A.return=y,A)}function c(y,b,v,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Mx(v,y.mode,A),b.return=y,b):(b=i(b,v.children||[]),b.return=y,b)}function u(y,b,v,A,E){return b===null||b.tag!==7?(b=Dh(v,y.mode,A,E),b.return=y,b):(b=i(b,v),b.return=y,b)}function h(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jx(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case N2:return v=sb(b.type,b.key,b.props,null,y.mode,v),v.ref=am(y,null,b),v.return=y,v;case Op:return b=Mx(b,y.mode,v),b.return=y,b;case Wu:var A=b._init;return h(y,A(b._payload),v)}if(Gm(b)||rm(b))return b=Dh(b,y.mode,v,null),b.return=y,b;W2(y,b)}return null}function f(y,b,v,A){var E=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,b,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case N2:return v.key===E?l(y,b,v,A):null;case Op:return v.key===E?c(y,b,v,A):null;case Wu:return E=v._init,f(y,b,E(v._payload),A)}if(Gm(v)||rm(v))return E!==null?null:u(y,b,v,A,null);W2(y,v)}return null}function p(y,b,v,A,E){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(v)||null,a(b,y,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N2:return y=y.get(A.key===null?v:A.key)||null,l(b,y,A,E);case Op:return y=y.get(A.key===null?v:A.key)||null,c(b,y,A,E);case Wu:var O=A._init;return p(y,b,v,O(A._payload),E)}if(Gm(A)||rm(A))return y=y.get(v)||null,u(b,y,A,E,null);W2(b,A)}return null}function g(y,b,v,A){for(var E=null,O=null,N=b,R=b=0,T=null;N!==null&&R<v.length;R++){N.index>R?(T=N,N=null):T=N.sibling;var L=f(y,N,v[R],A);if(L===null){N===null&&(N=T);break}t&&N&&L.alternate===null&&e(y,N),b=s(L,b,R),O===null?E=L:O.sibling=L,O=L,N=T}if(R===v.length)return r(y,N),Wr&&uh(y,R),E;if(N===null){for(;R<v.length;R++)N=h(y,v[R],A),N!==null&&(b=s(N,b,R),O===null?E=N:O.sibling=N,O=N);return Wr&&uh(y,R),E}for(N=n(y,N);R<v.length;R++)T=p(N,y,R,v[R],A),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?R:T.key),b=s(T,b,R),O===null?E=T:O.sibling=T,O=T);return t&&N.forEach(function(B){return e(y,B)}),Wr&&uh(y,R),E}function m(y,b,v,A){var E=rm(v);if(typeof E!="function")throw Error(ke(150));if(v=E.call(v),v==null)throw Error(ke(151));for(var O=E=null,N=b,R=b=0,T=null,L=v.next();N!==null&&!L.done;R++,L=v.next()){N.index>R?(T=N,N=null):T=N.sibling;var B=f(y,N,L.value,A);if(B===null){N===null&&(N=T);break}t&&N&&B.alternate===null&&e(y,N),b=s(B,b,R),O===null?E=B:O.sibling=B,O=B,N=T}if(L.done)return r(y,N),Wr&&uh(y,R),E;if(N===null){for(;!L.done;R++,L=v.next())L=h(y,L.value,A),L!==null&&(b=s(L,b,R),O===null?E=L:O.sibling=L,O=L);return Wr&&uh(y,R),E}for(N=n(y,N);!L.done;R++,L=v.next())L=p(N,y,R,L.value,A),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?R:L.key),b=s(L,b,R),O===null?E=L:O.sibling=L,O=L);return t&&N.forEach(function(W){return e(y,W)}),Wr&&uh(y,R),E}function w(y,b,v,A){if(typeof v=="object"&&v!==null&&v.type===Rp&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case N2:e:{for(var E=v.key,O=b;O!==null;){if(O.key===E){if(E=v.type,E===Rp){if(O.tag===7){r(y,O.sibling),b=i(O,v.props.children),b.return=y,y=b;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wu&&iP(E)===O.type){r(y,O.sibling),b=i(O,v.props),b.ref=am(y,O,v),b.return=y,y=b;break e}r(y,O);break}else e(y,O);O=O.sibling}v.type===Rp?(b=Dh(v.props.children,y.mode,A,v.key),b.return=y,y=b):(A=sb(v.type,v.key,v.props,null,y.mode,A),A.ref=am(y,b,v),A.return=y,y=A)}return o(y);case Op:e:{for(O=v.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(y,b.sibling),b=i(b,v.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=Mx(v,y.mode,A),b.return=y,y=b}return o(y);case Wu:return O=v._init,w(y,b,O(v._payload),A)}if(Gm(v))return g(y,b,v,A);if(rm(v))return m(y,b,v,A);W2(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,v),b.return=y,y=b):(r(y,b),b=jx(v,y.mode,A),b.return=y,y=b),o(y)):r(y,b)}return w}var R0=HU(!0),qU=HU(!1),r3=Ld(null),n3=null,zp=null,bk=null;function xk(){bk=zp=n3=null}function Ek(t){var e=r3.current;Dr(r3),t._currentValue=e}function r7(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function c0(t,e){n3=t,bk=zp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cs=!0),t.firstContext=null)}function Zo(t){var e=t._currentValue;if(bk!==t)if(t={context:t,memoizedValue:e,next:null},zp===null){if(n3===null)throw Error(ke(308));zp=t,n3.dependencies={lanes:0,firstContext:t}}else zp=zp.next=t;return e}var _h=null;function Ck(t){_h===null?_h=[t]:_h.push(t)}function VU(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ck(e)):(r.next=i.next,i.next=r),e.interleaved=r,Zc(t,n)}function Zc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hu=!1;function _k(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Uc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function md(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Zc(t,r)}return i=n.interleaved,i===null?(e.next=e,Ck(n)):(e.next=i.next,i.next=e),n.interleaved=e,Zc(t,r)}function Xv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ck(t,r)}}function sP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function i3(t,e,r,n){var i=t.updateQueue;Hu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Yr({},h,f);break e;case 2:Hu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jh|=o,t.lanes=o,t.memoizedState=h}}function oP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ke(191,i));i.call(n)}}}var Sw={},Dl=Ld(Sw),oy=Ld(Sw),ay=Ld(Sw);function Ah(t){if(t===Sw)throw Error(ke(174));return t}function Ak(t,e){switch(Ir(ay,e),Ir(oy,t),Ir(Dl,Sw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ME(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ME(e,t)}Dr(Dl),Ir(Dl,e)}function j0(){Dr(Dl),Dr(oy),Dr(ay)}function KU(t){Ah(ay.current);var e=Ah(Dl.current),r=ME(e,t.type);e!==r&&(Ir(oy,t),Ir(Dl,r))}function kk(t){oy.current===t&&(Dr(Dl),Dr(oy))}var Gr=Ld(0);function s3(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ix=[];function $k(){for(var t=0;t<Ix.length;t++)Ix[t]._workInProgressVersionPrimary=null;Ix.length=0}var eb=fu.ReactCurrentDispatcher,Tx=fu.ReactCurrentBatchConfig,Zh=0,Kr=null,Sn=null,Un=null,o3=!1,y1=!1,ly=0,Ooe=0;function gi(){throw Error(ke(321))}function Sk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ha(t[r],e[r]))return!1;return!0}function Ik(t,e,r,n,i,s){if(Zh=s,Kr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eb.current=t===null||t.memoizedState===null?Doe:Foe,t=r(n,i),y1){s=0;do{if(y1=!1,ly=0,25<=s)throw Error(ke(301));s+=1,Un=Sn=null,e.updateQueue=null,eb.current=Loe,t=r(n,i)}while(y1)}if(eb.current=a3,e=Sn!==null&&Sn.next!==null,Zh=0,Un=Sn=Kr=null,o3=!1,e)throw Error(ke(300));return t}function Tk(){var t=ly!==0;return ly=0,t}function El(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Kr.memoizedState=Un=t:Un=Un.next=t,Un}function Jo(){if(Sn===null){var t=Kr.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var e=Un===null?Kr.memoizedState:Un.next;if(e!==null)Un=e,Sn=t;else{if(t===null)throw Error(ke(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Un===null?Kr.memoizedState=Un=t:Un=Un.next=t}return Un}function cy(t,e){return typeof e=="function"?e(t):e}function Px(t){var e=Jo(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=Sn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Zh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Kr.lanes|=u,Jh|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Ha(n,e.memoizedState)||(Cs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Kr.lanes|=s,Jh|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nx(t){var e=Jo(),r=e.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ha(s,e.memoizedState)||(Cs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function YU(){}function ZU(t,e){var r=Kr,n=Jo(),i=e(),s=!Ha(n.memoizedState,i);if(s&&(n.memoizedState=i,Cs=!0),n=n.queue,Pk(XU.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(r.flags|=2048,uy(9,QU.bind(null,r,n,i,e),void 0,null),Hn===null)throw Error(ke(349));Zh&30||JU(r,e,i)}return i}function JU(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QU(t,e,r,n){e.value=r,e.getSnapshot=n,ez(e)&&tz(t)}function XU(t,e,r){return r(function(){ez(e)&&tz(t)})}function ez(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ha(t,r)}catch{return!0}}function tz(t){var e=Zc(t,1);e!==null&&La(e,t,1,-1)}function aP(t){var e=El();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:t},e.queue=t,t=t.dispatch=Moe.bind(null,Kr,t),[e.memoizedState,t]}function uy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kr.updateQueue,e===null?(e={lastEffect:null,stores:null},Kr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rz(){return Jo().memoizedState}function tb(t,e,r,n){var i=El();Kr.flags|=t,i.memoizedState=uy(1|e,r,void 0,n===void 0?null:n)}function U5(t,e,r,n){var i=Jo();n=n===void 0?null:n;var s=void 0;if(Sn!==null){var o=Sn.memoizedState;if(s=o.destroy,n!==null&&Sk(n,o.deps)){i.memoizedState=uy(e,r,s,n);return}}Kr.flags|=t,i.memoizedState=uy(1|e,r,s,n)}function lP(t,e){return tb(8390656,8,t,e)}function Pk(t,e){return U5(2048,8,t,e)}function nz(t,e){return U5(4,2,t,e)}function iz(t,e){return U5(4,4,t,e)}function sz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oz(t,e,r){return r=r!=null?r.concat([t]):null,U5(4,4,sz.bind(null,e,t),r)}function Nk(){}function az(t,e){var r=Jo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lz(t,e){var r=Jo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Sk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cz(t,e,r){return Zh&21?(Ha(r,e)||(r=pU(),Kr.lanes|=r,Jh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cs=!0),t.memoizedState=r)}function Roe(t,e){var r=mr;mr=r!==0&&4>r?r:4,t(!0);var n=Tx.transition;Tx.transition={};try{t(!1),e()}finally{mr=r,Tx.transition=n}}function uz(){return Jo().memoizedState}function joe(t,e,r){var n=wd(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dz(t))hz(e,r);else if(r=VU(t,e,r,n),r!==null){var i=es();La(r,t,n,i),fz(r,e,n)}}function Moe(t,e,r){var n=wd(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dz(t))hz(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ha(a,o)){var l=e.interleaved;l===null?(i.next=i,Ck(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=VU(t,e,i,n),r!==null&&(i=es(),La(r,t,n,i),fz(r,e,n))}}function dz(t){var e=t.alternate;return t===Kr||e!==null&&e===Kr}function hz(t,e){y1=o3=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function fz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ck(t,r)}}var a3={readContext:Zo,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Doe={readContext:Zo,useCallback:function(t,e){return El().memoizedState=[t,e===void 0?null:e],t},useContext:Zo,useEffect:lP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tb(4194308,4,sz.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tb(4194308,4,t,e)},useInsertionEffect:function(t,e){return tb(4,2,t,e)},useMemo:function(t,e){var r=El();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=El();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=joe.bind(null,Kr,t),[n.memoizedState,t]},useRef:function(t){var e=El();return t={current:t},e.memoizedState=t},useState:aP,useDebugValue:Nk,useDeferredValue:function(t){return El().memoizedState=t},useTransition:function(){var t=aP(!1),e=t[0];return t=Roe.bind(null,t[1]),El().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kr,i=El();if(Wr){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=e(),Hn===null)throw Error(ke(349));Zh&30||JU(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,lP(XU.bind(null,n,s,t),[t]),n.flags|=2048,uy(9,QU.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=El(),e=Hn.identifierPrefix;if(Wr){var r=Dc,n=Mc;r=(n&~(1<<32-Fa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ly++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ooe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Foe={readContext:Zo,useCallback:az,useContext:Zo,useEffect:Pk,useImperativeHandle:oz,useInsertionEffect:nz,useLayoutEffect:iz,useMemo:lz,useReducer:Px,useRef:rz,useState:function(){return Px(cy)},useDebugValue:Nk,useDeferredValue:function(t){var e=Jo();return cz(e,Sn.memoizedState,t)},useTransition:function(){var t=Px(cy)[0],e=Jo().memoizedState;return[t,e]},useMutableSource:YU,useSyncExternalStore:ZU,useId:uz,unstable_isNewReconciler:!1},Loe={readContext:Zo,useCallback:az,useContext:Zo,useEffect:Pk,useImperativeHandle:oz,useInsertionEffect:nz,useLayoutEffect:iz,useMemo:lz,useReducer:Nx,useRef:rz,useState:function(){return Nx(cy)},useDebugValue:Nk,useDeferredValue:function(t){var e=Jo();return Sn===null?e.memoizedState=t:cz(e,Sn.memoizedState,t)},useTransition:function(){var t=Nx(cy)[0],e=Jo().memoizedState;return[t,e]},useMutableSource:YU,useSyncExternalStore:ZU,useId:uz,unstable_isNewReconciler:!1};function $a(t,e){if(t&&t.defaultProps){e=Yr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function n7(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Yr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z5={isMounted:function(t){return(t=t._reactInternals)?Ef(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=es(),i=wd(t),s=Uc(n,i);s.payload=e,r!=null&&(s.callback=r),e=md(t,s,i),e!==null&&(La(e,t,i,n),Xv(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=es(),i=wd(t),s=Uc(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=md(t,s,i),e!==null&&(La(e,t,i,n),Xv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=es(),n=wd(t),i=Uc(r,n);i.tag=2,e!=null&&(i.callback=e),e=md(t,i,n),e!==null&&(La(e,t,n,r),Xv(e,t,n))}};function cP(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!ry(r,n)||!ry(i,s):!0}function pz(t,e,r){var n=!1,i=kd,s=e.contextType;return typeof s=="object"&&s!==null?s=Zo(s):(i=Ss(e)?Kh:Fi.current,n=e.contextTypes,s=(n=n!=null)?N0(t,i):kd),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&z5.enqueueReplaceState(e,e.state,null)}function i7(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},_k(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zo(s):(s=Ss(e)?Kh:Fi.current,i.context=N0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(n7(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z5.enqueueReplaceState(i,i.state,null),i3(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function M0(t,e){try{var r="",n=e;do r+=fse(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ox(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function s7(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Boe=typeof WeakMap=="function"?WeakMap:Map;function gz(t,e,r){r=Uc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){c3||(c3=!0,g7=n),s7(t,e)},r}function mz(t,e,r){r=Uc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){s7(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){s7(t,e),typeof n!="function"&&(yd===null?yd=new Set([this]):yd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function dP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Boe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=eae.bind(null,t,e,r),e.then(t,t))}function hP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Uc(-1,1),e.tag=2,md(r,e,1))),r.lanes|=1),t)}var Uoe=fu.ReactCurrentOwner,Cs=!1;function Hi(t,e,r,n){e.child=t===null?qU(e,null,r,n):R0(e,t.child,r,n)}function pP(t,e,r,n,i){r=r.render;var s=e.ref;return c0(e,i),n=Ik(t,e,r,n,s,i),r=Tk(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jc(t,e,i)):(Wr&&r&&yk(e),e.flags|=1,Hi(t,e,n,i),e.child)}function gP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Bk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,yz(t,e,s,n,i)):(t=sb(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ry,r(o,n)&&t.ref===e.ref)return Jc(t,e,i)}return e.flags|=1,t=vd(s,n),t.ref=e.ref,t.return=e,e.child=t}function yz(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ry(s,n)&&t.ref===e.ref)if(Cs=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Cs=!0);else return e.lanes=t.lanes,Jc(t,e,i)}return o7(t,e,r,n,i)}function wz(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Hp,Js),Js|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ir(Hp,Js),Js|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ir(Hp,Js),Js|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ir(Hp,Js),Js|=n;return Hi(t,e,i,r),e.child}function vz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function o7(t,e,r,n,i){var s=Ss(r)?Kh:Fi.current;return s=N0(e,s),c0(e,i),r=Ik(t,e,r,n,s,i),n=Tk(),t!==null&&!Cs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jc(t,e,i)):(Wr&&n&&yk(e),e.flags|=1,Hi(t,e,r,i),e.child)}function mP(t,e,r,n,i){if(Ss(r)){var s=!0;Xb(e)}else s=!1;if(c0(e,i),e.stateNode===null)rb(t,e),pz(e,r,n),i7(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Zo(c):(c=Ss(r)?Kh:Fi.current,c=N0(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&uP(e,o,n,c),Hu=!1;var f=e.memoizedState;o.state=f,i3(e,n,o,i),l=e.memoizedState,a!==n||f!==l||$s.current||Hu?(typeof u=="function"&&(n7(e,r,u,n),l=e.memoizedState),(a=Hu||cP(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,GU(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$a(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zo(l):(l=Ss(r)?Kh:Fi.current,l=N0(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&uP(e,o,n,l),Hu=!1,f=e.memoizedState,o.state=f,i3(e,n,o,i);var g=e.memoizedState;a!==h||f!==g||$s.current||Hu?(typeof p=="function"&&(n7(e,r,p,n),g=e.memoizedState),(c=Hu||cP(e,r,c,n,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return a7(t,e,r,n,s,i)}function a7(t,e,r,n,i,s){vz(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&tP(e,r,!1),Jc(t,e,s);n=e.stateNode,Uoe.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=R0(e,t.child,null,s),e.child=R0(e,null,a,s)):Hi(t,e,a,s),e.memoizedState=n.state,i&&tP(e,r,!0),e.child}function bz(t){var e=t.stateNode;e.pendingContext?eP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eP(t,e.context,!1),Ak(t,e.containerInfo)}function yP(t,e,r,n,i){return O0(),vk(i),e.flags|=256,Hi(t,e,r,n),e.child}var l7={dehydrated:null,treeContext:null,retryLane:0};function c7(t){return{baseLanes:t,cachePool:null,transitions:null}}function xz(t,e,r){var n=e.pendingProps,i=Gr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ir(Gr,i&1),t===null)return t7(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=q5(o,n,0,null),t=Dh(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=c7(r),e.memoizedState=l7,t):Ok(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zoe(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=vd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vd(a,s):(s=Dh(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?c7(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=l7,n}return s=t.child,t=s.sibling,n=vd(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ok(t,e){return e=q5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function H2(t,e,r,n){return n!==null&&vk(n),R0(e,t.child,null,r),t=Ok(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zoe(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Ox(Error(ke(422))),H2(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=q5({mode:"visible",children:n.children},i,0,null),s=Dh(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&R0(e,t.child,null,o),e.child.memoizedState=c7(o),e.memoizedState=l7,s);if(!(e.mode&1))return H2(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ke(419)),n=Ox(s,n,void 0),H2(t,e,o,n)}if(a=(o&t.childLanes)!==0,Cs||a){if(n=Hn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zc(t,i),La(n,t,i,-1))}return Lk(),n=Ox(Error(ke(421))),H2(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tae.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,so=gd(i.nextSibling),ao=e,Wr=!0,Pa=null,t!==null&&(Uo[zo++]=Mc,Uo[zo++]=Dc,Uo[zo++]=Yh,Mc=t.id,Dc=t.overflow,Yh=e),e=Ok(e,n.children),e.flags|=4096,e)}function wP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),r7(t.return,e,r)}function Rx(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ez(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Hi(t,e,n.children,r),n=Gr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wP(t,r,e);else if(t.tag===19)wP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ir(Gr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&s3(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Rx(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&s3(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Rx(e,!0,r,null,s);break;case"together":Rx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,r=vd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Woe(t,e,r){switch(e.tag){case 3:bz(e),O0();break;case 5:KU(e);break;case 1:Ss(e.type)&&Xb(e);break;case 4:Ak(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ir(r3,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ir(Gr,Gr.current&1),e.flags|=128,null):r&e.child.childLanes?xz(t,e,r):(Ir(Gr,Gr.current&1),t=Jc(t,e,r),t!==null?t.sibling:null);Ir(Gr,Gr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ez(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ir(Gr,Gr.current),n)break;return null;case 22:case 23:return e.lanes=0,wz(t,e,r)}return Jc(t,e,r)}var Cz,u7,_z,Az;Cz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};u7=function(){};_z=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ah(Dl.current);var s=null;switch(r){case"input":i=NE(t,i),n=NE(t,n),s=[];break;case"select":i=Yr({},i,{value:void 0}),n=Yr({},n,{value:void 0}),s=[];break;case"textarea":i=jE(t,i),n=jE(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Jb)}DE(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Y1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Y1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Az=function(t,e,r,n){r!==n&&(e.flags|=4)};function lm(t,e){if(!Wr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hoe(t,e,r){var n=e.pendingProps;switch(wk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return Ss(e.type)&&Qb(),mi(e),null;case 3:return n=e.stateNode,j0(),Dr($s),Dr(Fi),$k(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(z2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pa!==null&&(w7(Pa),Pa=null))),u7(t,e),mi(e),null;case 5:kk(e);var i=Ah(ay.current);if(r=e.type,t!==null&&e.stateNode!=null)_z(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return mi(e),null}if(t=Ah(Dl.current),z2(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Pl]=e,n[sy]=s,t=(e.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(i=0;i<Ym.length;i++)Nr(Ym[i],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":$T(n,s),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",n);break;case"textarea":IT(n,s),Nr("invalid",n)}DE(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&U2(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&U2(n.textContent,a,t),i=["children",""+a]):Y1.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nr("scroll",n)}switch(r){case"input":O2(n),ST(n,s,!0);break;case"textarea":O2(n),TT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XB(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Pl]=e,t[sy]=n,Cz(t,e,!1,!1),e.stateNode=t;e:{switch(o=FE(r,n),r){case"dialog":Nr("cancel",t),Nr("close",t),i=n;break;case"iframe":case"object":case"embed":Nr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ym.length;i++)Nr(Ym[i],t);i=n;break;case"source":Nr("error",t),i=n;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),i=n;break;case"details":Nr("toggle",t),i=n;break;case"input":$T(t,n),i=NE(t,n),Nr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Yr({},n,{value:void 0}),Nr("invalid",t);break;case"textarea":IT(t,n),i=jE(t,n),Nr("invalid",t);break;default:i=n}DE(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rU(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eU(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Z1(t,l):typeof l=="number"&&Z1(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Y1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nr("scroll",t):l!=null&&nk(t,s,l,o))}switch(r){case"input":O2(t),ST(t,n,!1);break;case"textarea":O2(t),TT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ad(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?s0(t,!!n.multiple,s,!1):n.defaultValue!=null&&s0(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(t&&e.stateNode!=null)Az(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(r=Ah(ay.current),Ah(Dl.current),z2(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pl]=e,(s=n.nodeValue!==r)&&(t=ao,t!==null))switch(t.tag){case 3:U2(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&U2(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pl]=e,e.stateNode=n}return mi(e),null;case 13:if(Dr(Gr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wr&&so!==null&&e.mode&1&&!(e.flags&128))WU(),O0(),e.flags|=98560,s=!1;else if(s=z2(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[Pl]=e}else O0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else Pa!==null&&(w7(Pa),Pa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Gr.current&1?Pn===0&&(Pn=3):Lk())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return j0(),u7(t,e),t===null&&ny(e.stateNode.containerInfo),mi(e),null;case 10:return Ek(e.type._context),mi(e),null;case 17:return Ss(e.type)&&Qb(),mi(e),null;case 19:if(Dr(Gr),s=e.memoizedState,s===null)return mi(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)lm(s,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=s3(t),o!==null){for(e.flags|=128,lm(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ir(Gr,Gr.current&1|2),e.child}t=t.sibling}s.tail!==null&&dn()>D0&&(e.flags|=128,n=!0,lm(s,!1),e.lanes=4194304)}else{if(!n)if(t=s3(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Wr)return mi(e),null}else 2*dn()-s.renderingStartTime>D0&&r!==1073741824&&(e.flags|=128,n=!0,lm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dn(),e.sibling=null,r=Gr.current,Ir(Gr,n?r&1|2:r&1),e):(mi(e),null);case 22:case 23:return Fk(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Js&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function qoe(t,e){switch(wk(e),e.tag){case 1:return Ss(e.type)&&Qb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return j0(),Dr($s),Dr(Fi),$k(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kk(e),null;case 13:if(Dr(Gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));O0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dr(Gr),null;case 4:return j0(),null;case 10:return Ek(e.type._context),null;case 22:case 23:return Fk(),null;case 24:return null;default:return null}}var q2=!1,Ti=!1,Voe=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Wp(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qr(t,e,n)}else r.current=null}function d7(t,e,r){try{r()}catch(n){Qr(t,e,n)}}var vP=!1;function Goe(t,e){if(KE=Kb,t=TU(),mk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(a=o),f===s&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(YE={focusedElem:t,selectionRange:r},Kb=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:$a(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(A){Qr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=vP,vP=!1,g}function w1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&d7(e,r,s)}i=i.next}while(i!==n)}}function W5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function h7(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kz(t){var e=t.alternate;e!==null&&(t.alternate=null,kz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pl],delete e[sy],delete e[QE],delete e[Ioe],delete e[Toe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $z(t){return t.tag===5||t.tag===3||t.tag===4}function bP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$z(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f7(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Jb));else if(n!==4&&(t=t.child,t!==null))for(f7(t,e,r),t=t.sibling;t!==null;)f7(t,e,r),t=t.sibling}function p7(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(p7(t,e,r),t=t.sibling;t!==null;)p7(t,e,r),t=t.sibling}var ei=null,Ta=!1;function bu(t,e,r){for(r=r.child;r!==null;)Sz(t,e,r),r=r.sibling}function Sz(t,e,r){if(Ml&&typeof Ml.onCommitFiberUnmount=="function")try{Ml.onCommitFiberUnmount(j5,r)}catch{}switch(r.tag){case 5:Ti||Wp(r,e);case 6:var n=ei,i=Ta;ei=null,bu(t,e,r),ei=n,Ta=i,ei!==null&&(Ta?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(Ta?(t=ei,r=r.stateNode,t.nodeType===8?$x(t.parentNode,r):t.nodeType===1&&$x(t,r),ey(t)):$x(ei,r.stateNode));break;case 4:n=ei,i=Ta,ei=r.stateNode.containerInfo,Ta=!0,bu(t,e,r),ei=n,Ta=i;break;case 0:case 11:case 14:case 15:if(!Ti&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&d7(r,e,o),i=i.next}while(i!==n)}bu(t,e,r);break;case 1:if(!Ti&&(Wp(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Qr(r,e,a)}bu(t,e,r);break;case 21:bu(t,e,r);break;case 22:r.mode&1?(Ti=(n=Ti)||r.memoizedState!==null,bu(t,e,r),Ti=n):bu(t,e,r);break;default:bu(t,e,r)}}function xP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Voe),e.forEach(function(n){var i=rae.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ga(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,Ta=!1;break e;case 3:ei=a.stateNode.containerInfo,Ta=!0;break e;case 4:ei=a.stateNode.containerInfo,Ta=!0;break e}a=a.return}if(ei===null)throw Error(ke(160));Sz(s,o,i),ei=null,Ta=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Iz(e,t),e=e.sibling}function Iz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ga(e,t),ll(t),n&4){try{w1(3,t,t.return),W5(3,t)}catch(m){Qr(t,t.return,m)}try{w1(5,t,t.return)}catch(m){Qr(t,t.return,m)}}break;case 1:ga(e,t),ll(t),n&512&&r!==null&&Wp(r,r.return);break;case 5:if(ga(e,t),ll(t),n&512&&r!==null&&Wp(r,r.return),t.flags&32){var i=t.stateNode;try{Z1(i,"")}catch(m){Qr(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JB(i,s),FE(a,o);var c=FE(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?rU(i,h):u==="dangerouslySetInnerHTML"?eU(i,h):u==="children"?Z1(i,h):nk(i,u,h,c)}switch(a){case"input":OE(i,s);break;case"textarea":QB(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?s0(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?s0(i,!!s.multiple,s.defaultValue,!0):s0(i,!!s.multiple,s.multiple?[]:"",!1))}i[sy]=s}catch(m){Qr(t,t.return,m)}}break;case 6:if(ga(e,t),ll(t),n&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Qr(t,t.return,m)}}break;case 3:if(ga(e,t),ll(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ey(e.containerInfo)}catch(m){Qr(t,t.return,m)}break;case 4:ga(e,t),ll(t);break;case 13:ga(e,t),ll(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mk=dn())),n&4&&xP(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ti=(c=Ti)||u,ga(e,t),Ti=c):ga(e,t),ll(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(h=Ye=u;Ye!==null;){switch(f=Ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:w1(4,f,f.return);break;case 1:Wp(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Qr(n,r,m)}}break;case 5:Wp(f,f.return);break;case 22:if(f.memoizedState!==null){CP(h);continue}}p!==null?(p.return=f,Ye=p):CP(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tU("display",o))}catch(m){Qr(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Qr(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ga(e,t),ll(t),n&4&&xP(t);break;case 21:break;default:ga(e,t),ll(t)}}function ll(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($z(r)){var n=r;break e}r=r.return}throw Error(ke(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Z1(i,""),n.flags&=-33);var s=bP(t);p7(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=bP(t);f7(t,a,o);break;default:throw Error(ke(161))}}catch(l){Qr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Koe(t,e,r){Ye=t,Tz(t)}function Tz(t,e,r){for(var n=(t.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||q2;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ti;a=q2;var c=Ti;if(q2=o,(Ti=l)&&!c)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?_P(i):l!==null?(l.return=o,Ye=l):_P(i);for(;s!==null;)Ye=s,Tz(s),s=s.sibling;Ye=i,q2=a,Ti=c}EP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):EP(t)}}function EP(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||W5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ti)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$a(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oP(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oP(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ey(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Ti||e.flags&512&&h7(e)}catch(f){Qr(e,e.return,f)}}if(e===t){Ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function CP(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function _P(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{W5(4,e)}catch(l){Qr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Qr(e,i,l)}}var s=e.return;try{h7(e)}catch(l){Qr(e,s,l)}break;case 5:var o=e.return;try{h7(e)}catch(l){Qr(e,o,l)}}}catch(l){Qr(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var Yoe=Math.ceil,l3=fu.ReactCurrentDispatcher,Rk=fu.ReactCurrentOwner,Ko=fu.ReactCurrentBatchConfig,rr=0,Hn=null,En=null,li=0,Js=0,Hp=Ld(0),Pn=0,dy=null,Jh=0,H5=0,jk=0,v1=null,xs=null,Mk=0,D0=1/0,_c=null,c3=!1,g7=null,yd=null,V2=!1,ad=null,u3=0,b1=0,m7=null,nb=-1,ib=0;function es(){return rr&6?dn():nb!==-1?nb:nb=dn()}function wd(t){return t.mode&1?rr&2&&li!==0?li&-li:Noe.transition!==null?(ib===0&&(ib=pU()),ib):(t=mr,t!==0||(t=window.event,t=t===void 0?16:xU(t.type)),t):1}function La(t,e,r,n){if(50<b1)throw b1=0,m7=null,Error(ke(185));Aw(t,r,n),(!(rr&2)||t!==Hn)&&(t===Hn&&(!(rr&2)&&(H5|=r),Pn===4&&Qu(t,li)),Is(t,n),r===1&&rr===0&&!(e.mode&1)&&(D0=dn()+500,B5&&Bd()))}function Is(t,e){var r=t.callbackNode;Nse(t,e);var n=Gb(t,t===Hn?li:0);if(n===0)r!==null&&OT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&OT(r),e===1)t.tag===0?Poe(AP.bind(null,t)):BU(AP.bind(null,t)),$oe(function(){!(rr&6)&&Bd()}),r=null;else{switch(gU(n)){case 1:r=lk;break;case 4:r=hU;break;case 16:r=Vb;break;case 536870912:r=fU;break;default:r=Vb}r=Fz(r,Pz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pz(t,e){if(nb=-1,ib=0,rr&6)throw Error(ke(327));var r=t.callbackNode;if(u0()&&t.callbackNode!==r)return null;var n=Gb(t,t===Hn?li:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=d3(t,n);else{e=n;var i=rr;rr|=2;var s=Oz();(Hn!==t||li!==e)&&(_c=null,D0=dn()+500,Mh(t,e));do try{Qoe();break}catch(a){Nz(t,a)}while(!0);xk(),l3.current=s,rr=i,En!==null?e=0:(Hn=null,li=0,e=Pn)}if(e!==0){if(e===2&&(i=WE(t),i!==0&&(n=i,e=y7(t,i))),e===1)throw r=dy,Mh(t,0),Qu(t,n),Is(t,dn()),r;if(e===6)Qu(t,n);else{if(i=t.current.alternate,!(n&30)&&!Zoe(i)&&(e=d3(t,n),e===2&&(s=WE(t),s!==0&&(n=s,e=y7(t,s))),e===1))throw r=dy,Mh(t,0),Qu(t,n),Is(t,dn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:dh(t,xs,_c);break;case 3:if(Qu(t,n),(n&130023424)===n&&(e=Mk+500-dn(),10<e)){if(Gb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){es(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=JE(dh.bind(null,t,xs,_c),e);break}dh(t,xs,_c);break;case 4:if(Qu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Fa(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=dn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yoe(n/1960))-n,10<n){t.timeoutHandle=JE(dh.bind(null,t,xs,_c),n);break}dh(t,xs,_c);break;case 5:dh(t,xs,_c);break;default:throw Error(ke(329))}}}return Is(t,dn()),t.callbackNode===r?Pz.bind(null,t):null}function y7(t,e){var r=v1;return t.current.memoizedState.isDehydrated&&(Mh(t,e).flags|=256),t=d3(t,e),t!==2&&(e=xs,xs=r,e!==null&&w7(e)),t}function w7(t){xs===null?xs=t:xs.push.apply(xs,t)}function Zoe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ha(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qu(t,e){for(e&=~jk,e&=~H5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fa(e),n=1<<r;t[r]=-1,e&=~n}}function AP(t){if(rr&6)throw Error(ke(327));u0();var e=Gb(t,0);if(!(e&1))return Is(t,dn()),null;var r=d3(t,e);if(t.tag!==0&&r===2){var n=WE(t);n!==0&&(e=n,r=y7(t,n))}if(r===1)throw r=dy,Mh(t,0),Qu(t,e),Is(t,dn()),r;if(r===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dh(t,xs,_c),Is(t,dn()),null}function Dk(t,e){var r=rr;rr|=1;try{return t(e)}finally{rr=r,rr===0&&(D0=dn()+500,B5&&Bd())}}function Qh(t){ad!==null&&ad.tag===0&&!(rr&6)&&u0();var e=rr;rr|=1;var r=Ko.transition,n=mr;try{if(Ko.transition=null,mr=1,t)return t()}finally{mr=n,Ko.transition=r,rr=e,!(rr&6)&&Bd()}}function Fk(){Js=Hp.current,Dr(Hp)}function Mh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,koe(r)),En!==null)for(r=En.return;r!==null;){var n=r;switch(wk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qb();break;case 3:j0(),Dr($s),Dr(Fi),$k();break;case 5:kk(n);break;case 4:j0();break;case 13:Dr(Gr);break;case 19:Dr(Gr);break;case 10:Ek(n.type._context);break;case 22:case 23:Fk()}r=r.return}if(Hn=t,En=t=vd(t.current,null),li=Js=e,Pn=0,dy=null,jk=H5=Jh=0,xs=v1=null,_h!==null){for(e=0;e<_h.length;e++)if(r=_h[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}_h=null}return t}function Nz(t,e){do{var r=En;try{if(xk(),eb.current=a3,o3){for(var n=Kr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}o3=!1}if(Zh=0,Un=Sn=Kr=null,y1=!1,ly=0,Rk.current=null,r===null||r.return===null){Pn=1,dy=e,En=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=li,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hP(o);if(p!==null){p.flags&=-257,fP(p,o,a,s,e),p.mode&1&&dP(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){dP(s,c,e),Lk();break e}l=Error(ke(426))}}else if(Wr&&a.mode&1){var w=hP(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fP(w,o,a,s,e),vk(M0(l,a));break e}}s=l=M0(l,a),Pn!==4&&(Pn=2),v1===null?v1=[s]:v1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=gz(s,l,e);sP(s,y);break e;case 1:a=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(yd===null||!yd.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=mz(s,a,e);sP(s,A);break e}}s=s.return}while(s!==null)}jz(r)}catch(E){e=E,En===r&&r!==null&&(En=r=r.return);continue}break}while(!0)}function Oz(){var t=l3.current;return l3.current=a3,t===null?a3:t}function Lk(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Hn===null||!(Jh&268435455)&&!(H5&268435455)||Qu(Hn,li)}function d3(t,e){var r=rr;rr|=2;var n=Oz();(Hn!==t||li!==e)&&(_c=null,Mh(t,e));do try{Joe();break}catch(i){Nz(t,i)}while(!0);if(xk(),rr=r,l3.current=n,En!==null)throw Error(ke(261));return Hn=null,li=0,Pn}function Joe(){for(;En!==null;)Rz(En)}function Qoe(){for(;En!==null&&!Cse();)Rz(En)}function Rz(t){var e=Dz(t.alternate,t,Js);t.memoizedProps=t.pendingProps,e===null?jz(t):En=e,Rk.current=null}function jz(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qoe(r,e),r!==null){r.flags&=32767,En=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,En=null;return}}else if(r=Hoe(r,e,Js),r!==null){En=r;return}if(e=e.sibling,e!==null){En=e;return}En=e=t}while(e!==null);Pn===0&&(Pn=5)}function dh(t,e,r){var n=mr,i=Ko.transition;try{Ko.transition=null,mr=1,Xoe(t,e,r,n)}finally{Ko.transition=i,mr=n}return null}function Xoe(t,e,r,n){do u0();while(ad!==null);if(rr&6)throw Error(ke(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Ose(t,s),t===Hn&&(En=Hn=null,li=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||V2||(V2=!0,Fz(Vb,function(){return u0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ko.transition,Ko.transition=null;var o=mr;mr=1;var a=rr;rr|=4,Rk.current=null,Goe(t,r),Iz(r,t),voe(YE),Kb=!!KE,YE=KE=null,t.current=r,Koe(r),_se(),rr=a,mr=o,Ko.transition=s}else t.current=r;if(V2&&(V2=!1,ad=t,u3=i),s=t.pendingLanes,s===0&&(yd=null),$se(r.stateNode),Is(t,dn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(c3)throw c3=!1,t=g7,g7=null,t;return u3&1&&t.tag!==0&&u0(),s=t.pendingLanes,s&1?t===m7?b1++:(b1=0,m7=t):b1=0,Bd(),null}function u0(){if(ad!==null){var t=gU(u3),e=Ko.transition,r=mr;try{if(Ko.transition=null,mr=16>t?16:t,ad===null)var n=!1;else{if(t=ad,ad=null,u3=0,rr&6)throw Error(ke(331));var i=rr;for(rr|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:w1(8,u,s)}var h=u.child;if(h!==null)h.return=u,Ye=h;else for(;Ye!==null;){u=Ye;var f=u.sibling,p=u.return;if(kz(u),u===c){Ye=null;break}if(f!==null){f.return=p,Ye=f;break}Ye=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:w1(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ye=y;break e}Ye=s.return}}var b=t.current;for(Ye=b;Ye!==null;){o=Ye;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ye=v;else e:for(o=b;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:W5(9,a)}}catch(E){Qr(a,a.return,E)}if(a===o){Ye=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Ye=A;break e}Ye=a.return}}if(rr=i,Bd(),Ml&&typeof Ml.onPostCommitFiberRoot=="function")try{Ml.onPostCommitFiberRoot(j5,t)}catch{}n=!0}return n}finally{mr=r,Ko.transition=e}}return!1}function kP(t,e,r){e=M0(r,e),e=gz(t,e,1),t=md(t,e,1),e=es(),t!==null&&(Aw(t,1,e),Is(t,e))}function Qr(t,e,r){if(t.tag===3)kP(t,t,r);else for(;e!==null;){if(e.tag===3){kP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yd===null||!yd.has(n))){t=M0(r,t),t=mz(e,t,1),e=md(e,t,1),t=es(),e!==null&&(Aw(e,1,t),Is(e,t));break}}e=e.return}}function eae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=es(),t.pingedLanes|=t.suspendedLanes&r,Hn===t&&(li&r)===r&&(Pn===4||Pn===3&&(li&130023424)===li&&500>dn()-Mk?Mh(t,0):jk|=r),Is(t,e)}function Mz(t,e){e===0&&(t.mode&1?(e=M2,M2<<=1,!(M2&130023424)&&(M2=4194304)):e=1);var r=es();t=Zc(t,e),t!==null&&(Aw(t,e,r),Is(t,r))}function tae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Mz(t,r)}function rae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),Mz(t,r)}var Dz;Dz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$s.current)Cs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cs=!1,Woe(t,e,r);Cs=!!(t.flags&131072)}else Cs=!1,Wr&&e.flags&1048576&&UU(e,t3,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rb(t,e),t=e.pendingProps;var i=N0(e,Fi.current);c0(e,r),i=Ik(null,e,n,t,i,r);var s=Tk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ss(n)?(s=!0,Xb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_k(e),i.updater=z5,e.stateNode=i,i._reactInternals=e,i7(e,n,t,r),e=a7(null,e,n,!0,s,r)):(e.tag=0,Wr&&s&&yk(e),Hi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rb(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=iae(n),t=$a(n,t),i){case 0:e=o7(null,e,n,t,r);break e;case 1:e=mP(null,e,n,t,r);break e;case 11:e=pP(null,e,n,t,r);break e;case 14:e=gP(null,e,n,$a(n.type,t),r);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),o7(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),mP(t,e,n,i,r);case 3:e:{if(bz(e),t===null)throw Error(ke(387));n=e.pendingProps,s=e.memoizedState,i=s.element,GU(t,e),i3(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=M0(Error(ke(423)),e),e=yP(t,e,n,r,i);break e}else if(n!==i){i=M0(Error(ke(424)),e),e=yP(t,e,n,r,i);break e}else for(so=gd(e.stateNode.containerInfo.firstChild),ao=e,Wr=!0,Pa=null,r=qU(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(O0(),n===i){e=Jc(t,e,r);break e}Hi(t,e,n,r)}e=e.child}return e;case 5:return KU(e),t===null&&t7(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ZE(n,i)?o=null:s!==null&&ZE(n,s)&&(e.flags|=32),vz(t,e),Hi(t,e,o,r),e.child;case 6:return t===null&&t7(e),null;case 13:return xz(t,e,r);case 4:return Ak(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=R0(e,null,n,r):Hi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),pP(t,e,n,i,r);case 7:return Hi(t,e,e.pendingProps,r),e.child;case 8:return Hi(t,e,e.pendingProps.children,r),e.child;case 12:return Hi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ir(r3,n._currentValue),n._currentValue=o,s!==null)if(Ha(s.value,o)){if(s.children===i.children&&!$s.current){e=Jc(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Uc(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),r7(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),r7(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,c0(e,r),i=Zo(i),n=n(i),e.flags|=1,Hi(t,e,n,r),e.child;case 14:return n=e.type,i=$a(n,e.pendingProps),i=$a(n.type,i),gP(t,e,n,i,r);case 15:return yz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$a(n,i),rb(t,e),e.tag=1,Ss(n)?(t=!0,Xb(e)):t=!1,c0(e,r),pz(e,n,i),i7(e,n,i,r),a7(null,e,n,!0,t,r);case 19:return Ez(t,e,r);case 22:return wz(t,e,r)}throw Error(ke(156,e.tag))};function Fz(t,e){return dU(t,e)}function nae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(t,e,r,n){return new nae(t,e,r,n)}function Bk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iae(t){if(typeof t=="function")return Bk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sk)return 11;if(t===ok)return 14}return 2}function vd(t,e){var r=t.alternate;return r===null?(r=Vo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sb(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Bk(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rp:return Dh(r.children,i,s,e);case ik:o=8,i|=8;break;case SE:return t=Vo(12,r,e,i|2),t.elementType=SE,t.lanes=s,t;case IE:return t=Vo(13,r,e,i),t.elementType=IE,t.lanes=s,t;case TE:return t=Vo(19,r,e,i),t.elementType=TE,t.lanes=s,t;case KB:return q5(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VB:o=10;break e;case GB:o=9;break e;case sk:o=11;break e;case ok:o=14;break e;case Wu:o=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Vo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Dh(t,e,r,n){return t=Vo(7,t,n,e),t.lanes=r,t}function q5(t,e,r,n){return t=Vo(22,t,n,e),t.elementType=KB,t.lanes=r,t.stateNode={isHidden:!1},t}function jx(t,e,r){return t=Vo(6,t,null,e),t.lanes=r,t}function Mx(t,e,r){return e=Vo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mx(0),this.expirationTimes=mx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uk(t,e,r,n,i,s,o,a,l){return t=new sae(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_k(s),t}function oae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Op,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Lz(t){if(!t)return kd;t=t._reactInternals;e:{if(Ef(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var r=t.type;if(Ss(r))return LU(t,r,e)}return e}function Bz(t,e,r,n,i,s,o,a,l){return t=Uk(r,n,!0,t,i,s,o,a,l),t.context=Lz(null),r=t.current,n=es(),i=wd(r),s=Uc(n,i),s.callback=e??null,md(r,s,i),t.current.lanes=i,Aw(t,i,n),Is(t,n),t}function V5(t,e,r,n){var i=e.current,s=es(),o=wd(i);return r=Lz(r),e.context===null?e.context=r:e.pendingContext=r,e=Uc(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=md(i,e,o),t!==null&&(La(t,i,o,s),Xv(t,i,o)),o}function h3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $P(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zk(t,e){$P(t,e),(t=t.alternate)&&$P(t,e)}function aae(){return null}var Uz=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wk(t){this._internalRoot=t}G5.prototype.render=Wk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));V5(t,e,null,null)};G5.prototype.unmount=Wk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qh(function(){V5(null,t,null,null)}),e[Yc]=null}};function G5(t){this._internalRoot=t}G5.prototype.unstable_scheduleHydration=function(t){if(t){var e=wU();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ju.length&&e!==0&&e<Ju[r].priority;r++);Ju.splice(r,0,t),r===0&&bU(t)}};function Hk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function K5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SP(){}function lae(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=h3(o);s.call(c)}}var o=Bz(e,n,t,0,null,!1,!1,"",SP);return t._reactRootContainer=o,t[Yc]=o.current,ny(t.nodeType===8?t.parentNode:t),Qh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=h3(l);a.call(c)}}var l=Uk(t,0,!1,null,null,!1,!1,"",SP);return t._reactRootContainer=l,t[Yc]=l.current,ny(t.nodeType===8?t.parentNode:t),Qh(function(){V5(e,l,r,n)}),l}function Y5(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=h3(o);a.call(l)}}V5(e,o,t,i)}else o=lae(r,e,t,i,n);return h3(o)}mU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Km(e.pendingLanes);r!==0&&(ck(e,r|1),Is(e,dn()),!(rr&6)&&(D0=dn()+500,Bd()))}break;case 13:Qh(function(){var n=Zc(t,1);if(n!==null){var i=es();La(n,t,1,i)}}),zk(t,1)}};uk=function(t){if(t.tag===13){var e=Zc(t,134217728);if(e!==null){var r=es();La(e,t,134217728,r)}zk(t,134217728)}};yU=function(t){if(t.tag===13){var e=wd(t),r=Zc(t,e);if(r!==null){var n=es();La(r,t,e,n)}zk(t,e)}};wU=function(){return mr};vU=function(t,e){var r=mr;try{return mr=t,e()}finally{mr=r}};BE=function(t,e,r){switch(e){case"input":if(OE(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=L5(n);if(!i)throw Error(ke(90));ZB(n),OE(n,i)}}}break;case"textarea":QB(t,r);break;case"select":e=r.value,e!=null&&s0(t,!!r.multiple,e,!1)}};sU=Dk;oU=Qh;var cae={usingClientEntryPoint:!1,Events:[$w,Fp,L5,nU,iU,Dk]},cm={findFiberByHostInstance:Ch,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uae={bundleType:cm.bundleType,version:cm.version,rendererPackageName:cm.rendererPackageName,rendererConfig:cm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cU(t),t===null?null:t.stateNode},findFiberByHostInstance:cm.findFiberByHostInstance||aae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G2.isDisabled&&G2.supportsFiber)try{j5=G2.inject(uae),Ml=G2}catch{}}yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cae;yo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hk(e))throw Error(ke(200));return oae(t,e,null,r)};yo.createRoot=function(t,e){if(!Hk(t))throw Error(ke(299));var r=!1,n="",i=Uz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uk(t,1,!1,null,null,r,!1,n,i),t[Yc]=e.current,ny(t.nodeType===8?t.parentNode:t),new Wk(e)};yo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=cU(e),t=t===null?null:t.stateNode,t};yo.flushSync=function(t){return Qh(t)};yo.hydrate=function(t,e,r){if(!K5(e))throw Error(ke(200));return Y5(null,t,e,!0,r)};yo.hydrateRoot=function(t,e,r){if(!Hk(t))throw Error(ke(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Uz;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Bz(e,null,t,1,r??null,i,!1,s,o),t[Yc]=e.current,ny(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new G5(e)};yo.render=function(t,e,r){if(!K5(e))throw Error(ke(200));return Y5(null,t,e,!1,r)};yo.unmountComponentAtNode=function(t){if(!K5(t))throw Error(ke(40));return t._reactRootContainer?(Qh(function(){Y5(null,null,t,!1,function(){t._reactRootContainer=null,t[Yc]=null})}),!0):!1};yo.unstable_batchedUpdates=Dk;yo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!K5(r))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Y5(t,e,r,!1,n)};yo.version="18.3.1-next-f1338f8080-20240426";function zz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zz)}catch(t){console.error(t)}}zz(),zB.exports=yo;var Zl=zB.exports,IP=Zl;kE.createRoot=IP.createRoot,kE.hydrateRoot=IP.hydrateRoot;const dae="modulepreload",hae=function(t){return"/"+t},TP={},Fl=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=hae(l),l in TP)return;TP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":dae,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function fae(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function pae(){const t=new Set;let e=[];const r=()=>fae(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var Ze={},v7={exports:{}};(function(t,e){(function(r,n){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",g="type",m="vendor",w="version",y="architecture",b="console",v="mobile",A="tablet",E="smarttv",O="wearable",N="embedded",R=500,T="Amazon",L="Apple",B="ASUS",W="BlackBerry",j="Browser",_="Chrome",C="Edge",$="Firefox",P="Google",S="Honor",I="Huawei",D="Lenovo",F="LG",k="Microsoft",z="Motorola",V="Nvidia",M="OnePlus",G="Opera",Z="OPPO",K="Samsung",re="Sharp",le="Sony",ne="Xiaomi",ae="Zebra",me="Facebook",ue="Chromium OS",de="Mac OS",Je=" Browser",ie=function(Ae,Se){var he={};for(var He in Ae)Se[He]&&Se[He].length%2===0?he[He]=Se[He].concat(Ae[He]):he[He]=Ae[He];return he},be=function(Ae){for(var Se={},he=0;he<Ae.length;he++)Se[Ae[he].toUpperCase()]=Ae[he];return Se},ve=function(Ae,Se){return typeof Ae===u?se(Se).indexOf(se(Ae))!==-1:!1},se=function(Ae){return Ae.toLowerCase()},ye=function(Ae){return typeof Ae===u?Ae.replace(/[^\d\.]/g,s).split(".")[0]:n},yt=function(Ae,Se){if(typeof Ae===u)return Ae=Ae.replace(/^\s\s*/,s),typeof Se===l?Ae:Ae.substring(0,R)},ce=function(Ae,Se){for(var he=0,He,nt,Ve,ot,Ie,dt;he<Se.length&&!Ie;){var bt=Se[he],wt=Se[he+1];for(He=nt=0;He<bt.length&&!Ie&&bt[He];)if(Ie=bt[He++].exec(Ae),Ie)for(Ve=0;Ve<wt.length;Ve++)dt=Ie[++nt],ot=wt[Ve],typeof ot===c&&ot.length>0?ot.length===2?typeof ot[1]==a?this[ot[0]]=ot[1].call(this,dt):this[ot[0]]=ot[1]:ot.length===3?typeof ot[1]===a&&!(ot[1].exec&&ot[1].test)?this[ot[0]]=dt?ot[1].call(this,dt,ot[2]):n:this[ot[0]]=dt?dt.replace(ot[1],ot[2]):n:ot.length===4&&(this[ot[0]]=dt?ot[3].call(this,dt.replace(ot[1],ot[2])):n):this[ot]=dt||n;he+=2}},$e=function(Ae,Se){for(var he in Se)if(typeof Se[he]===c&&Se[he].length>0){for(var He=0;He<Se[he].length;He++)if(ve(Se[he][He],Ae))return he===o?n:he}else if(ve(Se[he],Ae))return he===o?n:he;return Se.hasOwnProperty("*")?Se["*"]:Ae},De={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Xe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ke={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,w],[/opios[\/ ]+([\w\.]+)/i],[w,[p,G+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[p,G+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[p,G]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[p,"UC"+j]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[p,"Smart Lenovo "+j]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+j],w],[/\bfocus\/([\w\.]+)/i],[w,[p,$+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[p,G+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[p,G+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[p,"MIUI"+Je]],[/fxios\/([\w\.-]+)/i],[w,[p,$]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Je],w],[/samsungbrowser\/([\w\.]+)/i],[w,[p,K+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,me],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[p,_+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,_+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[p,"Android "+j]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[w,$e,De]],[/(webkit|khtml)\/([\w\.]+)/i],[p,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[p,$+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,s,se]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,se]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,K],[g,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,K],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,L],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,L],[g,A]],[/(macintosh);/i],[f,[m,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,re],[g,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[m,S],[g,A]],[/honor([-\w ]+)[;\)]/i],[f,[m,S],[g,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[m,I],[g,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,I],[g,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[m,ne],[g,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[m,ne],[g,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,Z],[g,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[m,$e,{OnePlus:["304","403","203"],"*":Z}],[g,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,z],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,z],[g,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,F],[g,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,F],[g,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[m,D],[g,A]],[/(nokia) (t[12][01])/i],[m,f,[g,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[g,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[m,P],[g,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,P],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,le],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,le],[g,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,M],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,T],[g,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,T],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[g,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,W],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,B],[g,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,B],[g,v]],[/(nexus 9)/i],[f,[m,"HTC"],[g,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[g,A]],[/(itel) ((\w+))/i],[[m,se],f,[g,$e,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[g,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[g,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[m,"Archos"],[g,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[m,"Archos"],[g,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,f,[g,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[g,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[g,A]],[/(surface duo)/i],[f,[m,k],[g,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[g,v]],[/(u304aa)/i],[f,[m,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[g,A]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[g,A]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[g,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[g,A]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[g,A]],[/\b(k88) b/i],[f,[m,"ZTE"],[g,A]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[g,A]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[g,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[g,A]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[g,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[g,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[g,v]],[/\b(ph-1) /i],[f,[m,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[g,A]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[g,A]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[g,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[m,V],[g,A]],[/(sprint) (\w+)/i],[m,f,[g,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,k],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,ae],[g,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,ae],[g,v]],[/smart-tv.+(samsung)/i],[m,[g,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,K],[g,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,F],[g,E]],[/(apple) ?tv/i],[m,[f,L+" TV"],[g,E]],[/crkey/i],[[f,_+"cast"],[m,P],[g,E]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,T],[g,E]],[/(shield \w+ tv)/i],[f,[m,V],[g,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,re],[g,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,le],[g,E]],[/(mi(tv|box)-?\w+) bui/i],[f,[m,ne],[g,E]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[g,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,yt],[f,yt],[g,E]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[g,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[g,b]],[/droid.+; (shield)( bui|\))/i],[f,[m,V],[g,b]],[/(playstation \w+)/i],[f,[m,le],[g,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,k],[g,b]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[m,K],[g,O]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,f,[g,O]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[m,Z],[g,O]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,L],[g,O]],[/(opwwe\d{3})/i],[f,[m,M],[g,O]],[/(moto 360)/i],[f,[m,z],[g,O]],[/(smartwatch 3)/i],[f,[m,le],[g,O]],[/(g watch r)/i],[f,[m,F],[g,O]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,ae],[g,O]],[/droid.+; (glass) \d/i],[f,[m,P],[g,O]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[g,O]],[/; (quest( \d| pro)?)/i],[f,[m,me],[g,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,N]],[/(aeobc)\b/i],[f,[m,T],[g,N]],[/(homepod).+mac os/i],[f,[m,L],[g,N]],[/windows iot/i],[[g,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[p,C+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,w],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[w,$e,Xe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,$e,Xe],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,de],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,w],[/\(bb(10);/i],[w,[p,W]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[p,$+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[p,_+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,ue],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,w],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,w]]},kt=function(Ae,Se){if(typeof Ae===c&&(Se=Ae,Ae=n),!(this instanceof kt))return new kt(Ae,Se).getResult();var he=typeof r!==l&&r.navigator?r.navigator:n,He=Ae||(he&&he.userAgent?he.userAgent:s),nt=he&&he.userAgentData?he.userAgentData:n,Ve=Se?ie(Ke,Se):Ke,ot=he&&he.userAgent==He;return this.getBrowser=function(){var Ie={};return Ie[p]=n,Ie[w]=n,ce.call(Ie,He,Ve.browser),Ie[h]=ye(Ie[w]),ot&&he&&he.brave&&typeof he.brave.isBrave==a&&(Ie[p]="Brave"),Ie},this.getCPU=function(){var Ie={};return Ie[y]=n,ce.call(Ie,He,Ve.cpu),Ie},this.getDevice=function(){var Ie={};return Ie[m]=n,Ie[f]=n,Ie[g]=n,ce.call(Ie,He,Ve.device),ot&&!Ie[g]&&nt&&nt.mobile&&(Ie[g]=v),ot&&Ie[f]=="Macintosh"&&he&&typeof he.standalone!==l&&he.maxTouchPoints&&he.maxTouchPoints>2&&(Ie[f]="iPad",Ie[g]=A),Ie},this.getEngine=function(){var Ie={};return Ie[p]=n,Ie[w]=n,ce.call(Ie,He,Ve.engine),Ie},this.getOS=function(){var Ie={};return Ie[p]=n,Ie[w]=n,ce.call(Ie,He,Ve.os),ot&&!Ie[p]&&nt&&nt.platform&&nt.platform!="Unknown"&&(Ie[p]=nt.platform.replace(/chrome os/i,ue).replace(/macos/i,de)),Ie},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return He},this.setUA=function(Ie){return He=typeof Ie===u&&Ie.length>R?yt(Ie,R):Ie,this},this.setUA(He),this};kt.VERSION=i,kt.BROWSER=be([p,w,h]),kt.CPU=be([y]),kt.DEVICE=be([f,m,g,b,v,E,A,O,N]),kt.ENGINE=kt.OS=be([p,w]),t.exports&&(e=t.exports=kt),e.UAParser=kt;var ht=typeof r!==l&&(r.jQuery||r.Zepto);if(ht&&!ht.ua){var rt=new kt;ht.ua=rt.getResult(),ht.ua.get=function(){return rt.getUA()},ht.ua.set=function(Ae){rt.setUA(Ae);var Se=rt.getResult();for(var he in Se)ht.ua[he]=Se[he]}}})(typeof window=="object"?window:bs)})(v7,v7.exports);var gae=v7.exports;Object.defineProperty(Ze,"__esModule",{value:!0});function mae(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ji=x,Tr=mae(ji),Wz=gae,Ud=new Wz,Bi=Ud.getBrowser(),yae=Ud.getCPU(),vo=Ud.getDevice(),qk=Ud.getEngine(),zd=Ud.getOS(),Iw=Ud.getUA(),Hz=function(e){return Ud.setUA(e)},Tw=function(e){if(!e){console.error("No userAgent string was provided");return}var r=new Wz(e);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(i){return r.setUA(i)}}},qz=Object.freeze({ClientUAInstance:Ud,browser:Bi,cpu:yae,device:vo,engine:qk,os:zd,ua:Iw,setUa:Hz,parseUserAgent:Tw});function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x1=function(e){return typeof e}:x1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(t)}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xae(t,e,r){return e&&bae(t.prototype,e),t}function Eae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(){return b7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b7.apply(this,arguments)}function Cae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E7(t,e)}function x7(t){return x7=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},x7(t)}function E7(t,e){return E7=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},E7(t,e)}function _ae(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sa(t,e){if(t==null)return{};var r=_ae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ob(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aae(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ob(t)}function kae(t,e){return $ae(t)||Sae(t,e)||Iae(t,e)||Tae()}function $ae(t){if(Array.isArray(t))return t}function Sae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function Iae(t,e){if(t){if(typeof t=="string")return NP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NP(t,e)}}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Si={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Os={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},wg={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Pae={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Nae=function(e){switch(e){case Si.Mobile:return{isMobile:!0};case Si.Tablet:return{isTablet:!0};case Si.SmartTv:return{isSmartTV:!0};case Si.Console:return{isConsole:!0};case Si.Wearable:return{isWearable:!0};case Si.Browser:return{isBrowser:!0};case Si.Embedded:return{isEmbedded:!0};default:return Pae}},Oae=function(e){return Hz(e)},Et=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||r},Vk=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},Gk=function(e){var r=Vk();return r&&r.platform&&(r.platform.indexOf(e)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},Rae=function(e,r,n,i,s){return{isBrowser:e,browserMajorVersion:Et(r.major),browserFullVersion:Et(r.version),browserName:Et(r.name),engineName:Et(n.name),engineVersion:Et(n.version),osName:Et(i.name),osVersion:Et(i.version),userAgent:Et(s)}},OP=function(e,r,n,i){return wae({},e,{vendor:Et(r.vendor),model:Et(r.model),os:Et(n.name),osVersion:Et(n.version),ua:Et(i)})},jae=function(e,r,n,i){return{isSmartTV:e,engineName:Et(r.name),engineVersion:Et(r.version),osName:Et(n.name),osVersion:Et(n.version),userAgent:Et(i)}},Mae=function(e,r,n,i){return{isConsole:e,engineName:Et(r.name),engineVersion:Et(r.version),osName:Et(n.name),osVersion:Et(n.version),userAgent:Et(i)}},Dae=function(e,r,n,i){return{isWearable:e,engineName:Et(r.name),engineVersion:Et(r.version),osName:Et(n.name),osVersion:Et(n.version),userAgent:Et(i)}},Fae=function(e,r,n,i,s){return{isEmbedded:e,vendor:Et(r.vendor),model:Et(r.model),engineName:Et(n.name),engineVersion:Et(n.version),osName:Et(i.name),osVersion:Et(i.version),userAgent:Et(s)}};function Lae(t){var e=t?Tw(t):qz,r=e.device,n=e.browser,i=e.engine,s=e.os,o=e.ua,a=Nae(r.type),l=a.isBrowser,c=a.isMobile,u=a.isTablet,h=a.isSmartTV,f=a.isConsole,p=a.isWearable,g=a.isEmbedded;if(l)return Rae(l,n,i,s,o);if(h)return jae(h,i,s,o);if(f)return Mae(f,i,s,o);if(c||u)return OP(a,r,s,o);if(p)return Dae(p,i,s,o);if(g)return Fae(g,r,i,s,o)}var Vz=function(e){var r=e.type;return r===Si.Mobile},Gz=function(e){var r=e.type;return r===Si.Tablet},Kz=function(e){var r=e.type;return r===Si.Mobile||r===Si.Tablet},Yz=function(e){var r=e.type;return r===Si.SmartTv},f3=function(e){var r=e.type;return r===Si.Browser},Zz=function(e){var r=e.type;return r===Si.Wearable},Jz=function(e){var r=e.type;return r===Si.Console},Qz=function(e){var r=e.type;return r===Si.Embedded},Xz=function(e){var r=e.vendor;return Et(r)},eW=function(e){var r=e.model;return Et(r)},tW=function(e){var r=e.type;return Et(r,"browser")},rW=function(e){var r=e.name;return r===wg.Android},nW=function(e){var r=e.name;return r===wg.Windows},iW=function(e){var r=e.name;return r===wg.MAC_OS},sW=function(e){var r=e.name;return r===wg.WindowsPhone},oW=function(e){var r=e.name;return r===wg.IOS},aW=function(e){var r=e.version;return Et(r)},lW=function(e){var r=e.name;return Et(r)},cW=function(e){var r=e.name;return r===Os.Chrome},uW=function(e){var r=e.name;return r===Os.Firefox},dW=function(e){var r=e.name;return r===Os.Chromium},p3=function(e){var r=e.name;return r===Os.Edge},hW=function(e){var r=e.name;return r===Os.Yandex},fW=function(e){var r=e.name;return r===Os.Safari||r===Os.MobileSafari},pW=function(e){var r=e.name;return r===Os.MobileSafari},gW=function(e){var r=e.name;return r===Os.Opera},mW=function(e){var r=e.name;return r===Os.InternetExplorer||r===Os.Ie},yW=function(e){var r=e.name;return r===Os.MIUI},wW=function(e){var r=e.name;return r===Os.SamsungBrowser},vW=function(e){var r=e.version;return Et(r)},bW=function(e){var r=e.major;return Et(r)},xW=function(e){var r=e.name;return Et(r)},EW=function(e){var r=e.name;return Et(r)},CW=function(e){var r=e.version;return Et(r)},_W=function(){var e=Vk(),r=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},d0=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},AW=function(){var e=Vk();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Nl=function(){return Gk("iPad")},kW=function(){return Gk("iPhone")},$W=function(){return Gk("iPod")},SW=function(e){return Et(e)};function IW(t){var e=t||qz,r=e.device,n=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:Yz(r),isConsole:Jz(r),isWearable:Zz(r),isEmbedded:Qz(r),isMobileSafari:pW(n)||Nl(),isChromium:dW(n),isMobile:Kz(r)||Nl(),isMobileOnly:Vz(r),isTablet:Gz(r)||Nl(),isBrowser:f3(r),isDesktop:f3(r),isAndroid:rW(i),isWinPhone:sW(i),isIOS:oW(i)||Nl(),isChrome:cW(n),isFirefox:uW(n),isSafari:fW(n),isOpera:gW(n),isIE:mW(n),osVersion:aW(i),osName:lW(i),fullBrowserVersion:vW(n),browserVersion:bW(n),browserName:xW(n),mobileVendor:Xz(r),mobileModel:eW(r),engineName:EW(s),engineVersion:CW(s),getUA:SW(o),isEdge:p3(n)||d0(o),isYandex:hW(n),deviceType:tW(r),isIOS13:AW(),isIPad13:Nl(),isIPhone13:kW(),isIPod13:$W(),isElectron:_W(),isEdgeChromium:d0(o),isLegacyEdge:p3(n)&&!d0(o),isWindows:nW(i),isMacOs:iW(i),isMIUI:yW(n),isSamsungBrowser:wW(n)}}var TW=Yz(vo),PW=Jz(vo),NW=Zz(vo),Bae=Qz(vo),Uae=pW(Bi)||Nl(),zae=dW(Bi),Z5=Kz(vo)||Nl(),OW=Vz(vo),RW=Gz(vo)||Nl(),jW=f3(vo),Wae=f3(vo),MW=rW(zd),DW=sW(zd),FW=oW(zd)||Nl(),Hae=cW(Bi),qae=uW(Bi),Vae=fW(Bi),Gae=gW(Bi),LW=mW(Bi),Kae=aW(zd),Yae=lW(zd),Zae=vW(Bi),Jae=bW(Bi),Qae=xW(Bi),Xae=Xz(vo),ele=eW(vo),tle=EW(qk),rle=CW(qk),nle=SW(Iw),ile=p3(Bi)||d0(Iw),sle=hW(Bi),ole=tW(vo),ale=AW(),lle=Nl(),cle=kW(),ule=$W(),dle=_W(),hle=d0(Iw),fle=p3(Bi)&&!d0(Iw),ple=nW(zd),gle=iW(zd),mle=yW(Bi),yle=wW(Bi),wle=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var r=Tw(e),n=r.device,i=r.browser,s=r.os,o=r.engine,a=r.ua;return IW({device:n,browser:i,os:s,engine:o,ua:a})},vle=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return MW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},ble=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return jW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},xle=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return LW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Ele=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return FW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Cle=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return Z5?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},_le=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return RW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Ale=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return DW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},kle=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=sa(e,["renderWithFragment","children","viewClassName","style"]);return OW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},$le=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return TW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Sle=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return PW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Ile=function(e){var r=e.renderWithFragment,n=e.children,i=sa(e,["renderWithFragment","children"]);return NW?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",i,n):null},Tle=function(e){var r=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var i=e.condition,s=sa(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?r?Tr.createElement(ji.Fragment,null,n):Tr.createElement("div",s,n):null};function Ple(t){return function(e){Cae(r,e);function r(n){var i;return vae(this,r),i=Aae(this,x7(r).call(this,n)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(ob(i)),i.onOrientationChange=i.onOrientationChange.bind(ob(i)),i.onPageLoad=i.onPageLoad.bind(ob(i)),i.state={isLandscape:!1,isPortrait:!1},i}return xae(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":x1(window))!==void 0&&Z5&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Tr.createElement(t,b7({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(Tr.Component)}function Nle(){var t=ji.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=kae(t,2),r=e[0],n=e[1],i=ji.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};r.orientation!==o.orientation&&n(o)},[r.orientation]);return ji.useEffect(function(){return(typeof window>"u"?"undefined":x1(window))!==void 0&&Z5&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),r}function BW(t){var e=t||window.navigator.userAgent;return Tw(e)}function Ole(t){var e=t||window.navigator.userAgent,r=BW(e),n=IW(r);return[n,r]}Ze.AndroidView=vle;Ze.BrowserTypes=Os;Ze.BrowserView=ble;Ze.ConsoleView=Sle;Ze.CustomView=Tle;Ze.IEView=xle;Ze.IOSView=Ele;Ze.MobileOnlyView=kle;Ze.MobileView=Cle;Ze.OsTypes=wg;Ze.SmartTVView=$le;Ze.TabletView=_le;Ze.WearableView=Ile;Ze.WinPhoneView=Ale;Ze.browserName=Qae;Ze.browserVersion=Jae;Ze.deviceDetect=Lae;Ze.deviceType=ole;Ze.engineName=tle;Ze.engineVersion=rle;Ze.fullBrowserVersion=Zae;Ze.getSelectorsByUserAgent=wle;Ze.getUA=nle;var Rle=Ze.isAndroid=MW;Ze.isBrowser=jW;Ze.isChrome=Hae;Ze.isChromium=zae;Ze.isConsole=PW;Ze.isDesktop=Wae;Ze.isEdge=ile;Ze.isEdgeChromium=hle;Ze.isElectron=dle;Ze.isEmbedded=Bae;var RP=Ze.isFirefox=qae;Ze.isIE=LW;var Kk=Ze.isIOS=FW;Ze.isIOS13=ale;Ze.isIPad13=lle;Ze.isIPhone13=cle;Ze.isIPod13=ule;Ze.isLegacyEdge=fle;Ze.isMIUI=mle;Ze.isMacOs=gle;var Sr=Ze.isMobile=Z5;Ze.isMobileOnly=OW;Ze.isMobileSafari=Uae;Ze.isOpera=Gae;var jle=Ze.isSafari=Vae;Ze.isSamsungBrowser=yle;Ze.isSmartTV=TW;Ze.isTablet=RW;Ze.isWearable=NW;Ze.isWinPhone=DW;Ze.isWindows=ple;Ze.isYandex=sle;Ze.mobileModel=ele;Ze.mobileVendor=Xae;Ze.osName=Yae;Ze.osVersion=Kae;Ze.parseUserAgent=Tw;Ze.setUserAgent=Oae;Ze.useDeviceData=BW;Ze.useDeviceSelectors=Ole;Ze.useMobileOrientation=Nle;Ze.withOrientationChange=Ple;const Mle="1.1.0";let oa=class C7 extends Error{constructor(e,r={}){var o;const n=r.cause instanceof C7?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof C7&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${Mle}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function pu(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const UW=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zW=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,WW=/^\(.+?\).*?$/,jP=/^tuple(?<array>(\[(\d*)\])*)$/;function _7(t){let e=t.type;if(jP.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=_7(s),i<r-1&&(e+=", ")}const n=pu(jP,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,_7({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function um(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=_7(i),n!==r-1&&(e+=", ")}return e}function Dle(t){var e;return t.type==="function"?`function ${t.name}(${um(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${um(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${um(t.inputs)})`:t.type==="error"?`error ${t.name}(${um(t.inputs)})`:t.type==="constructor"?`constructor(${um(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const HW=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Fle(t){return HW.test(t)}function Lle(t){return pu(HW,t)}const qW=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ble(t){return qW.test(t)}function Ule(t){return pu(qW,t)}const VW=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function zle(t){return VW.test(t)}function Wle(t){return pu(VW,t)}const GW=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function KW(t){return GW.test(t)}function Hle(t){return pu(GW,t)}const YW=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function qle(t){return YW.test(t)}function Vle(t){return pu(YW,t)}const ZW=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Gle(t){return ZW.test(t)}function Kle(t){return pu(ZW,t)}const Yle=/^receive\(\) external payable$/;function Zle(t){return Yle.test(t)}const Jle=new Set(["indexed"]),A7=new Set(["calldata","memory","storage"]);let Qle=class extends oa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},Xle=class extends oa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},ece=class extends oa{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},tce=class extends oa{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},rce=class extends oa{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},nce=class extends oa{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},ice=class extends oa{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},vg=class extends oa{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},sce=class extends oa{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},oce=class extends oa{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},ace=class extends oa{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},lce=class extends oa{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function cce(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const Dx=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function uce(t,e={}){if(zle(t))return dce(t,e);if(Ble(t))return hce(t,e);if(Fle(t))return fce(t,e);if(qle(t))return pce(t,e);if(Gle(t))return gce(t);if(Zle(t))return{type:"receive",stateMutability:"payable"};throw new sce({signature:t})}function dce(t,e={}){const r=Wle(t);if(!r)throw new vg({signature:t,type:"function"});const n=Oa(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(Xh(n[a],{modifiers:A7,structs:e,type:"function"}));const o=[];if(r.returns){const a=Oa(r.returns),l=a.length;for(let c=0;c<l;c++)o.push(Xh(a[c],{modifiers:A7,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function hce(t,e={}){const r=Ule(t);if(!r)throw new vg({signature:t,type:"event"});const n=Oa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xh(n[o],{modifiers:Jle,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function fce(t,e={}){const r=Lle(t);if(!r)throw new vg({signature:t,type:"error"});const n=Oa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xh(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function pce(t,e={}){const r=Vle(t);if(!r)throw new vg({signature:t,type:"constructor"});const n=Oa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xh(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function gce(t){const e=Kle(t);if(!e)throw new vg({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const mce=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,yce=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,wce=/^u?int$/;function Xh(t,e){var h,f;const r=cce(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Dx.has(r))return Dx.get(r);const n=WW.test(t),i=pu(n?yce:mce,t);if(!i)throw new ece({param:t});if(i.name&&bce(i.name))throw new tce({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(n){l="tuple";const p=Oa(i.type),g=[],m=p.length;for(let w=0;w<m;w++)g.push(Xh(p[w],{structs:a}));c={components:g}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(wce.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!JW(l))throw new Xle({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new rce({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(A7.has(i.modifier)&&!xce(l,!!i.array))throw new nce({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return Dx.set(r,u),u}function Oa(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?Oa(a,[...e,r.trim()]):Oa(a,e,`${r}${o}`,n);case"(":return Oa(a,e,`${r}${o}`,n+1);case")":return Oa(a,e,`${r}${o}`,n-1);default:return Oa(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new lce({current:r,depth:n});return e.push(r.trim()),e}function JW(t){return t==="address"||t==="bool"||t==="function"||t==="string"||UW.test(t)||zW.test(t)}const vce=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function bce(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||UW.test(t)||zW.test(t)||vce.test(t)}function xce(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Ece(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!KW(a))continue;const l=Hle(a);if(!l)throw new vg({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const g=c[f].trim();if(!g)continue;const m=Xh(g,{type:"struct"});u.push(m)}if(!u.length)throw new oce({signature:a});e[l.name]=u}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=QW(l,e)}return n}const Cce=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function QW(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(WW.test(o.type))n.push(o);else{const l=pu(Cce,o.type);if(!(l!=null&&l.type))throw new ice({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(r.has(u))throw new ace({type:u});n.push({...o,type:`tuple${c??""}`,components:QW(e[u]??[],e,new Set([...r,u]))})}else if(JW(u))n.push(o);else throw new Qle({type:u})}}return n}function XW(t){const e=Ece(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];KW(s)||r.push(uce(s,e))}return r}function tn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const eH="2.38.3";let dm={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${eH}`},we=class k7 extends Error{constructor(e,r={}){var a;const n=(()=>{var l;return r.cause instanceof k7?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof k7&&r.cause.docsPath||r.docsPath,s=(a=dm.getDocsUrl)==null?void 0:a.call(dm,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...dm.version?[`Version: ${dm.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=eH}walk(e){return tH(this,e)}};function tH(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?tH(t.cause,e):e?null:t}let $d=class extends we{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Mi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let rH=class extends we{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},nH=class extends we{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class MP extends we{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function bg(t,{dir:e,size:r=32}={}){return typeof t=="string"?bd(t,{dir:e,size:r}):_ce(t,{dir:e,size:r})}function bd(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new nH({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function _ce(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new nH({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let iH=class extends we{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Ace=class extends we{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class kce extends we{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let $ce=class extends we{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Xr(t){return Mi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function zc(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function aa(t,{size:e}){if(Xr(t)>e)throw new $ce({givenSize:Xr(t),maxSize:e})}function uo(t,e={}){const{signed:r}=e;e.size&&aa(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Sce(t,e={}){let r=t;if(e.size&&(aa(r,{size:e.size}),r=zc(r)),zc(r)==="0x00")return!1;if(zc(r)==="0x01")return!0;throw new kce(r)}function qa(t,e={}){return Number(uo(t,e))}function Ice(t,e={}){let r=Va(t);return e.size&&(aa(r,{size:e.size}),r=zc(r,{dir:"right"})),new TextDecoder().decode(r)}const Tce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cn(t,e={}){return typeof t=="number"||typeof t=="bigint"?ut(t,e):typeof t=="string"?F0(t,e):typeof t=="boolean"?sH(t,e):On(t,e)}function sH(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(aa(r,{size:e.size}),bg(r,{size:e.size})):r}function On(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Tce[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(aa(n,{size:e.size}),bg(n,{dir:"right",size:e.size})):n}function ut(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new iH({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?bg(a,{size:n}):a}const Pce=new TextEncoder;function F0(t,e={}){const r=Pce.encode(t);return On(r,e)}const Nce=new TextEncoder;function xg(t,e={}){return typeof t=="number"||typeof t=="bigint"?Rce(t,e):typeof t=="boolean"?Oce(t,e):Mi(t)?Va(t,e):Fh(t,e)}function Oce(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(aa(r,{size:e.size}),bg(r,{size:e.size})):r}const cc={zero:48,nine:57,A:65,F:70,a:97,f:102};function DP(t){if(t>=cc.zero&&t<=cc.nine)return t-cc.zero;if(t>=cc.A&&t<=cc.F)return t-(cc.A-10);if(t>=cc.a&&t<=cc.f)return t-(cc.a-10)}function Va(t,e={}){let r=t;e.size&&(aa(r,{size:e.size}),r=bg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=DP(n.charCodeAt(a++)),c=DP(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new we(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function Rce(t,e){const r=ut(t,e);return Va(r)}function Fh(t,e={}){const r=Nce.encode(t);return typeof e.size=="number"?(aa(r,{size:e.size}),bg(r,{dir:"right",size:e.size})):r}const K2=BigInt(2**32-1),FP=BigInt(32);function jce(t,e=!1){return e?{h:Number(t&K2),l:Number(t>>FP&K2)}:{h:Number(t>>FP&K2)|0,l:Number(t&K2)|0}}function oH(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=jce(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const LP=(t,e,r)=>t>>>r,BP=(t,e,r)=>t<<32-r|e>>>r,Gf=(t,e,r)=>t>>>r|e<<32-r,Kf=(t,e,r)=>t<<32-r|e>>>r,Y2=(t,e,r)=>t<<64-r|e>>>r-32,Z2=(t,e,r)=>t>>>r-32|e<<64-r,Mce=(t,e,r)=>t<<r|e>>>32-r,Dce=(t,e,r)=>e<<r|t>>>32-r,Fce=(t,e,r)=>e<<r-32|t>>>64-r,Lce=(t,e,r)=>t<<r-32|e>>>64-r;function uc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const Bce=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Uce=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,zce=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Wce=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Hce=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),qce=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Yf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vce(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Sd(t,...e){if(!Vce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Gce(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hy(t.outputLen),hy(t.blockLen)}function L0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aH(t,e){Sd(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Kce(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Id(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Fx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cl(t,e){return t<<32-e|t>>>e}const Yce=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Zce(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jce(t){for(let e=0;e<t.length;e++)t[e]=Zce(t[e]);return t}const UP=Yce?t=>t:Jce,lH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Qce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xce(t){if(Sd(t),lH)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Qce[t[r]];return e}const dc={_0:48,_9:57,A:65,F:70,a:97,f:102};function zP(t){if(t>=dc._0&&t<=dc._9)return t-dc._0;if(t>=dc.A&&t<=dc.F)return t-(dc.A-10);if(t>=dc.a&&t<=dc.f)return t-(dc.a-10)}function Nst(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(lH)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=zP(t.charCodeAt(s)),a=zP(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function eue(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Pw(t){return typeof t=="string"&&(t=eue(t)),Sd(t),t}function tue(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Sd(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class Yk{}function J5(t){const e=n=>t().update(Pw(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function rue(t){const e=(n,i)=>t(i).update(Pw(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function nue(t=32){if(Yf&&typeof Yf.getRandomValues=="function")return Yf.getRandomValues(new Uint8Array(t));if(Yf&&typeof Yf.randomBytes=="function")return Uint8Array.from(Yf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const iue=BigInt(0),hm=BigInt(1),sue=BigInt(2),oue=BigInt(7),aue=BigInt(256),lue=BigInt(113),cH=[],uH=[],dH=[];for(let t=0,e=hm,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],cH.push(2*(5*n+r)),uH.push((t+1)*(t+2)/2%64);let i=iue;for(let s=0;s<7;s++)e=(e<<hm^(e>>oue)*lue)%aue,e&sue&&(i^=hm<<(hm<<BigInt(s))-hm);dH.push(i)}const hH=oH(dH,!0),cue=hH[0],uue=hH[1],WP=(t,e,r)=>r>32?Fce(t,e,r):Mce(t,e,r),HP=(t,e,r)=>r>32?Lce(t,e,r):Dce(t,e,r);function fH(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=WP(c,u,1)^r[a],f=HP(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=uH[o],l=WP(i,s,a),c=HP(i,s,a),u=cH[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=cue[n],t[1]^=uue[n]}Id(r)}class Nw extends Yk{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,hy(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Kce(this.state)}clone(){return this._cloneInto()}keccak(){UP(this.state32),fH(this.state32,this.rounds),UP(this.state32),this.posOut=0,this.pos=0}update(e){L0(this),e=Pw(e),Sd(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){L0(this,!1),Sd(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aH(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Id(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Nw(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Wd=(t,e,r)=>J5(()=>new Nw(e,t,r)),due=Wd(6,144,224/8),hue=Wd(6,136,256/8),fue=Wd(6,104,384/8),pue=Wd(6,72,512/8),gue=Wd(1,144,224/8),Q5=Wd(1,136,256/8),mue=Wd(1,104,384/8),yue=Wd(1,72,512/8),pH=(t,e,r)=>rue((n={})=>new Nw(e,t,n.dkLen===void 0?r:n.dkLen,!0)),wue=pH(31,168,128/8),vue=pH(31,136,256/8),bue=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Nw,keccakP:fH,keccak_224:gue,keccak_256:Q5,keccak_384:mue,keccak_512:yue,sha3_224:due,sha3_256:hue,sha3_384:fue,sha3_512:pue,shake128:wue,shake256:vue},Symbol.toStringTag,{value:"Module"}));function oi(t,e){const r=e||"hex",n=Q5(Mi(t,{strict:!1})?xg(t):t);return r==="bytes"?n:cn(n)}let Ow=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const xue=/^0x[a-fA-F0-9]{40}$/,Lx=new Ow(8192);function Rs(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(Lx.has(n))return Lx.get(n);const i=xue.test(t)?t.toLowerCase()===t?!0:r?Rw(t)===t:!0:!1;return Lx.set(n,i),i}const Bx=new Ow(8192);function Rw(t,e){if(Bx.has(`${t}.${e}`))return Bx.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=oi(Fh(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Bx.set(`${t}.${e}`,s),s}function an(t,e){if(!Rs(t,{strict:!1}))throw new $d({address:t});return Rw(t,e)}function Eue(t){const e=oi(`0x${t.substring(4)}`).substring(26);return Rw(`0x${e}`)}function Ga(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new jue(t.type);return`${t.name}(${X5(t.inputs,{includeName:e})})`}function X5(t,{includeName:e=!1}={}){return t?t.map(r=>Cue(r,{includeName:e})).join(e?", ":","):""}function Cue(t,{includeName:e}){return t.type.startsWith("tuple")?`(${X5(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class _ue extends we{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class qP extends we{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class gH extends we{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${X5(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class jw extends we{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Aue extends we{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class kue extends we{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Xr(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class $ue extends we{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Sue extends we{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class VP extends we{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class mH extends we{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Iue extends we{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class yH extends we{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class GP extends we{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class B0 extends we{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class wH extends we{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class Tue extends we{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class Pue extends we{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ga(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Ga(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Nue=class extends we{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class fy extends we{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${X5(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class e6 extends we{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Ga(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Oue extends we{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class Rue extends we{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let vH=class extends we{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class jue extends we{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Mst extends we{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let KP=class extends we{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},bH=class extends we{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Mue=class extends we{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Due={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Mue({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new bH({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new KP({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new KP({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Zk(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Due);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function U0(t,e,r,{strict:n}={}){return Mi(t,{strict:!1})?$7(t,e,r,{strict:n}):CH(t,e,r,{strict:n})}function xH(t,e){if(typeof e=="number"&&e>0&&e>Xr(t)-1)throw new rH({offset:e,position:"start",size:Xr(t)})}function EH(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Xr(t)!==r-e)throw new rH({offset:r,position:"end",size:Xr(t)})}function CH(t,e,r,{strict:n}={}){xH(t,e);const i=t.slice(e,r);return n&&EH(i,e,r),i}function $7(t,e,r,{strict:n}={}){xH(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&EH(i,e,r),i}function Fue(t,e={}){typeof e.size<"u"&&aa(t,{size:e.size});const r=On(t,e);return uo(r,e)}function Lue(t,e={}){let r=t;if(typeof e.size<"u"&&(aa(r,{size:e.size}),r=zc(r)),r.length>1||r[0]>1)throw new Ace(r);return!!r[0]}function Wc(t,e={}){typeof e.size<"u"&&aa(t,{size:e.size});const r=On(t,e);return qa(r,e)}function Bue(t,e={}){let r=t;return typeof e.size<"u"&&(aa(r,{size:e.size}),r=zc(r,{dir:"right"})),new TextDecoder().decode(r)}function Qo(t){return typeof t[0]=="string"?Eg(t):Uue(t)}function Uue(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Eg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}const Bst=/^(.*)\[([0-9]*)\]$/,zue=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_H=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Cf(t,e){if(t.length!==e.length)throw new $ue({expectedLength:t.length,givenLength:e.length});const r=Wue({params:t,values:e}),n=Qk(r);return n.length===0?"0x":n}function Wue({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(Jk({param:t[n],value:e[n]}));return r}function Jk({param:t,value:e}){const r=Xk(t.type);if(r){const[n,i]=r;return que(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return Zue(e,{param:t});if(t.type==="address")return Hue(e);if(t.type==="bool")return Gue(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=_H.exec(t.type)??[];return Kue(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return Vue(e,{param:t});if(t.type==="string")return Yue(e);throw new Oue(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Qk(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Xr(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(ut(e+i,{size:32})),n.push(a),i+=Xr(a)):r.push(a)}return Qo([...r,...n])}function Hue(t){if(!Rs(t))throw new $d({address:t});return{dynamic:!1,encoded:bd(t.toLowerCase())}}function que(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new vH(t);if(!n&&t.length!==e)throw new Aue({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=Jk({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=Qk(s);if(n){const a=ut(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Qo([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Qo(s.map(({encoded:o})=>o))}}function Vue(t,{param:e}){const[,r]=e.type.split("bytes"),n=Xr(t);if(!r){let i=t;return n%32!==0&&(i=bd(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Qo([bd(ut(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new kue({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:bd(t,{dir:"right"})}}function Gue(t){if(typeof t!="boolean")throw new we(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:bd(sH(t))}}function Kue(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new iH({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:ut(t,{size:32,signed:e})}}function Yue(t){const e=F0(t),r=Math.ceil(Xr(e)/32),n=[];for(let i=0;i<r;i++)n.push(bd(U0(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qo([bd(ut(Xr(e),{size:32})),...n])}}function Zue(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=Jk({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Qk(n):Qo(n.map(({encoded:i})=>i))}}function Xk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Cg(t,e){const r=typeof e=="string"?Va(e):e,n=Zk(r);if(Xr(r)===0&&t.length>0)throw new jw;if(Xr(e)&&Xr(e)<32)throw new gH({data:typeof e=="string"?e:On(e),params:t,size:Xr(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[l,c]=h0(n,a,{staticPosition:0});i+=c,s.push(l)}return s}function h0(t,e,{staticPosition:r}){const n=Xk(e.type);if(n){const[i,s]=n;return Que(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return rde(t,e,{staticPosition:r});if(e.type==="address")return Jue(t);if(e.type==="bool")return Xue(t);if(e.type.startsWith("bytes"))return ede(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return tde(t,e);if(e.type==="string")return nde(t,{staticPosition:r});throw new Rue(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const YP=32,S7=32;function Jue(t){const e=t.readBytes(32);return[Rw(On(CH(e,-20))),32]}function Que(t,e,{length:r,staticPosition:n}){if(!r){const o=Wc(t.readBytes(S7)),a=n+o,l=a+YP;t.setPosition(a);const c=Wc(t.readBytes(YP)),u=py(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[g,m]=h0(t,e,{staticPosition:l});h+=m,f.push(g)}return t.setPosition(n+32),[f,32]}if(py(e)){const o=Wc(t.readBytes(S7)),a=n+o,l=[];for(let c=0;c<r;++c){t.setPosition(a+c*32);const[u]=h0(t,e,{staticPosition:a});l.push(u)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,l]=h0(t,e,{staticPosition:n+i});i+=l,s.push(a)}return[s,i]}function Xue(t){return[Lue(t.readBytes(32),{size:32}),32]}function ede(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Wc(t.readBytes(32));t.setPosition(r+o);const a=Wc(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[On(l),32]}return[On(t.readBytes(Number.parseInt(i,10),32)),32]}function tde(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?Fue(i,{signed:r}):Wc(i,{signed:r}),32]}function rde(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(py(e)){const o=Wc(t.readBytes(S7)),a=r+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=h0(t,c,{staticPosition:a});s+=h,i[n?l:c==null?void 0:c.name]=u}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=h0(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=l,s+=c}return[i,s]}function nde(t,{staticPosition:e}){const r=Wc(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Wc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=Bue(zc(s));return t.setPosition(e+32),[o,32]}function py(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(py);const r=Xk(t.type);return!!(r&&py({...t,type:r[1]}))}const ide={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},AH={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},sde={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},ode=t=>oi(xg(t));function ade(t){return ode(t)}function lde(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new we("Unable to normalize signature.");return i}const cde=t=>{const e=typeof t=="string"?t:Dle(t);return lde(e)};function kH(t){return ade(cde(t))}const Mw=t=>U0(kH(t),0,4);function ude(t){const{abi:e,data:r}=t,n=U0(r,0,4);if(n==="0x")throw new jw;const s=[...e||[],AH,sde].find(o=>o.type==="error"&&n===Mw(Ga(o)));if(!s)throw new mH(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Cg(s.inputs,U0(r,4)):void 0,errorName:s.name}}const t6=kH,ZP="/docs/contract/decodeEventLog";function e$(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new Iue({docsPath:ZP});const l=e.find(m=>m.type==="event"&&o===t6(Ga(m)));if(!(l&&"name"in l)||l.type!=="event")throw new yH(o,{docsPath:ZP});const{name:c,inputs:u}=l,h=u==null?void 0:u.some(m=>!("name"in m&&m.name)),f=h?[]:{},p=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<p.length;m++){const[w,y]=p[m],b=a[m];if(!b)throw new e6({abiItem:l,param:w});f[h?y:w.name||y]=dde({param:w,value:b})}const g=u.filter(m=>!("indexed"in m&&m.indexed));if(g.length>0){if(r&&r!=="0x")try{const m=Cg(g,r);if(m)if(h)for(let w=0;w<u.length;w++)f[w]=f[w]??m.shift();else for(let w=0;w<g.length;w++)f[g[w].name]=m[w]}catch(m){if(s)throw m instanceof gH||m instanceof bH?new fy({abiItem:l,data:r,params:g,size:Xr(r)}):m}else if(s)throw new fy({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function dde({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Cg([t],e)||[])[0]}function $H(t){const{abi:e,data:r}=t,n=U0(r,0,4),i=e.find(s=>s.type==="function"&&n===Mw(Ga(s)));if(!i)throw new Tue(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Cg(i.inputs,U0(r,4)):void 0}}function _f(t){const{abi:e,args:r=[],name:n}=t,i=Mi(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?Mw(a)===n:a.type==="event"?t6(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?I7(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=SH(a.inputs,o.inputs,r);if(c)throw new Pue({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function I7(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Rs(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>I7(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>I7(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function SH(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return SH(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Rs(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?Rs(r[n],{strict:!1}):!1)return o}}const Ux="/docs/contract/decodeFunctionResult";function Af(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=_f({abi:e,args:r,name:n});if(!a)throw new B0(n,{docsPath:Ux});s=a}if(s.type!=="function")throw new B0(void 0,{docsPath:Ux});if(!s.outputs)throw new wH(s.name,{docsPath:Ux});const o=Cg(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const zx="/docs/contract/encodeDeployData";function r6(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new _ue({docsPath:zx});if(!("inputs"in i))throw new qP({docsPath:zx});if(!i.inputs||i.inputs.length===0)throw new qP({docsPath:zx});const s=Cf(i.inputs,r);return Eg([n,s])}const Wx="/docs/contract/encodeErrorResult";function JP(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=_f({abi:e,args:n,name:r});if(!l)throw new VP(r,{docsPath:Wx});i=l}if(i.type!=="error")throw new VP(void 0,{docsPath:Wx});const s=Ga(i),o=Mw(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new Sue(i.name,{docsPath:Wx});a=Cf(i.inputs,n)}return Eg([o,a])}class hde extends we{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const QP="/docs/contract/encodeEventTopics";function Dw(t){var l;const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const c=_f({abi:e,name:r});if(!c)throw new GP(r,{docsPath:QP});i=c}if(i.type!=="event")throw new GP(void 0,{docsPath:QP});const s=Ga(i),o=t6(s);let a=[];if(n&&"inputs"in i){const c=(l=i.inputs)==null?void 0:l.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(h=>n[h.name]))??[]:[];u.length>0&&(a=(c==null?void 0:c.map((h,f)=>Array.isArray(u[f])?u[f].map((p,g)=>XP({param:h,value:u[f][g]})):typeof u[f]<"u"&&u[f]!==null?XP({param:h,value:u[f]}):null))??[])}return[o,...a]}function XP({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return oi(xg(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new hde(t.type);return Cf([t],[e])}const eN="/docs/contract/encodeFunctionData";function fde(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=_f({abi:e,args:r,name:n});if(!s)throw new B0(n,{docsPath:eN});i=s}if(i.type!=="function")throw new B0(void 0,{docsPath:eN});return{abi:[i],functionName:Mw(Ga(i))}}function Ds(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:fde(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?Cf(i.inputs,e??[]):void 0;return Eg([s,o??"0x"])}const Hx="/docs/contract/encodeFunctionResult";function pde(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=_f({abi:e,name:r});if(!o)throw new B0(r,{docsPath:Hx});i=o}if(i.type!=="function")throw new B0(void 0,{docsPath:Hx});if(!i.outputs)throw new wH(i.name,{docsPath:Hx});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new vH(n)})();return Cf(i.outputs,s)}const Nn=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function IH({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Nn(e[s]):e[s]}`).join(", ")})`}function Fw(t,e){if(!Rs(t,{strict:!1}))throw new $d({address:t});if(!Rs(e,{strict:!1}))throw new $d({address:e});return t.toLowerCase()===e.toLowerCase()}function t$(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var a;try{const l=e.find(u=>u.type==="event"&&o.topics[0]===t6(u));if(!l)return null;const c=e$({...o,abi:[l],strict:i});return s&&!s.includes(c.eventName)||!gde({args:c.args,inputs:l.inputs,matchArgs:r})?null:{...c,...o}}catch(l){let c,u;if(l instanceof yH)return null;if(l instanceof fy||l instanceof e6){if(i)return null;c=l.abiItem.name,u=(a=l.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function gde(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?Fw(o,a):s.type==="string"||s.type==="bytes"?oi(xg(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function mde(t,e="hex"){const r=TH(t),n=Zk(new Uint8Array(r.length));return r.encode(n),e==="hex"?On(n.bytes):n.bytes}function TH(t){return Array.isArray(t)?yde(t.map(e=>TH(e))):wde(t)}function yde(t){const e=t.reduce((i,s)=>i+s.length,0),r=PH(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function wde(t){const e=typeof t=="string"?Va(t):t,r=PH(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function PH(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new we("Length is too large.")}function vde(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=oi(Eg(["0x05",mde([e?ut(e):"0x",i,r?ut(r):"0x"])]));return n==="bytes"?Va(s):s}async function bde({hash:t,signature:e}){const r=Mi(t)?t:cn(t),{secp256k1:n}=await Fl(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Xwe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),g=tN(p);return new n.Signature(uo(c),uo(u)).addRecoveryBit(g)}const o=Mi(e)?e:cn(e);if(Xr(o)!==65)throw new Error("invalid signature length");const a=qa(`0x${o.slice(130)}`),l=tN(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function tN(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function NH({hash:t,signature:e}){return Eue(await bde({hash:t,signature:e}))}async function n6(t){const{authorization:e,signature:r}=t;return NH({hash:vde(e),signature:r??e})}const OH={gwei:9,wei:18},xde={ether:-9,wei:9};function ai(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function kf(t,e="wei"){return ai(t,OH[e])}function Ts(t,e="wei"){return ai(t,xde[e])}function Lw(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Ede extends we{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Cde extends we{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Lw(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class _de extends we{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var g;const p=Lw({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${kf(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ts(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ts(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ts(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class RH extends we{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class jH extends we{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class MH extends we{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class Ade extends we{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function DH(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>Va(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>On(s))}function FH(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>Va(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Va(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return r==="bytes"?s:s.map(o=>On(o))}function kde(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function $de(t,e,r){return t&e^~t&r}function Sde(t,e,r){return t&e^t&r^e&r}class LH extends Yk{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Fx(this.buffer)}update(e){L0(this),e=Pw(e),Sd(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Fx(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){L0(this),aH(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Id(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;kde(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Fx(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const xu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),yi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ide=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Eu=new Uint32Array(64);let Tde=class extends LH{constructor(e=32){super(64,e,8,!1),this.A=xu[0]|0,this.B=xu[1]|0,this.C=xu[2]|0,this.D=xu[3]|0,this.E=xu[4]|0,this.F=xu[5]|0,this.G=xu[6]|0,this.H=xu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Eu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Eu[h-15],p=Eu[h-2],g=cl(f,7)^cl(f,18)^f>>>3,m=cl(p,17)^cl(p,19)^p>>>10;Eu[h]=m+Eu[h-7]+g+Eu[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=cl(a,6)^cl(a,11)^cl(a,25),p=u+f+$de(a,l,c)+Ide[h]+Eu[h]|0,m=(cl(n,2)^cl(n,13)^cl(n,22))+Sde(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){Id(Eu)}destroy(){this.set(0,0,0,0,0,0,0,0),Id(this.buffer)}};const BH=oH(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Pde=BH[0],Nde=BH[1],Cu=new Uint32Array(80),_u=new Uint32Array(80);let UH=class extends LH{constructor(e=64){super(128,e,16,!1),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Cu[v]=e.getUint32(r),_u[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const A=Cu[v-15]|0,E=_u[v-15]|0,O=Gf(A,E,1)^Gf(A,E,8)^LP(A,E,7),N=Kf(A,E,1)^Kf(A,E,8)^BP(A,E,7),R=Cu[v-2]|0,T=_u[v-2]|0,L=Gf(R,T,19)^Y2(R,T,61)^LP(R,T,6),B=Kf(R,T,19)^Z2(R,T,61)^BP(R,T,6),W=zce(N,B,_u[v-7],_u[v-16]),j=Wce(W,O,L,Cu[v-7],Cu[v-16]);Cu[v]=j|0,_u[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const A=Gf(h,f,14)^Gf(h,f,18)^Y2(h,f,41),E=Kf(h,f,14)^Kf(h,f,18)^Z2(h,f,41),O=h&p^~h&m,N=f&g^~f&w,R=Hce(b,E,N,Nde[v],_u[v]),T=qce(R,y,A,O,Pde[v],Cu[v]),L=R|0,B=Gf(n,i,28)^Y2(n,i,34)^Y2(n,i,39),W=Kf(n,i,28)^Z2(n,i,34)^Z2(n,i,39),j=n&s^n&a^s&a,_=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=uc(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const C=Bce(L,W,_);n=Uce(C,T,B,j),i=C|0}({h:n,l:i}=uc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=uc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=uc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=uc(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=uc(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=uc(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=uc(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=uc(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){Id(Cu,_u)}destroy(){Id(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Ode=class extends UH{constructor(){super(48),this.Ah=yi[0]|0,this.Al=yi[1]|0,this.Bh=yi[2]|0,this.Bl=yi[3]|0,this.Ch=yi[4]|0,this.Cl=yi[5]|0,this.Dh=yi[6]|0,this.Dl=yi[7]|0,this.Eh=yi[8]|0,this.El=yi[9]|0,this.Fh=yi[10]|0,this.Fl=yi[11]|0,this.Gh=yi[12]|0,this.Gl=yi[13]|0,this.Hh=yi[14]|0,this.Hl=yi[15]|0}};const zH=J5(()=>new Tde),Hst=J5(()=>new UH),qst=J5(()=>new Ode),WH=zH;function Rde(t,e){return WH(Mi(t,{strict:!1})?xg(t):t)}function jde(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=Rde(e);return i.set([r],0),n==="bytes"?i:On(i)}function Mde(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(jde({commitment:s,to:n,version:r}));return i}const rN=6,HH=32,r$=4096,qH=HH*r$,nN=qH*rN-1-1*r$*rN;class Dde extends we{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class Fde extends we{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Lde(t){const e=typeof t.data=="string"?Va(t.data):t.data,r=Xr(e);if(!r)throw new Fde;if(r>nN)throw new Dde({maxSize:nN,size:r});const n=[];let i=!0,s=0;for(;i;){const o=Zk(new Uint8Array(qH));let a=0;for(;a<r$;){const l=e.slice(s,s+(HH-1));if(o.pushByte(0),o.pushBytes(l),l.length<31){o.pushByte(128),i=!1;break}a++,s+=31}n.push(o)}return n.map(o=>On(o.bytes))}function Bde(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??Lde({data:e}),s=t.commitments??DH({blobs:i,kzg:r,to:n}),o=t.proofs??FH({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const Ude=2n**256n-1n;class T7 extends we{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class zde extends we{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Wde extends we{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class VH extends we{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class qp extends we{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(qp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class g3 extends we{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ts(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(g3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class P7 extends we{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Ts(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(P7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class N7 extends we{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(N7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class O7 extends we{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(O7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class R7 extends we{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(R7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class j7 extends we{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(j7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class M7 extends we{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(M7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class D7 extends we{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(D7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class F7 extends we{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(F7,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m3 extends we{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Ts(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Ts(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(m3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Bw extends we{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Hde(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Cde({transaction:t})}async function qde({address:t,authorization:e,signature:r}){return Fw(an(t),await n6({authorization:e,signature:r}))}const Vde=t=>t,n$=t=>t;class E1 extends we{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${n$(o)}`,e&&`Request body: ${Nn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class i$ extends we{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${n$(n)}`,`Request body: ${Nn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class iN extends we{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${n$(r)}`,`Request body: ${Nn(e)}`],name:"TimeoutError"})}}const Gde=-1;class Fs extends we{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof i$?e.code:r??Gde}}class bo extends Fs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class gy extends Fs{constructor(e){super(e,{code:gy.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(gy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class my extends Fs{constructor(e){super(e,{code:my.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(my,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class yy extends Fs{constructor(e,{method:r}={}){super(e,{code:yy.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(yy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class wy extends Fs{constructor(e){super(e,{code:wy.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(wy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ef extends Fs{constructor(e){super(e,{code:ef.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class tf extends Fs{constructor(e){super(e,{code:tf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class vy extends Fs{constructor(e){super(e,{code:vy.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(vy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class by extends Fs{constructor(e){super(e,{code:by.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(by,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class xy extends Fs{constructor(e){super(e,{code:xy.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(xy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class kh extends Fs{constructor(e,{method:r}={}){super(e,{code:kh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class z0 extends Fs{constructor(e){super(e,{code:z0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ey extends Fs{constructor(e){super(e,{code:Ey.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ey,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class f0 extends bo{constructor(e){super(e,{code:f0.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(f0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Cy extends bo{constructor(e){super(e,{code:Cy.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Cy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _y extends bo{constructor(e,{method:r}={}){super(e,{code:_y.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(_y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ay extends bo{constructor(e){super(e,{code:Ay.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ay,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ky extends bo{constructor(e){super(e,{code:ky.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ky,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $y extends bo{constructor(e){super(e,{code:$y.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class W0 extends bo{constructor(e){super(e,{code:W0.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(W0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Sy extends bo{constructor(e){super(e,{code:Sy.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Sy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Iy extends bo{constructor(e){super(e,{code:Iy.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Iy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Ty extends bo{constructor(e){super(e,{code:Ty.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Ty,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Py extends bo{constructor(e){super(e,{code:Py.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Py,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Ny extends bo{constructor(e){super(e,{code:Ny.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Ny,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class H0 extends bo{constructor(e){super(e,{code:H0.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Kde extends Fs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const J2=new Ow(8192);function Yde(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(J2.get(r))return J2.get(r);const n=t().finally(()=>J2.delete(r));return J2.set(r,n),n}async function L7(t){return new Promise(e=>setTimeout(e,t))}function y3(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await L7(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<r&&await n({count:a,error:c}))return l({error:c});s(c)}};o()})}function Zde(t,e={}){return async(r,n={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...n},{method:c}=r;if((h=s==null?void 0:s.exclude)!=null&&h.includes(c))throw new kh(new Error("method not supported"),{method:c});if(s!=null&&s.include&&!s.include.includes(c))throw new kh(new Error("method not supported"),{method:c});const u=i?F0(`${l}.${Nn(r)}`):void 0;return Yde(()=>y3(async()=>{try{return await t(r)}catch(f){const p=f;switch(p.code){case gy.code:throw new gy(p);case my.code:throw new my(p);case yy.code:throw new yy(p,{method:r.method});case wy.code:throw new wy(p);case ef.code:throw new ef(p);case tf.code:throw new tf(p);case vy.code:throw new vy(p);case by.code:throw new by(p);case xy.code:throw new xy(p);case kh.code:throw new kh(p,{method:r.method});case z0.code:throw new z0(p);case Ey.code:throw new Ey(p);case f0.code:throw new f0(p);case Cy.code:throw new Cy(p);case _y.code:throw new _y(p);case Ay.code:throw new Ay(p);case ky.code:throw new ky(p);case $y.code:throw new $y(p);case W0.code:throw new W0(p);case Sy.code:throw new Sy(p);case Iy.code:throw new Iy(p);case Ty.code:throw new Ty(p);case Py.code:throw new Py(p);case Ny.code:throw new Ny(p);case H0.code:throw new H0(p);case 5e3:throw new f0(p);default:throw f instanceof we?f:new Kde(p)}}},{delay:({count:f,error:p})=>{var g;if(p&&p instanceof E1){const m=(g=p==null?void 0:p.headers)==null?void 0:g.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Jde(f)}),{enabled:i,id:u})}}function Jde(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===z0.code||t.code===ef.code:t instanceof E1&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}const Qde="0.1.1";function Xde(){return Qde}let Zt=class B7 extends Error{constructor(e,r={}){const n=(()=>{var l;if(r.cause instanceof B7){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof B7&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Xde()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return GH(this,e)}};function GH(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?GH(t.cause,e):e?null:t}function Uw(t,e){if(Vp(t)>e)throw new mhe({givenSize:Vp(t),maxSize:e})}const hc={zero:48,nine:57,A:65,F:70,a:97,f:102};function sN(t){if(t>=hc.zero&&t<=hc.nine)return t-hc.zero;if(t>=hc.A&&t<=hc.F)return t-(hc.A-10);if(t>=hc.a&&t<=hc.f)return t-(hc.a-10)}function ehe(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new yhe({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function KH(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function i6(t,e){if(ho(t)>e)throw new Che({givenSize:ho(t),maxSize:e})}function the(t,e){if(typeof e=="number"&&e>0&&e>ho(t)-1)throw new nq({offset:e,position:"start",size:ho(t)})}function rhe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&ho(t)!==r-e)throw new nq({offset:r,position:"end",size:ho(t)})}function YH(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new _he({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const nhe="#__bigint";function ZH(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+nhe:i,r)}const ihe=new TextDecoder,she=new TextEncoder;function ohe(t){return t instanceof Uint8Array?t:typeof t=="string"?JH(t):ahe(t)}function ahe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function JH(t,e={}){const{size:r}=e;let n=t;r&&(i6(t,r),n=nf(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=sN(i.charCodeAt(l++)),u=sN(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Zt(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c*16+u}return o}function lhe(t,e={}){const{size:r}=e,n=she.encode(t);return typeof r=="number"?(Uw(n,r),che(n,r)):n}function che(t,e){return ehe(t,{dir:"right",size:e})}function Vp(t){return t.length}function uhe(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function dhe(t,e={}){const{size:r}=e;typeof r<"u"&&Uw(t,r);const n=Ya(t,e);return eq(n,e)}function hhe(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(Uw(n,r),n=QH(n)),n.length>1||n[0]>1)throw new ghe(n);return!!n[0]}function Hc(t,e={}){const{size:r}=e;typeof r<"u"&&Uw(t,r);const n=Ya(t,e);return tq(n,e)}function fhe(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(Uw(n,r),n=phe(n)),ihe.decode(n)}function QH(t){return KH(t,{dir:"left"})}function phe(t){return KH(t,{dir:"right"})}class ghe extends Zt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let mhe=class extends Zt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},yhe=class extends Zt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const whe=new TextEncoder,vhe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bhe(t,e={}){const{strict:r=!1}=e;if(!t)throw new oN(t);if(typeof t!="string")throw new oN(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new aN(t);if(!t.startsWith("0x"))throw new aN(t)}function Ka(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function xhe(t){return t instanceof Uint8Array?Ya(t):Array.isArray(t)?Ya(new Uint8Array(t)):t}function XH(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(i6(r,e.size),rf(r,e.size)):r}function Ya(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=vhe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(i6(n,e.size),nf(n,e.size)):n}function Gi(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new rq({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const l=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?rf(l,n):l}function s$(t,e={}){return Ya(whe.encode(t),e)}function rf(t,e){return YH(t,{dir:"left",size:e})}function nf(t,e){return YH(t,{dir:"right",size:e})}function Ll(t,e,r,n={}){const{strict:i}=n;the(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&rhe(s,e,r),s}function ho(t){return Math.ceil((t.length-2)/2)}function eq(t,e={}){const{signed:r}=e;e.size&&i6(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function tq(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:eq(t,e))}function Ehe(t,e={}){const{strict:r=!1}=e;try{return bhe(t,{strict:r}),!0}catch{return!1}}let rq=class extends Zt{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class oN extends Zt{constructor(e){super(`Value \`${typeof e=="object"?ZH(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class aN extends Zt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Che=class extends Zt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class nq extends Zt{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let _he=class extends Zt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Ahe(t){return{address:t.address,amount:Gi(t.amount),index:Gi(t.index),validatorIndex:Gi(t.validatorIndex)}}function iq(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Gi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Gi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Gi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Gi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Gi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Gi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Ahe)}}}const w3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],U7=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],sq=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],oq=[...sq,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],khe=[...sq,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],lN=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],cN=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],aq=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],uN=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Jst=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$he="0x82ad56cb",lq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",She="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ihe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",o$="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class The extends we{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Phe extends we{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function dN(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function Nhe(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=dN(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=dN(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}class cq extends we{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){var w;const g=r?tn(r):void 0;let m=Lw({from:g==null?void 0:g.address,to:h,value:typeof f<"u"&&`${kf(f)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ts(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ts(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ts(c)} gwei`,nonce:u});p&&(m+=`
${Nhe(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class uq extends we{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=_f({abi:r,args:n,name:o}),c=l?IH({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=l?Ga(l,{includeName:!0}):void 0,h=Lw({address:i&&Vde(i),function:u,args:c&&c!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class z7 extends we{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,l;if(r&&r!=="0x")try{o=ude({abi:e,data:r});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=ide[p]}else{const p=u?Ga(u,{includeName:!0}):void 0,g=u&&f?IH({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof mH&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=l,this.signature=c}}class Ohe extends we{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Rhe extends we{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class s6 extends we{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function _g({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new T7({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new T7({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function o6(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof we?t.walk(i=>(i==null?void 0:i.code)===qp.code):t;return n instanceof we?new qp({cause:t,message:n.details}):qp.nodeMessage.test(r)?new qp({cause:t,message:t.details}):g3.nodeMessage.test(r)?new g3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):P7.nodeMessage.test(r)?new P7({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):N7.nodeMessage.test(r)?new N7({cause:t,nonce:e==null?void 0:e.nonce}):O7.nodeMessage.test(r)?new O7({cause:t,nonce:e==null?void 0:e.nonce}):R7.nodeMessage.test(r)?new R7({cause:t,nonce:e==null?void 0:e.nonce}):j7.nodeMessage.test(r)?new j7({cause:t}):M7.nodeMessage.test(r)?new M7({cause:t,gas:e==null?void 0:e.gas}):D7.nodeMessage.test(r)?new D7({cause:t,gas:e==null?void 0:e.gas}):F7.nodeMessage.test(r)?new F7({cause:t}):m3.nodeMessage.test(r)?new m3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Bw({cause:t})}function dq(t,{docsPath:e,...r}){const n=(()=>{const i=o6(t,r);return i instanceof Bw?t:i})();return new cq(n,{docsPath:e,...r})}function zw(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const jhe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function $f(t,e){const r={};return typeof t.authorizationList<"u"&&(r.authorizationList=Mhe(t.authorizationList)),typeof t.accessList<"u"&&(r.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(r.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?r.blobs=t.blobs.map(n=>On(n)):r.blobs=t.blobs),typeof t.data<"u"&&(r.data=t.data),typeof t.from<"u"&&(r.from=t.from),typeof t.gas<"u"&&(r.gas=ut(t.gas)),typeof t.gasPrice<"u"&&(r.gasPrice=ut(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=ut(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(r.maxFeePerGas=ut(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=ut(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(r.nonce=ut(t.nonce)),typeof t.to<"u"&&(r.to=t.to),typeof t.type<"u"&&(r.type=jhe[t.type]),typeof t.value<"u"&&(r.value=ut(t.value)),r}function Mhe(t){return t.map(e=>({address:e.address,r:e.r?ut(BigInt(e.r)):e.r,s:e.s?ut(BigInt(e.s)):e.s,chainId:ut(e.chainId),nonce:ut(e.nonce),...typeof e.yParity<"u"?{yParity:ut(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ut(e.v)}:{}}))}function a$(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const qx=new Map;function hq({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:g}=u[p];g==null||g([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:g}=u[p];g==null||g(f)}})},o=()=>qx.delete(e),a=()=>l().map(({args:u})=>u),l=()=>qx.get(e)||[],c=u=>qx.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=a$();return(r==null?void 0:r([...a(),u]))&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,n),h)}}}function hN(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new MP({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new MP({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function Dhe(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=ut(e)),r!==void 0&&(o.nonce=ut(r)),n!==void 0&&(o.state=hN(n)),i!==void 0){if(o.state)throw new Phe;o.stateDiff=hN(i)}return o}function l$(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!Rs(r,{strict:!1}))throw new $d({address:r});if(e[r])throw new The({address:r});e[r]=Dhe(n)}return e}function Hd(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?tn(e):void 0;if(o&&!Rs(o.address))throw new $d({address:o.address});if(s&&!Rs(s))throw new $d({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Ede;if(n&&n>Ude)throw new g3({maxFeePerGas:n});if(i&&n&&i>n)throw new m3({maxFeePerGas:n,maxPriorityFeePerGas:i})}async function a6(t,e){var j,_,C,$;const{account:r=t.account,authorizationList:n,batch:i=!!((j=t.batch)!=null&&j.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:A,value:E,stateOverride:O,...N}=e,R=r?tn(r):void 0;if(u&&(f||p))throw new we("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new we("Cannot provide both `code` & `to` as parameters.");const T=u&&h,L=f&&p&&A&&h,B=T||L,W=T?fq({code:u,data:h}):L?Bhe({data:h,factory:f,factoryData:p,to:A}):h;try{Hd(e);const S=(typeof s=="bigint"?ut(s):void 0)||o,I=c?iq(c):void 0,D=l$(O),F=($=(C=(_=t.chain)==null?void 0:_.formatters)==null?void 0:C.transactionRequest)==null?void 0:$.format,z=(F||$f)({...zw(N,{format:F}),from:R==null?void 0:R.address,accessList:a,authorizationList:n,blobs:l,data:W,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:B?void 0:A,value:E},"call");if(i&&Fhe({request:z})&&!D&&!I)try{return await Lhe(t,{...z,blockNumber:s,blockTag:o})}catch(G){if(!(G instanceof VH)&&!(G instanceof T7))throw G}const V=(()=>{const G=[z,S];return D&&I?[...G,D,I]:D?[...G,D]:I?[...G,{},I]:G})(),M=await t.request({method:"eth_call",params:V});return M==="0x"?{data:void 0}:{data:M}}catch(P){const S=Uhe(P),{offchainLookup:I,offchainLookupSignature:D}=await Fl(async()=>{const{offchainLookup:F,offchainLookupSignature:k}=await import("./ccip-BVJ2HV0_.js");return{offchainLookup:F,offchainLookupSignature:k}},[]);if(t.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===D&&A)return{data:await I(t,{data:S,to:A})};throw B&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new Rhe({factory:f}):dq(P,{...e,account:R,chain:t.chain})}}function Fhe({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith($he)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function Lhe(t,e){var m;const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return _g({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new VH})(),h=(typeof s=="bigint"?ut(s):void 0)||o,{schedule:f}=hq({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(w){return w.reduce((b,{data:v})=>b+(v.length-2),0)>r*2},fn:async w=>{const y=w.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),b=Ds({abi:w3,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{...c===null?{data:fq({code:o$,data:b})}:{to:c,data:b}},h]});return Af({abi:w3,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:g}]=await f({data:a,to:l});if(!g)throw new s6({data:p});return p==="0x"?{data:void 0}:{data:p}}function fq(t){const{code:e,data:r}=t;return r6({abi:XW(["constructor(bytes, bytes)"]),bytecode:lq,args:[e,r]})}function Bhe(t){const{data:e,factory:r,factoryData:n,to:i}=t;return r6({abi:XW(["constructor(address, bytes, address, bytes)"]),bytecode:She,args:[i,e,r,n]})}function Uhe(t){var r;if(!(t instanceof we))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}const l6="x-batch-gateway:true";async function zhe(t){const{data:e,ccipRequest:r}=t,{args:[n]}=$H({abi:U7,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(l6)?await zhe({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(l){i[a]=!0,s[a]=Whe(l)}})),pde({abi:U7,functionName:"query",result:[i,s]})}function Whe(t){return t.name==="HttpRequestError"&&t.status?JP({abi:U7,errorName:"HttpError",args:[t.status,t.shortMessage]}):JP({abi:[AH],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function c$({chain:t,currentChainId:e}){if(!t)throw new Wde;if(e!==t.id)throw new zde({chain:t,currentChainId:e})}const Hhe=3;function sf(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof s6?t:t instanceof we?t.walk(g=>"data"in g)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof jw?new Ohe({functionName:s}):[Hhe,ef.code].includes(l)&&(c||u||h||f)?new z7({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof i$?u:f??h}):t;return new uq(p,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}class qhe extends we{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){var g;const p=Lw({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${kf(f)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ts(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Ts(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Ts(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Vhe(t,{docsPath:e,...r}){const n=(()=>{const i=o6(t,r);return i instanceof Bw?t:i})();return new qhe(n,{docsPath:e,...r})}function u$(t,{docsPath:e,...r}){const n=(()=>{const i=o6(t,r);return i instanceof Bw?t:i})();return new _de(n,{docsPath:e,...r})}const pq={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function gq(t,e){const r={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?qa(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?qa(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?pq[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(r.authorizationList=Ghe(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function Ghe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function mq(t,e){const r=(t.transactions??[]).map(n=>typeof n=="string"?n:gq(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Qc(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const yq={"0x0":"reverted","0x1":"success"};function wq(t,e){const r={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Qc(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?qa(t.transactionIndex):null,status:t.status?yq[t.status]:null,type:t.type?pq[t.type]||t.type:null};return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}function st(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}async function d$(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?ut(n):r]},{dedupe:!!n});return qa(i)}function Khe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Yhe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fN=Yhe();function Zhe(t,e={}){return{async request(r){var f;const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,l={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:u,signal:h}=l;try{const p=await Khe(async({signal:m})=>{const w={...l,body:Array.isArray(n)?Nn(n.map(A=>({jsonrpc:"2.0",id:A.id??fN.take(),...A}))):Nn({jsonrpc:"2.0",id:n.id??fN.take(),...n}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(a>0?m:null)},y=new Request(t,w),b=await(s==null?void 0:s(y,w))??{...w,url:t};return await i(b.url??t,b)},{errorInstance:new iN({body:n,url:t}),timeout:a,signal:!0});o&&await o(p);let g;if((f=p.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await p.json();else{g=await p.text();try{g=JSON.parse(g||"{}")}catch(m){if(p.ok)throw m;g={error:g}}}if(!p.ok)throw new E1({body:n,details:Nn(g.error)||p.statusText,headers:p.headers,status:p.status,url:t});return g}catch(p){throw p instanceof E1||p instanceof iN?p:new E1({body:n,cause:p,url:t})}}}}const Jhe=`Ethereum Signed Message:
`;function Qhe(t){const e=typeof t=="string"?F0(t):typeof t.raw=="string"?t.raw:On(t.raw),r=F0(`${Jhe}${Xr(e)}`);return Qo([r,e])}function vq(t,e){return oi(Qhe(t),e)}class Xhe extends we{constructor({domain:e}){super(`Invalid domain "${Nn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class efe extends we{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class tfe extends we{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function rfe(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return Nn({domain:o,message:a,primaryType:n,types:i})}function bq(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(_H);if(f&&(typeof h=="number"||typeof h=="bigint")){const[m,w,y]=f;ut(h,{signed:w==="int",size:Number.parseInt(y,10)/8})}if(u==="address"&&typeof h=="string"&&!Rs(h))throw new $d({address:h});const p=u.match(zue);if(p){const[m,w]=p;if(w&&Xr(h)!==Number.parseInt(w,10))throw new Nue({expectedSize:Number.parseInt(w,10),givenSize:Xr(h)})}const g=i[u];g&&(nfe(u),s(g,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Xhe({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new efe({primaryType:n,types:i})}function xq({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function nfe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new tfe({type:t})}function ife(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:xq({domain:e}),...t.types};bq({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(sfe({domain:e,types:i})),n!=="EIP712Domain"&&s.push(Eq({data:r,primaryType:n,types:i})),oi(Qo(s))}function sfe({domain:t,types:e}){return Eq({data:t,primaryType:"EIP712Domain",types:e})}function Eq({data:t,primaryType:e,types:r}){const n=Cq({data:t,primaryType:e,types:r});return oi(n)}function Cq({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[ofe({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=Aq({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return Cf(n,i)}function ofe({primaryType:t,types:e}){const r=cn(afe({primaryType:t,types:e}));return oi(r)}function afe({primaryType:t,types:e}){let r="";const n=_q({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function _q({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),i=n==null?void 0:n[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])_q({primaryType:s.type,types:e},r);return r}function Aq({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},oi(Cq({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},oi(n)];if(r==="string")return[{type:"bytes32"},oi(cn(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>Aq({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},oi(Cf(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}const lfe="1.1.1";let Ls=class W7 extends Error{constructor(e,r={}){var o;const n=r.cause instanceof W7?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof W7&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${lfe}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function gu(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const kq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$q=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sq=/^\(.+?\).*?$/,pN=/^tuple(?<array>(\[(\d*)\])*)$/;function H7(t){let e=t.type;if(pN.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=H7(s),i<r-1&&(e+=", ")}const n=gu(pN,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,H7({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Ip(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=H7(i),n!==r-1&&(e+=", ")}return e}function q7(t){var e;return t.type==="function"?`function ${t.name}(${Ip(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Ip(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ip(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ip(t.inputs)})`:t.type==="constructor"?`constructor(${Ip(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Iq=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cfe(t){return Iq.test(t)}function ufe(t){return gu(Iq,t)}const Tq=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dfe(t){return Tq.test(t)}function hfe(t){return gu(Tq,t)}const Pq=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ffe(t){return Pq.test(t)}function pfe(t){return gu(Pq,t)}const Nq=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function h$(t){return Nq.test(t)}function gfe(t){return gu(Nq,t)}const Oq=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function mfe(t){return Oq.test(t)}function yfe(t){return gu(Oq,t)}const Rq=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function wfe(t){return Rq.test(t)}function vfe(t){return gu(Rq,t)}const bfe=/^receive\(\) external payable$/;function xfe(t){return bfe.test(t)}const gN=new Set(["memory","indexed","storage","calldata"]),Efe=new Set(["indexed"]),V7=new Set(["calldata","memory","storage"]);class Cfe extends Ls{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _fe extends Ls{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Afe extends Ls{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class kfe extends Ls{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class $fe extends Ls{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Sfe extends Ls{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ife extends Ls{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Tfe extends Ls{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Pfe extends Ls{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ag extends Ls{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Nfe extends Ls{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ofe extends Ls{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Rfe extends Ls{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class jfe extends Ls{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Mfe(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const Vx=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function mN(t,e={}){if(ffe(t))return Dfe(t,e);if(dfe(t))return Ffe(t,e);if(cfe(t))return Lfe(t,e);if(mfe(t))return Bfe(t,e);if(wfe(t))return Ufe(t);if(xfe(t))return{type:"receive",stateMutability:"payable"};throw new Nfe({signature:t})}function Dfe(t,e={}){const r=pfe(t);if(!r)throw new Ag({signature:t,type:"function"});const n=no(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(Xc(n[a],{modifiers:V7,structs:e,type:"function"}));const o=[];if(r.returns){const a=no(r.returns),l=a.length;for(let c=0;c<l;c++)o.push(Xc(a[c],{modifiers:V7,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function Ffe(t,e={}){const r=hfe(t);if(!r)throw new Ag({signature:t,type:"event"});const n=no(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xc(n[o],{modifiers:Efe,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function Lfe(t,e={}){const r=ufe(t);if(!r)throw new Ag({signature:t,type:"error"});const n=no(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xc(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function Bfe(t,e={}){const r=yfe(t);if(!r)throw new Ag({signature:t,type:"constructor"});const n=no(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Xc(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function Ufe(t){const e=vfe(t);if(!e)throw new Ag({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const zfe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wfe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Hfe=/^u?int$/;function Xc(t,e){var h,f;const r=Mfe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Vx.has(r))return Vx.get(r);const n=Sq.test(t),i=gu(n?Wfe:zfe,t);if(!i)throw new $fe({param:t});if(i.name&&Vfe(i.name))throw new Sfe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let l,c={};if(n){l="tuple";const p=no(i.type),g=[],m=p.length;for(let w=0;w<m;w++)g.push(Xc(p[w],{structs:a}));c={components:g}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(Hfe.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!jq(l))throw new Afe({type:l});if(i.modifier){if(!((f=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&f.call(h,i.modifier)))throw new Ife({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(V7.has(i.modifier)&&!Gfe(l,!!i.array))throw new Tfe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return Vx.set(r,u),u}function no(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?no(a,[...e,r.trim()]):no(a,e,`${r}${o}`,n);case"(":return no(a,e,`${r}${o}`,n+1);case")":return no(a,e,`${r}${o}`,n-1);default:return no(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new jfe({current:r,depth:n});return e.push(r.trim()),e}function jq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||kq.test(t)||$q.test(t)}const qfe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Vfe(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||kq.test(t)||$q.test(t)||qfe.test(t)}function Gfe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Mq(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!h$(a))continue;const l=gfe(a);if(!l)throw new Ag({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const g=c[f].trim();if(!g)continue;const m=Xc(g,{type:"struct"});u.push(m)}if(!u.length)throw new Ofe({signature:a});e[l.name]=u}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=Dq(l,e)}return n}const Kfe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Dq(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Sq.test(o.type))n.push(o);else{const l=gu(Kfe,o.type);if(!(l!=null&&l.type))throw new Pfe({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(r.has(u))throw new Rfe({type:u});n.push({...o,type:`tuple${c??""}`,components:Dq(e[u]??[],e,new Set([...r,u]))})}else if(jq(u))n.push(o);else throw new _fe({type:u})}}return n}function yN(t){let e;if(typeof t=="string")e=mN(t);else{const r=Mq(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!h$(s)){e=mN(s,r);break}}}if(!e)throw new Cfe({signature:t});return e}function wN(t){const e=[];if(typeof t=="string"){const r=no(t),n=r.length;for(let i=0;i<n;i++)e.push(Xc(r[i],{modifiers:gN}))}else{const r=Mq(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(h$(s))continue;const o=no(s),a=o.length;for(let l=0;l<a;l++)e.push(Xc(o[l],{modifiers:gN,structs:r}))}}if(e.length===0)throw new kfe({params:t});return e}let Yfe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Zfe={checksum:new Yfe(8192)},Gx=Zfe.checksum;function Fq(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=Q5(ohe(t));return r==="Bytes"?n:Ya(n)}const Jfe=/^0x[a-fA-F0-9]{40}$/;function c6(t,e={}){const{strict:r=!0}=e;if(!Jfe.test(t))throw new vN({address:t,cause:new Qfe});if(r){if(t.toLowerCase()===t)return;if(Lq(t)!==t)throw new vN({address:t,cause:new Xfe})}}function Lq(t){if(Gx.has(t))return Gx.get(t);c6(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=Fq(lhe(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return Gx.set(t,i),i}function G7(t,e={}){const{strict:r=!0}=e??{};try{return c6(t,{strict:r}),!0}catch{return!1}}class vN extends Zt{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Qfe extends Zt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Xfe extends Zt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const epe=/^(.*)\[([0-9]*)\]$/,tpe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Bq=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bN=2n**256n-1n;function p0(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=g$(e.type);if(s){const[o,a]=s;return npe(t,{...e,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(e.type==="tuple")return ape(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return rpe(t,{checksum:n});if(e.type==="bool")return ipe(t);if(e.type.startsWith("bytes"))return spe(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ope(t,e);if(e.type==="string")return lpe(t,{staticPosition:i});throw new y$(e.type)}const xN=32,K7=32;function rpe(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?Lq(s):s)(Ya(uhe(n,-20))),32]}function npe(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=Hc(t.readBytes(K7)),c=s+l,u=c+xN;t.setPosition(c);const h=Hc(t.readBytes(xN)),f=Oy(e);let p=0;const g=[];for(let m=0;m<h;++m){t.setPosition(u+(f?m*32:p));const[w,y]=p0(t,e,{checksumAddress:n,staticPosition:u});p+=y,g.push(w)}return t.setPosition(s+32),[g,32]}if(Oy(e)){const l=Hc(t.readBytes(K7)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=p0(t,e,{checksumAddress:n,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=p0(t,e,{checksumAddress:n,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function ipe(t){return[hhe(t.readBytes(32),{size:32}),32]}function spe(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Hc(t.readBytes(32));t.setPosition(r+o);const a=Hc(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[Ya(l),32]}return[Ya(t.readBytes(Number.parseInt(i,10),32)),32]}function ope(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?dhe(i,{signed:r}):Hc(i,{signed:r}),32]}function ape(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(Oy(e)){const l=Hc(t.readBytes(K7)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=p0(t,h,{checksumAddress:n,staticPosition:c});a+=p,o[s?u:h==null?void 0:h.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=p0(t,c,{checksumAddress:n,staticPosition:i});o[s?l:c==null?void 0:c.name]=u,a+=h}return[o,a]}function lpe(t,{staticPosition:e}){const r=Hc(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Hc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=fhe(QH(s));return t.setPosition(e+32),[o,32]}function cpe({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(f$({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function f$({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=g$(n.type);if(i){const[s,o]=i;return dpe(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return mpe(r,{checksumAddress:t,parameter:n});if(n.type==="address")return upe(r,{checksum:t});if(n.type==="bool")return fpe(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=Bq.exec(n.type)??[];return ppe(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return hpe(r,{type:n.type});if(n.type==="string")return gpe(r);throw new y$(n.type)}function p$(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=ho(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(Gi(e+i,{size:32})),n.push(a),i+=ho(a)):r.push(a)}return Ka(...r,...n)}function upe(t,e){const{checksum:r=!1}=e;return c6(t,{strict:r}),{dynamic:!1,encoded:rf(t.toLowerCase())}}function dpe(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new Ape(t);if(!s&&t.length!==n)throw new _pe({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=f$({checksumAddress:r,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=p$(a);if(s){const c=Gi(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ka(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Ka(...a.map(({encoded:l})=>l))}}function hpe(t,{type:e}){const[,r]=e.split("bytes"),n=ho(t);if(!r){let i=t;return n%32!==0&&(i=nf(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Ka(rf(Gi(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new zq({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:nf(t)}}function fpe(t){if(typeof t!="boolean")throw new Zt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rf(XH(t))}}function ppe(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new rq({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Gi(t,{size:32,signed:e})}}function gpe(t){const e=s$(t),r=Math.ceil(ho(e)/32),n=[];for(let i=0;i<r;i++)n.push(nf(Ll(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Ka(nf(Gi(ho(e),{size:32})),...n)}}function mpe(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],l=Array.isArray(t)?o:a.name,c=f$({checksumAddress:r,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?p$(s):Ka(...s.map(({encoded:o})=>o))}}function g$(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Oy(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Oy);const r=g$(t.type);return!!(r&&Oy({...t,type:r[1]}))}const ype={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bpe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new vpe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new EN({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new EN({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function wpe(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(ype);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class EN extends Zt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class vpe extends Zt{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class bpe extends Zt{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function xpe(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?JH(e):e,o=wpe(s);if(Vp(s)===0&&t.length>0)throw new Cpe;if(Vp(s)&&Vp(s)<32)throw new Epe({data:typeof e=="string"?e:Ya(e),parameters:t,size:Vp(s)});let a=0;const l=n==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=p0(o,u,{checksumAddress:i,staticPosition:0});a+=f,n==="Array"?l.push(h):l[u.name??c]=h}return l}function m$(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new Wq({expectedLength:t.length,givenLength:e.length});const i=cpe({checksumAddress:n,parameters:t,values:e}),s=p$(i);return s.length===0?"0x":s}function Y7(t,e){if(t.length!==e.length)throw new Wq({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(Y7.encode(i,s))}return Ka(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return c6(l),rf(l.toLowerCase(),i?32:0)}if(r==="string")return s$(n);if(r==="bytes")return n;if(r==="bool")return rf(XH(n),i?32:1);const s=r.match(Bq);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return Gi(n,{size:i?32:h,signed:c==="int"})}const o=r.match(tpe);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(n.length-2)/2)throw new zq({expectedSize:Number.parseInt(c,10),value:n});return nf(n,i?32:0)}const a=r.match(epe);if(a&&Array.isArray(n)){const[l,c]=a,u=[];for(let h=0;h<n.length;h++)u.push(e(c,n[h],!0));return u.length===0?"0x":Ka(...u)}throw new y$(r)}t.encode=e})(Y7||(Y7={}));function Uq(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?wN(t):t}class Epe extends Zt{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ip(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Cpe extends Zt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class _pe extends Zt{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class zq extends Zt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${ho(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Wq extends Zt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ape extends Zt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class y$ extends Zt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Hq extends Yk{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Gce(e);const n=Pw(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Id(s)}update(e){return L0(this),this.iHash.update(e),this}digestInto(e){L0(this),Sd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qq=(t,e,r)=>new Hq(t,e).update(r).digest();qq.create=(t,e)=>new Hq(t,e);function Vq(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new Kx({signature:t});if(typeof t.s>"u")throw new Kx({signature:t});if(r&&typeof t.yParity>"u")throw new Kx({signature:t});if(t.r<0n||t.r>bN)throw new Npe({value:t.r});if(t.s<0n||t.s>bN)throw new Ope({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new v$({value:t.yParity})}function kpe(t){return Gq(Ya(t))}function Gq(t){if(t.length!==130&&t.length!==132)throw new Ppe({signature:t});const e=BigInt(Ll(t,0,32)),r=BigInt(Ll(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return w$(i)}catch{throw new v$({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function $pe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Spe(t)}function Spe(t){const e=typeof t=="string"?Gq(t):t instanceof Uint8Array?kpe(t):typeof t.r=="string"?Tpe(t):t.v?Ipe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return Vq(e),e}function Ipe(t){return{r:t.r,s:t.s,yParity:w$(t.v)}}function Tpe(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=w$(r)),typeof n!="number")throw new v$({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function w$(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Rpe({value:t})}class Ppe extends Zt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ho(xhe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Kx extends Zt{constructor({signature:e}){super(`Signature \`${ZH(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Npe extends Zt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Ope extends Zt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class v$ extends Zt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Rpe extends Zt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function jpe(t,e={}){return typeof t.chainId=="string"?Mpe(t):{...t,...e.signature}}function Mpe(t){const{address:e,chainId:r,nonce:n}=t,i=$pe(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const Dpe="0x8010801080108010801080108010801080108010801080108010801080108010",Fpe=Uq("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Kq(t){if(typeof t=="string"){if(Ll(t,-32)!==Dpe)throw new Upe(t)}else Vq(t.authorization)}function Lpe(t){Kq(t);const e=tq(Ll(t,-64,-32)),r=Ll(t,-e-64,-64),n=Ll(t,0,-e-64),[i,s,o]=xpe(Fpe,r);return{authorization:jpe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function Bpe(t){try{return Kq(t),!0}catch{return!1}}let Upe=class extends Zt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class zpe extends we{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Wpe(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new zpe({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${a}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function Yq(t,e="wei"){return Wpe(t,OH[e])}const Hpe={path:"/api/v1/analytics_events",method:"POST"},qpe={path:"/api/v1/apps/:app_id",method:"GET"},Vpe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},Gpe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},Kpe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},Ype={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},Zpe={path:"/api/v1/farcaster/init",method:"POST"},Jpe={path:"/api/v1/farcaster/authenticate",method:"POST"},Qpe={path:"/api/v1/farcaster/link",method:"POST"},Xpe={path:"/api/v1/farcaster/unlink",method:"POST"},e0e={path:"/api/v1/farcaster/status",method:"GET"},t0e={path:"/api/v2/farcaster/init",method:"POST"},r0e={path:"/api/v2/farcaster/authenticate",method:"POST"},n0e={path:"/api/v1/guest/authenticate",method:"POST"},i0e={path:"/api/v1/mfa/passkeys/init",method:"POST"},s0e={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},o0e={path:"/api/v1/oauth/authenticate",method:"POST"},a0e={path:"/api/v1/oauth/init",method:"POST"},l0e={path:"/api/v1/oauth/link",method:"POST"},c0e={path:"/api/v1/oauth/unlink",method:"POST"},u0e={path:"/api/v1/passkeys/link",method:"POST"},d0e={path:"/api/v1/passkeys/authenticate",method:"POST"},h0e={path:"/api/v1/passkeys/register",method:"POST"},f0e={path:"/api/v1/passkeys/authenticate/init",method:"POST"},p0e={path:"/api/v1/passkeys/register/init",method:"POST"},g0e={path:"/api/v1/passkeys/link/init",method:"POST"},m0e={path:"/api/v1/passwordless/authenticate",method:"POST"},y0e={path:"/api/v1/passwordless/init",method:"POST"},w0e={path:"/api/v1/passwordless/link",method:"POST"},v0e={path:"/api/v1/passwordless/unlink",method:"POST"},b0e={path:"/api/v1/passwordless/update",method:"POST"},x0e={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},E0e={path:"/api/v1/passwordless_sms/init",method:"POST"},C0e={path:"/api/v1/passwordless_sms/link",method:"POST"},_0e={path:"/api/v1/passwordless_sms/unlink",method:"POST"},A0e={path:"/api/v1/passwordless_sms/update",method:"POST"},k0e={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},$0e={path:"/api/v1/recovery/oauth/init",method:"POST"},S0e={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},I0e={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},T0e={path:"/api/v1/recovery/configuration_icloud",method:"POST"},P0e=(t,e)=>e?Object.entries(e).reduce((r,[n,i])=>r.replace(`:${n}`,`${i}`),t):t,CN={path:"/api/v1/sessions",method:"POST"},N0e={path:"/api/v1/sessions/logout",method:"POST"},O0e={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Zq={path:"/api/v1/siwe/init",method:"POST"},R0e={path:"/api/v1/siwe/authenticate",method:"POST"},j0e={path:"/api/v1/siwe/link",method:"POST"},M0e={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},D0e={path:"/api/v1/siwe/unlink",method:"POST"},F0e={path:"/api/v1/siws/init",method:"POST"},L0e={path:"/api/v1/siws/authenticate",method:"POST"},B0e={path:"/api/v1/siws/link",method:"POST"},U0e={path:"/api/v1/siws/unlink",method:"POST"},z0e={path:"/api/v1/users/me/accept_terms",method:"POST"},W0e={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},H0e={path:"/api/v1/wallets",method:"POST"},Yx={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},q0e={path:"/api/v1/wallets/revoke",method:"POST"};var pt,_N=((pt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",pt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",pt.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",pt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",pt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",pt.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",pt.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",pt.INVALID_DATA="invalid_data",pt.INVALID_CREDENTIALS="invalid_credentials",pt.INVALID_CAPTCHA="invalid_captcha",pt.LINKED_TO_ANOTHER_USER="linked_to_another_user",pt.ALLOWLIST_REJECTED="allowlist_rejected",pt.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",pt.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",pt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",pt.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",pt.TOO_MANY_REQUESTS="too_many_requests",pt.RESOURCE_CONFLICT="resource_conflict",pt.INVALID_ORIGIN="invalid_origin",pt.MISSING_ORIGIN="missing_origin",pt.INVALID_NATIVE_APP_ID="invalid_native_app_id",pt.TOKEN_ALREADY_USED="token_already_used",pt.ALREADY_LOGGED_OUT="already_logged_out",pt.NOT_SUPPORTED="not_supported",pt.USER_UNSUBSCRIBED="user_unsubscribed",pt.MAX_APPS_REACHED="max_apps_reached",pt.USER_LIMIT_REACHED="max_accounts_reached",pt.DEVICE_REVOKED="device_revoked",pt.WALLET_PASSWORD_EXISTS="wallet_password_exists",pt.OAUTH_STATE_MISMATCH="oauth_state_mismatch",pt.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",pt.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",pt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",pt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",pt.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",pt.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",pt.CANNOT_SET_PASSWORD="cannot_set_password",pt.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",pt.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",pt.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",pt.USER_DOES_NOT_EXIST="user_does_not_exist",pt.ALREADY_EXISTS="resource_already_exists",pt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",pt.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",pt.FEATURE_NOT_ENABLED="feature_not_enabled",pt.INSUFFICIENT_FUNDS="insufficient_funds",pt.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",pt.INVALID_POLICY_FORMAT="invalid_policy_format",pt.POLICY_VIOLATION="policy_violation",pt.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",pt.INVALID_REQUEST="invalid_request",pt.SIGNUP_DISABLED="signup_disabled",pt);function AN(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),o=Number(n[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var V0e={}.constructor;function Lh(t){return t!=null&&t.constructor===V0e}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function u6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K0e(n.key),n)}}function d6(t,e,r){return e&&G0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K0e(t){var e=Y0e(t,"string");return q0(e)=="symbol"?e:e+""}function Y0e(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z0e="1.2.0",J0e="1.7.35",kN=" ext. ",Q0e=/^\d+$/,Rn=function(){function t(e){u6(this,t),Jq(e),this.metadata=e,Qq.call(this,e)}return d6(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&Q0e.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new $N(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new $N(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),$N=function(){function t(e,r){u6(this,t),this.globalMetadataObject=r,this.metadata=e,Qq.call(this,r.metadata)}return d6(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new X0e(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&SN(this.types(),r))return new tge(SN(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?kN:this.metadata[13]||kN}}])}(),X0e=function(){function t(e,r){u6(this,t),this._format=e,this.metadata=r}return d6(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!ege.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),ege=/^\(?\$1\)?$/,tge=function(){function t(e,r){u6(this,t),this.type=e,this.metadata=r}return d6(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function SN(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Jq(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Lh(t)||!Lh(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Lh(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+rge(t)+": "+t,"."))}var rge=function(e){return q0(e)};function h6(t,e){if(e=new Rn(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function nge(t,e){return e.countries.hasOwnProperty(t)}function Qq(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?AN(e,Z0e)===-1?this.v2=!0:AN(e,J0e)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function f6(t,e,r){return ige(t,e,void 0,r)}function ige(t,e,r,n){e&&(n=new Rn(n.metadata),n.selectNumberingPlan(e));var i=n.type(r),s=i&&i.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function sge(t,e,r){if(e===void 0&&(e={}),r=new Rn(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return Xq(t.phone||t.nationalNumber,t.country,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Xq(t,e,r){switch(f6(t,e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function eu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function oge(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=age(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(t,e){if(t){if(typeof t=="string")return IN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IN(t,e):void 0}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var lge=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function b$(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new Rn(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(eu(n,r.nationalNumberPattern())){if(Zx(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||Zx(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=oge(lge),s;!(s=i()).done;){var o=s.value;if(Zx(n,o,r))return o}}}}function Zx(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:eu(t,e.pattern())}function cge(t,e,r){if(e=e||{},r=new Rn(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return b$(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return eu(n,r.nationalNumberPattern())}function uge(t,e,r){var n=new Rn(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return dge(e,s,r)}):[]}function dge(t,e,r){var n=new Rn(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var x$=2,hge=17,fge=3,is="0-9---",pge="--",gge="/",mge=".",yge=" ",wge="()\\[\\]",vge="~",Ba="".concat(pge).concat(gge).concat(mge).concat(yge).concat(wge).concat(vge),p6="+",bge=new RegExp("(["+is+"])");function eV(t,e,r,n){if(e){var i=new Rn(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(bge);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function Z7(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,o=n.length-1,a=o>0&&n[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(r,e.nationalPrefixTransformRule()),o>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),a&&(s=n[1])}var c;if(a){var u=t.indexOf(n[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=n[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function xge(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Ege(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){if(t){if(typeof t=="string")return TN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TN(t,e):void 0}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tV(t,e){var r=e.countries,n=e.metadata;n=new Rn(n);for(var i=xge(r),s;!(s=i()).done;){var o=s.value;if(n.selectNumberingPlan(o),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return o}else if(b$({phone:t,country:o},void 0,n.metadata))return o}}function E$(t,e){var r=e.nationalNumber,n=e.metadata,i=n.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:tV(r,{countries:i,metadata:n.metadata})}function J7(t,e,r){var n=Z7(t,r),i=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!Cge(t,s,r))return{nationalNumber:t};if(r.numberingPlan.possibleLengths()&&(e||(e=E$(r.numberingPlan.callingCode(),{nationalNumber:s,metadata:r})),!_ge(s,e,r)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function Cge(t,e,r){return!(eu(t,r.nationalNumberPattern())&&!eu(e,r.nationalNumberPattern()))}function _ge(t,e,r){switch(f6(t,e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function rV(t,e,r,n,i){var s=e||r?h6(e||r,i):n;if(t.indexOf(s)===0){i=new Rn(i),i.selectNumberingPlan(e||r,s);var o=t.slice(s.length),a=J7(o,e,i),l=a.nationalNumber,c=J7(t,e,i),u=c.nationalNumber;if(!eu(u,i.nationalNumberPattern())&&eu(l,i.nationalNumberPattern())||f6(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function C$(t,e,r,n,i){if(!t)return{};var s;if(t[0]!=="+"){var o=eV(t,e||r,n,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||r||n){var a=rV(t,e,r,n,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new Rn(i);for(var u=2;u-1<=fge&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function nV(t){return t.replace(new RegExp("[".concat(Ba,"]+"),"g")," ").trim()}var iV=/(\$\d)/;function sV(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(iV,e.nationalPrefixFormattingRule()):e.format());return n?nV(s):s}var Age=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function kge(t,e,r){var n=new Rn(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(Age.test(n.IDDPrefix()))return n.IDDPrefix()}var $ge=";ext=",Zf=function(e){return"([".concat(is,"]{1,").concat(e,"})")};function oV(t){var e="20",r="15",n="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=$ge+Zf(e),g=s+l+o+Zf(e)+a,m=s+c+o+Zf(n)+a,w=u+Zf(i)+"#",y=h+f+o+Zf(r)+a,b=h+"(?:,)+"+o+Zf(n)+a;return p+"|"+g+"|"+m+"|"+w+"|"+y+"|"+b}var Sge="["+is+"]{"+x$+"}",Ige="["+p6+"]{0,1}(?:["+Ba+"]*["+is+"]){3,}["+Ba+is+"]*",Tge=new RegExp("^["+p6+"]{0,1}(?:["+Ba+"]*["+is+"]){1,2}$","i"),Pge=Ige+"(?:"+oV()+")?",Nge=new RegExp("^"+Sge+"$|^"+Pge+"$","i");function Oge(t){return t.length>=x$&&Nge.test(t)}function Rge(t){return Tge.test(t)}function jge(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}var PN={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function Mge(t,e,r,n){if(r?r=Lge({},PN,r):r=PN,n=new Rn(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=v3(s,t.carrierCode,"NATIONAL",n,r),Jx(o,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(o=v3(s,null,"INTERNATIONAL",n,r),o="+".concat(i," ").concat(o),Jx(o,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return jge({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var a=Fge(s,t.carrierCode,i,r.fromCountry,n);return Jx(a,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function v3(t,e,r,n,i){var s=Dge(n.formats(),t);return s?sV(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function Dge(t,e){return Bge(t,function(r){if(r.leadingDigitsPatterns().length>0){var n=r.leadingDigitsPatterns()[r.leadingDigitsPatterns().length-1];if(e.search(n)!==0)return!1}return eu(e,r.pattern())})}function Jx(t,e,r,n){return e?n(t,e,r):t}function Fge(t,e,r,n,i){var s=h6(n,i.metadata);if(s===r){var o=v3(t,e,"NATIONAL",i);return r==="1"?r+" "+o:o}var a=kge(n,void 0,i.metadata);if(a)return"".concat(a," ").concat(r," ").concat(v3(t,null,"INTERNATIONAL",i))}function Lge(){for(var t=1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;t<r.length;){if(r[t])for(var i in r[t])r[0][i]=r[t][i];t++}return r[0]}function Bge(t,e){for(var r=0;r<t.length;){if(e(t[r]))return t[r];r++}}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function NN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ON(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(r),!0).forEach(function(n){Uge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uge(t,e,r){return(e=aV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aV(n.key),n)}}function Hge(t,e,r){return e&&Wge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aV(t){var e=qge(t,"string");return Ry(e)=="symbol"?e:e+""}function qge(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _$=function(){function t(e,r,n){if(zge(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(Lh(r)&&Lh(r.countries)){n=r;var i=e;if(!Kge.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=C$(i,void 0,void 0,void 0,n),o=s.countryCallingCode,a=s.number;if(r=a,e=o,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");Jq(n);var l=Gge(e,n),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return Hge(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:uge(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return sge(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return cge(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Rn(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return b$(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return Mge(this,r,n?ON(ON({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])}(),Vge=function(e){return/^[A-Z]{2}$/.test(e)};function Gge(t,e){var r,n,i=new Rn(e);return Vge(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var Kge=/^\+\d+$/;function Q7(t){"@babel/helpers - typeof";return Q7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q7(t)}function Yge(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jge(t,e,r){return e=My(e),Qge(t,A$()?Reflect.construct(e,r||[],My(t).constructor):e.apply(t,r))}function Qge(t,e){if(e&&(Q7(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xge(t)}function Xge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function X7(t){var e=typeof Map=="function"?new Map:void 0;return X7=function(n){if(n===null||!rme(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return tme(n,arguments,My(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),jy(i,n)},X7(t)}function tme(t,e,r){if(A$())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&jy(i,r.prototype),i}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function rme(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},jy(t,e)}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},My(t)}var Ic=function(t){function e(r){var n;return Zge(this,e),n=Jge(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return eme(e,t),Yge(e)}(X7(Error)),RN=new RegExp("(?:"+oV()+")$","i");function nme(t){var e=t.search(RN);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(RN),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function ime(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=sme(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return jN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jN(t,e):void 0}}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ome={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function lV(t){return ome[t]}function b3(t){for(var e="",r=ime(t.split("")),n;!(n=r()).done;){var i=n.value,s=lV(i);s&&(e+=s)}return e}function ame(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=lme(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lme(t,e){if(t){if(typeof t=="string")return MN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MN(t,e):void 0}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function DN(t){for(var e="",r=ame(t.split("")),n;!(n=r()).done;){var i=n.value;e+=cme(i,e)||""}return e}function cme(t,e,r){return t==="+"?e?void 0:"+":lV(t)}var cV="+",ume="[\\-\\.\\(\\)]?",FN="(["+is+"]|"+ume+")",dme="^\\"+cV+FN+"*["+is+"]"+FN+"*$",hme=new RegExp(dme,"g"),eC=is,fme="["+eC+"]+((\\-)*["+eC+"])*",pme="a-zA-Z",gme="["+pme+"]+((\\-)*["+eC+"])*",mme="^("+fme+"\\.)*"+gme+"\\.?$",yme=new RegExp(mme,"g"),LN="tel:",tC=";phone-context=",wme=";isub=";function vme(t){var e=t.indexOf(tC);if(e<0)return null;var r=e+tC.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function bme(t){return t===null?!0:t.length===0?!1:hme.test(t)||yme.test(t)}function xme(t,e){var r=e.extractFormattedPhoneNumber,n=vme(t);if(!bme(n))throw new Ic("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===cV&&(i+=n);var s=t.indexOf(LN),o;s>=0?o=s+LN.length:o=0;var a=t.indexOf(tC);i+=t.substring(o,a)}var l=i.indexOf(wme);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var Eme=250,Cme=new RegExp("["+p6+is+"]"),_me=new RegExp("[^"+is+"#]+$");function Ame(t,e,r){if(e=e||{},r=new Rn(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new Ic("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=$me(t,e.v2,e.extract),i=n.number,s=n.ext,o=n.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Ic("TOO_SHORT"):new Ic("NOT_A_NUMBER");return{}}var a=Ime(i,e.defaultCountry,e.defaultCallingCode,r),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new Ic("INVALID_COUNTRY");return{}}if(!c||c.length<x$){if(e.v2)throw new Ic("TOO_SHORT");return{}}if(c.length>hge){if(e.v2)throw new Ic("TOO_LONG");return{}}if(e.v2){var p=new _$(u,c,r.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var g=(e.extended?r.hasSelectedNumberingPlan():l)?eu(c,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:g,possible:g?!0:!!(e.extended===!0&&r.possibleLengths()&&Xq(c,l,r)),phone:c,ext:s}:g?Sme(l,c,s):{}}function kme(t,e,r){if(t){if(t.length>Eme){if(r)throw new Ic("TOO_LONG");return}if(e===!1)return t;var n=t.search(Cme);if(!(n<0))return t.slice(n).replace(_me,"")}}function $me(t,e,r){var n=xme(t,{extractFormattedPhoneNumber:function(o){return kme(o,r,e)}});if(!n)return{};if(!Oge(n))return Rge(n)?{error:"TOO_SHORT"}:{};var i=nme(n);return i.ext?i:{number:n}}function Sme(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function Ime(t,e,r,n){var i=C$(DN(t),void 0,e,r,n.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)n.selectNumberingPlan(o);else if(a&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),o=r||h6(e,n.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=J7(DN(a),l,n),u=c.nationalNumber,h=c.carrierCode,f=E$(o,{nationalNumber:u,metadata:n});return f&&(l=f,f==="001"||n.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){Tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tme(t,e,r){return(e=Pme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pme(t){var e=Nme(t,"string");return Dy(e)=="symbol"?e:e+""}function Nme(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ome(t,e,r){return Ame(t,UN(UN({},e),{},{v2:!0}),r)}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){jme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jme(t,e,r){return(e=Mme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mme(t){var e=Dme(t,"string");return Fy(e)=="symbol"?e:e+""}function Dme(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fme(t,e){return zme(t)||Ume(t,e)||Bme(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bme(t,e){if(t){if(typeof t=="string")return WN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?WN(t,e):void 0}}function WN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ume(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function zme(t){if(Array.isArray(t))return t}function Wme(t){var e=Array.prototype.slice.call(t),r=Fme(e,4),n=r[0],i=r[1],s=r[2],o=r[3],a,l,c;if(typeof n=="string")a=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=Rme({defaultCountry:i},l));else if(Lh(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function HN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(r),!0).forEach(function(n){Hme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hme(t,e,r){return(e=qme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qme(t){var e=Vme(t,"string");return Ly(e)=="symbol"?e:e+""}function Vme(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gme(t,e,r){e&&e.defaultCountry&&!nge(e.defaultCountry,r)&&(e=qN(qN({},e),{},{defaultCountry:void 0}));try{return Ome(t,e,r)}catch(n){if(!(n instanceof Ic))throw n}}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){Kme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kme(t,e,r){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yme(t){var e=Zme(t,"string");return By(e)=="symbol"?e:e+""}function Zme(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jme(){var t=Wme(arguments),e=t.text,r=t.options,n=t.metadata;r=GN(GN({},r),{},{extract:!1});var i=Gme(e,r,n);return i&&i.isPossible()||!1}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function Qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t1e(n.key),n)}}function e1e(t,e,r){return e&&Xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t1e(t){var e=r1e(t,"string");return Uy(e)=="symbol"?e:e+""}function r1e(t,e){if(Uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n1e=function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;Qme(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return e1e(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function i1e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=s1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(t,e){if(t){if(typeof t=="string")return KN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KN(t,e):void 0}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Aa="x",Qx=new RegExp(Aa);function ab(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function YN(t,e){return t[e]===")"&&e++,o1e(t.slice(0,e))}function o1e(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(n,a),n=a+1}return i}function a1e(t,e,r){for(var n=i1e(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(Qx)<0)return;e=t.search(Qx),t=t.replace(Qx,s)}return[t,e]}function l1e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return u1e(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function c1e(t,e,r){return f6(t,e,r)==="IS_POSSIBLE"}function u1e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=ZN(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(o)return o}return ZN(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function ZN(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=sV(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),d1e(o,t))return o}function d1e(t,e){return b3(t)===e.getNationalDigits()}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function h1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g1e(n.key),n)}}function p1e(t,e,r){return e&&f1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g1e(t){var e=m1e(t,"string");return zy(e)=="symbol"?e:e+""}function m1e(t,e){if(zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y1e=function(){function t(){h1e(this,t)}return p1e(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([Xx(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(b1e);if(!n){if(v1e.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),o=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(Xx(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Xx(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:w1e(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function w1e(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var v1e=/[\(\)\[\]\?\:\|]/,b1e=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Xx(t){return t.length===1?t[0]:t}function JN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=x1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1e(t,e){if(t){if(typeof t=="string")return QN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?QN(t,e):void 0}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function E1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A1e(n.key),n)}}function _1e(t,e,r){return e&&C1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A1e(t){var e=k1e(t,"string");return Wy(e)=="symbol"?e:e+""}function k1e(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $1e=function(){function t(e){E1e(this,t),this.matchTree=new y1e().parse(e)}return _1e(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=rC(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function rC(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=rC(i,o,r&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=JN(e.args),u;!(u=c()).done;){var h=u.value,f=rC(t,h,r);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=JN(e.args),g;!(g=p()).done;){var m=g.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function XN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=S1e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1e(t,e){if(t){if(typeof t=="string")return eO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eO(t,e):void 0}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N1e(n.key),n)}}function P1e(t,e,r){return e&&T1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t){var e=O1e(t,"string");return Hy(e)=="symbol"?e:e+""}function O1e(t,e){if(Hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nC="9",R1e=15,j1e=ab(nC,R1e),M1e=/[- ]/,D1e=function(){return/\[([^\[\]])*\]/g},F1e=function(){return/\d(?=[^,}][^,}])/g},L1e=new RegExp("["+Ba+"]*\\$1["+Ba+"]*(\\$\\d["+Ba+"]*)*$"),tO=3,B1e=function(){function t(e){e.state;var r=e.metadata;I1e(this,t),this.metadata=r,this.resetFormat()}return P1e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(c1e(n.nationalSignificantNumber,n.country,this.metadata))for(var s=XN(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=l1e(n,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,Aa),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Aa),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,o=r.international,a=i,l=a.length-tO;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return n.formatSuits(c,o,s)&&n.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=r.leadingDigitsPatterns()[i];if(n.length<tO)try{return new $1e(o).match(n,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var c=a.value;return n.chosenFormat===c?0:L1e.test(n.getFormatFormat(c,r.international))?n.createTemplateForFormat(c,r)?(n.chosenFormat=c,0):(n.matchingFormats=n.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=XN(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&M1e.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Aa,n+1),i++;return YN(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Aa)+ab(Aa,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,o=n.nationalPrefix,a=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=r.pattern();l=l.replace(D1e(),"\\d").replace(F1e(),"\\d");var c=j1e.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,nC);u.test(h)&&(c=h);var f=this.getFormatFormat(r,s),p;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:o})){var g=f.replace(iV,r.nationalPrefixFormattingRule());if(b3(r.nationalPrefixFormattingRule())===(o||"")+b3("$1")&&(f=g,p=!0,o))for(var m=o.length;m>0;)f=f.replace(/\d/,Aa),m--}var w=c.replace(new RegExp(l),f).replace(new RegExp(nC,"g"),Aa);return p||(a?w=ab(Aa,a.length)+" "+w:o&&(w=ab(Aa,o.length)+this.getSeparatorAfterNationalPrefix(r)+w)),s&&(w=nV(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=a1e(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],YN(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var o=r.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function uV(t,e){return H1e(t)||W1e(t,e)||z1e(t,e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1e(t,e){if(t){if(typeof t=="string")return rO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rO(t,e):void 0}}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function W1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function H1e(t){if(Array.isArray(t))return t}function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K1e(n.key),n)}}function G1e(t,e,r){return e&&V1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1e(t){var e=Y1e(t,"string");return qy(e)=="symbol"?e:e+""}function Y1e(t,e){if(qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z1e="["+Ba+is+"]+",J1e=new RegExp("^"+Z1e+"$","i"),Q1e="(?:["+p6+"]["+Ba+is+"]*|["+Ba+is+"]+)",X1e=new RegExp("[^"+Ba+is+"]+.*$"),eye=/[^\d\[\]]/,tye=function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;q1e(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return G1e(t,[{key:"input",value:function(r,n){var i=iye(r),s=uV(i,2),o=s[0],a=s[1],l=b3(o),c;return a&&(n.digits||(n.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=C$("+"+r.getDigitsWithoutInternationalPrefix(),r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&eye.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=Z7(r,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,a,o,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=Z7(r,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==n)return this.onExtractedNationalNumber(o,l,a,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==r&&(l=u)}o({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var o=eV(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return r.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=rV(r.digits,r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])}();function rye(t){var e=t.search(Q1e);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(X1e,""),r&&(t="+"+t),t}}function nye(t){var e=rye(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function iye(t){var e=nye(t),r=uV(e,2),n=r[0],i=r[1];return J1e.test(n)||(n=""),[n,i]}function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function sye(t,e){return cye(t)||lye(t,e)||aye(t,e)||oye()}function oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t,e){if(t){if(typeof t=="string")return nO(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nO(t,e):void 0}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function lye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function cye(t){if(Array.isArray(t))return t}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fye(n.key),n)}}function hye(t,e,r){return e&&dye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fye(t){var e=pye(t,"string");return Vy(e)=="symbol"?e:e+""}function pye(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dV=function(){function t(e,r){uye(this,t),this.metadata=new Rn(r);var n=this.getCountryAndCallingCode(e),i=sye(n,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return hye(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(Lh(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new n1e({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new B1e({state:this.state,metadata:this.metadata}),this.parser=new tye({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(a){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=r.nationalPrefix,o=n,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(r?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,Aa)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(E$(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,o=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+o:"+"+n;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,o=this._getCountry();if(n&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new Rn(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=tV(n,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var h=new _$(o||s,n,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function gye(t){return new Rn(t).getCountries()}function mye(t,e,r){if(e[t])return new _$(t,e[t],r)}function g6(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:l})=>{a==="success"&&e===s&&(r[o]=l.request)})),s=>r[s]||t.request}async function hV(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=g6(t,{method:"eth_newFilter"}),u=s?Dw({abi:n,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?ut(o):o,toBlock:typeof l=="bigint"?ut(l):l,topics:u}]});return{abi:n,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class yye extends we{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class k$ extends we{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wye extends we{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ts(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class fV extends we{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function Ol(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){var c,u,h;const s=i??!1,o=r!==void 0?ut(r):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new fV({blockHash:e,blockNumber:r});return(((h=(u=(c=t.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:h.format)||mq)(a,"getBlock")}async function $$(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function vye(t,e){return pV(t,e)}async function pV(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const c=r||await st(t,Ol,"getBlock")({}),u=await a({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return uo(l)}catch{const[a,l]=await Promise.all([r?Promise.resolve(r):st(t,Ol,"getBlock")({}),st(t,$$,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new k$;const c=l-a.baseFeePerGas;return c<0n?0n:c}}async function bye(t,e){return iC(t,e)}async function iC(t,e){var f,p;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var g,m;return typeof((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((m=n==null?void 0:n.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new yye;const l=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),c=g=>g*BigInt(Math.ceil(o*l))/BigInt(l),u=r||await st(t,Ol,"getBlock")({});if(typeof((p=n==null?void 0:n.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const g=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:c,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new k$;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await pV(t,{block:u,chain:n,request:i}),m=c(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??m+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??c(await st(t,$$,"getGasPrice")({}))}}async function Sf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return qa(e)}const S$=["blobVersionedHashes","chainId","fees","gas","nonce","type"],iO=new Map;async function Ww(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:l,parameters:c=S$,type:u}=e,h=r&&tn(r),f={...e,...h?{from:h==null?void 0:h.address}:{}};let p;async function g(){return p||(p=await st(t,Ol,"getBlock")({blockTag:"latest"}),p)}let m;async function w(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await st(t,Sf,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&h)if(l){const y=await w();f.nonce=await l.consume({address:h.address,chainId:y,client:t})}else f.nonce=await st(t,d$,"getTransactionCount")({address:h.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&n&&o){const y=DH({blobs:n,kzg:o});if(c.includes("blobVersionedHashes")){const b=Mde({commitments:y,to:"hex"});f.blobVersionedHashes=b}if(c.includes("sidecars")){const b=FH({blobs:n,commitments:y,kzg:o}),v=Bde({blobs:n,commitments:y,proofs:b,to:"hex"});f.sidecars=v}}if(c.includes("chainId")&&(f.chainId=await w()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=Hde(f)}catch{let y=iO.get(t.uid);if(typeof y>"u"){const b=await g();y=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",iO.set(t.uid,y)}f.type=y?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await g(),{maxFeePerGas:b,maxPriorityFeePerGas:v}=await iC(t,{block:y,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<v)throw new wye({maxPriorityFeePerGas:v});f.maxPriorityFeePerGas=v,f.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new k$;if(typeof e.gasPrice>"u"){const y=await g(),{gasPrice:b}=await iC(t,{block:y,chain:i,request:f,type:"legacy"});f.gasPrice=b}}return c.includes("gas")&&typeof s>"u"&&(f.gas=await st(t,I$,"estimateGas")({...f,account:h&&{address:h.address,type:"json-rpc"}})),Hd(f),delete f.parameters,f}async function I$(t,e){var i,s,o;const{account:r=t.account}=e,n=r?tn(r):void 0;try{const{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,value:A,stateOverride:E,...O}=await Ww(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),R=(typeof h=="bigint"?ut(h):void 0)||f,T=l$(E),L=await(async()=>{if(O.to)return O.to;if(l&&l.length>0)return await n6({authorization:l[0]}).catch(()=>{throw new we("`to` is required. Could not infer from `authorizationList`")})})();Hd(e);const B=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,j=(B||$f)({...zw(O,{format:B}),from:n==null?void 0:n.address,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gas:g,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:L,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:T?[j,R??t.experimental_blockTag??"latest",T]:R?[j,R]:[j]}))}catch(a){throw Vhe(a,{...e,account:n,chain:t.chain})}}async function xye(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,l=Ds({abi:r,args:i,functionName:s});try{return await st(t,I$,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:n,...a})}catch(c){const u=a.account?tn(a.account):void 0;throw sf(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function T$(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(m=>Dw({abi:[m],eventName:m.name,args:o?void 0:a}))],s&&(h=h[0]));let f;r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof n=="bigint"?ut(n):n,toBlock:typeof i=="bigint"?ut(i):i}]});const p=f.map(g=>Qc(g));return u?t$({abi:u,args:a,logs:p,strict:c}):p}async function gV(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?_f({abi:r,name:o}):void 0,h=u?void 0:r.filter(f=>f.type==="event");return st(t,T$,"getLogs")({address:n,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function Za(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Ds({abi:r,args:i,functionName:s});try{const{data:l}=await st(t,a6,"call")({...o,data:a,to:n});return Af({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw sf(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Eye(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?tn(a.account):t.account,c=Ds({abi:r,args:i,functionName:o});try{const{data:u}=await st(t,a6,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...a,account:l}),h=Af({abi:r,args:i,functionName:o,data:u||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:n,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw sf(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l==null?void 0:l.address})}}const e8=new Map,sO=new Map;let Cye=0;function tu(t,e,r){const n=++Cye,i=()=>e8.get(t)||[],s=()=>{const u=i();e8.set(t,u.filter(h=>h.id!==n))},o=()=>{const u=i();if(!u.some(f=>f.id===n))return;const h=sO.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(e8.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=(...h)=>{var p,g;const f=i();if(f.length!==0)for(const m of f)(g=(p=m.fns)[u])==null||g.call(p,...h)};const c=r(l);return typeof c=="function"&&sO.set(t,c),o}function kg(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await(r==null?void 0:r(a))??n;await L7(l);const c=async()=>{i&&(await t({unpoll:s}),await L7(n),c())};c()})(),s}const _ye=new Map,Aye=new Map;function kye(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,_ye),n=e(t,Aye);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function $ye(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=kye(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const Sye=t=>`blockNumber.${t}`;async function Hw(t,{cacheTime:e=t.cacheTime}={}){const r=await $ye(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Sye(t.uid),cacheTime:e});return BigInt(r)}async function m6(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>Qc(s));return!("abi"in e)||!e.abi?i:t$({abi:e.abi,logs:i,strict:r})}async function y6(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Iye(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const w=f??!1,y=Nn(["watchContractEvent",n,i,s,t.uid,o,h,w,a]);return tu(y,{onLogs:c,onError:l},b=>{let v;a!==void 0&&(v=a-1n);let A,E=!1;const O=kg(async()=>{var N;if(!E){try{A=await st(t,hV,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:w,fromBlock:a})}catch{}E=!0;return}try{let R;if(A)R=await st(t,m6,"getFilterChanges")({filter:A});else{const T=await st(t,Hw,"getBlockNumber")({});v&&v<T?R=await st(t,gV,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:v+1n,toBlock:T,strict:w}):R=[],v=T}if(R.length===0)return;if(s)b.onLogs(R);else for(const T of R)b.onLogs([T])}catch(R){A&&R instanceof tf&&(E=!1),(N=b.onError)==null||N.call(b,R)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await st(t,y6,"uninstallFilter")({filter:A}),O()}})})():(()=>{const w=f??!1,y=Nn(["watchContractEvent",n,i,s,t.uid,o,h,w]);let b=!0,v=()=>b=!1;return tu(y,{onLogs:c,onError:l},A=>((async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),O=o?Dw({abi:r,eventName:o,args:i}):[],{unsubscribe:N}=await E.subscribe({params:["logs",{address:n,topics:O}],onData(R){var L;if(!b)return;const T=R.result;try{const{eventName:B,args:W}=e$({abi:r,data:T.data,topics:T.topics,strict:f}),j=Qc(T,{args:W,eventName:B});A.onLogs([j])}catch(B){let W,j;if(B instanceof fy||B instanceof e6){if(f)return;W=B.abiItem.name,j=(L=B.abiItem.inputs)==null?void 0:L.some(C=>!("name"in C&&C.name))}const _=Qc(T,{args:j?[]:{},eventName:W});A.onLogs([_])}},onError(R){var T;(T=A.onError)==null||T.call(A,R)}});v=N,b||v()}catch(E){l==null||l(E)}})(),()=>v()))})()}class qd extends we{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Bh extends we{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function P$(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const t8=new Ow(128);async function w6(t,e){var b,v,A,E;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:g,value:m,...w}=e;if(typeof r>"u")throw new qd({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?tn(r):null;try{Hd(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await n6({authorization:s[0]}).catch(()=>{throw new we("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let N;n!==null&&(N=await st(t,Sf,"getChainId")({}),c$({currentChainId:N,chain:n}));const R=(A=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:A.format,L=(R||$f)({...zw(w,{format:R}),accessList:i,authorizationList:s,blobs:o,chainId:N,data:a,from:y==null?void 0:y.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:O,type:g,value:m},"sendTransaction"),B=t8.get(t.uid),W=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:W,params:[L]},{retryCount:0})}catch(j){if(B===!1)throw j;const _=j;if(_.name==="InvalidInputRpcError"||_.name==="InvalidParamsRpcError"||_.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(C=>(t8.set(t.uid,!0),C)).catch(C=>{const $=C;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(t8.set(t.uid,!1),_):$});throw _}}if((y==null?void 0:y.type)==="local"){const N=await st(t,Ww,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:y.nonceManager,parameters:[...S$,"sidecars"],type:g,value:m,...w,to:O}),R=(E=n==null?void 0:n.serializers)==null?void 0:E.transaction,T=await y.signTransaction(N,{serializer:R});return await st(t,P$,"sendRawTransaction")({serializedTransaction:T})}throw(y==null?void 0:y.type)==="smart"?new Bh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Bh({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(O){throw O instanceof Bh?O:u$(O,{...e,account:y,chain:e.chain||void 0})}}async function Gy(t,e){return Gy.internal(t,w6,"sendTransaction",e)}(function(t){async function e(r,n,i,s){const{abi:o,account:a=r.account,address:l,args:c,dataSuffix:u,functionName:h,...f}=s;if(typeof a>"u")throw new qd({docsPath:"/docs/contract/writeContract"});const p=a?tn(a):null,g=Ds({abi:o,args:c,functionName:h});try{return await st(r,n,i)({data:`${g}${u?u.replace("0x",""):""}`,to:l,account:p,...f})}catch(m){throw sf(m,{abi:o,address:l,args:c,docsPath:"/docs/contract/writeContract",functionName:h,sender:p==null?void 0:p.address})}}t.internal=e})(Gy||(Gy={}));class Tye extends we{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const mV="0x5792579257925792579257925792579257925792579257925792579257925792",yV=ut(0,{size:32});async function wV(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=r?tn(r):null,h=e.calls.map(f=>{const p=f,g=p.abi?Ds({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&g?Qo([g,p.dataSuffix]):g,to:p.to,value:p.value?ut(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:n,chainId:ut(i.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new W0(new we(b,{details:b}))}if(a&&h.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new H0(new we(y,{details:y}))}const g=[];for(const y of h){const b=w6(t,{account:u,chain:i,data:y.data,to:y.to,value:y.value?uo(y.value):void 0});g.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(g);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const w=m.map(y=>y.status==="fulfilled"?y.value:yV);return{id:Qo([...w,ut(i.id,{size:32}),mV])}}throw u$(f,{...e,account:u,chain:e.chain})}}async function vV(t,e){async function r(u){if(u.endsWith(mV.slice(2))){const f=zc($7(u,-64,-32)),p=$7(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(p.map(w=>yV.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=g.some(w=>w===null)?100:g.every(w=>(w==null?void 0:w.status)==="0x1")?200:g.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:qa(f),receipts:g.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:n,chainId:i?qa(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:uo(u.blockNumber),gasUsed:uo(u.gasUsed),status:yq[u.status]})))??[],statusCode:c,status:l,version:o}}async function bV(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=Nn(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:h,reject:f}=a$();let p;const g=tu(c,{resolve:h,reject:f},m=>{const w=kg(async()=>{const y=b=>{clearTimeout(p),w(),b(),g()};try{const b=await y3(async()=>{const v=await st(t,vV,"getCallsStatus")({id:r});if(l&&v.status==="failure")throw new Tye(v);return v},{retryCount:s,delay:o});if(!i(b))return;y(()=>m.resolve(b))}catch(b){y(()=>m.reject(b))}},{interval:n,emitOnBegin:!0});return w});return p=a?setTimeout(()=>{g(),clearTimeout(p),f(new Pye({id:r}))},a):void 0,await u}class Pye extends we{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const sC=256;let Q2=sC,X2;function xV(t=11){if(!X2||Q2+t>sC*2){X2="",Q2=0;for(let e=0;e<sC;e++)X2+=(256+Math.random()*256|0).toString(16).substring(1)}return X2.substring(Q2,Q2+++t)}function EV(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(r==null?void 0:r.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?tn(t.account):void 0,{config:p,request:g,value:m}=t.transport({chain:r,pollingInterval:u}),w={...p,...m},y={account:f,batch:e,cacheTime:h,ccipRead:n,chain:r,key:i,name:s,pollingInterval:u,request:g,transport:w,type:o,uid:xV(),...a?{experimental_blockTag:a}:{}};function b(v){return A=>{const E=A(v);for(const N in y)delete E[N];const O={...v,...E};return Object.assign(O,{extend:b(O)})}}return Object.assign(y,{extend:b(y)})}function N$(t){var r,n,i,s,o,a;if(!(t instanceof we))return!1;const e=t.walk(l=>l instanceof z7);return e instanceof z7?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((n=e.data)==null?void 0:n.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function CV(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Mi(e)?e:null}function oC(t){let e=new Uint8Array(32).fill(0);if(!t)return On(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=CV(r[n]),s=i?xg(i):oi(Fh(r[n]),"bytes");e=oi(Qo([e,s]),"bytes")}return On(e)}function Nye(t){return`[${t.slice(2)}]`}function Oye(t){const e=new Uint8Array(32).fill(0);return t?CV(t)||oi(Fh(t)):On(e)}function O$(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(Fh(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=Fh(i[s]);o.byteLength>255&&(o=Fh(Nye(Oye(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function Rye(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return _g({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[oC(s),BigInt(i)]:[oC(s)];try{const f=Ds({abi:cN,functionName:"addr",args:h}),p={address:c,abi:oq,functionName:"resolveWithGateways",args:[cn(O$(s)),f,o??[l6]],blockNumber:r,blockTag:n},m=await st(t,Za,"readContract")(p);if(m[0]==="0x")return null;const w=Af({abi:cN,args:h,functionName:"addr",data:m[0]});return w==="0x"||zc(w)==="0x00"?null:w}catch(f){if(a)throw f;if(N$(f))return null;throw f}}class jye extends we{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class fm extends we{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class R$ extends we{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Mye extends we{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Dye=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Fye=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Lye=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Bye=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Uye(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function oO(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function _V({uri:t,gatewayUrls:e}){const r=Lye.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=oO(e==null?void 0:e.ipfs,"https://ipfs.io"),i=oO(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(Dye),{protocol:o,subpath:a,target:l,subtarget:c=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||Fye.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e!=null&&e.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(Bye,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new R$({uri:t})}function AV(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new jye({data:t});return t.image||t.image_url||t.image_data}async function zye({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await j$({gatewayUrls:t,uri:AV(r)})}catch{throw new R$({uri:e})}}async function j$({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=_V({uri:e,gatewayUrls:t});if(n||await Uye(r))return r;throw new R$({uri:e})}function Wye(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new fm({reason:"Only EIP-155 supported"});if(!o)throw new fm({reason:"Chain ID not found"});if(!l)throw new fm({reason:"Contract address not found"});if(!i)throw new fm({reason:"Token ID not found"});if(!a)throw new fm({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function Hye(t,{nft:e}){if(e.namespace==="erc721")return Za(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Za(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Mye({namespace:e.namespace})}async function qye(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?Vye(t,{gatewayUrls:e,record:r}):j$({uri:r,gatewayUrls:e})}async function Vye(t,{gatewayUrls:e,record:r}){const n=Wye(r),i=await Hye(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=_V({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return j$({uri:AV(u),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),zye({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function kV(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return _g({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:oq,args:[cn(O$(s)),Ds({abi:lN,functionName:"text",args:[oC(s),i]}),o??[l6]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await st(t,Za,"readContract")(h);if(p[0]==="0x")return null;const g=Af({abi:lN,functionName:"text",data:p[0]});return g===""?null:g}catch(h){if(a)throw h;if(N$(h))return null;throw h}}async function Gye(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await st(t,kV,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await qye(t,{record:l,gatewayUrls:n})}catch{return null}}async function Kye(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return _g({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:khe,args:[r,s,o??[l6]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},h=st(t,Za,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(N$(u))return null;throw u}}async function Yye(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return _g({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await st(t,Za,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[cn(O$(i))],blockNumber:r,blockTag:n});return l}async function $V(t,e){var w,y,b;const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...g}=e,m=r?tn(r):void 0;try{Hd(e);const A=(typeof n=="bigint"?ut(n):void 0)||i,E=(b=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,N=(E||$f)({...zw(g,{format:E}),from:m==null?void 0:m.address,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[N,A]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(v){throw dq(v,{...e,account:m,chain:t.chain})}}async function Zye(t){const e=g6(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function SV(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(n?[n]:void 0),c=g6(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>Dw({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ut(s):s,toBlock:typeof a=="bigint"?ut(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function IV(t){const e=g6(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function Jye(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?ut(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function Qye(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Xye(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?ut(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),qa(s)}async function aC(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?ut(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class ewe extends we{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function twe(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await st(t,Za,"readContract")({abi:rwe,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new ewe({address:r}):o}}const rwe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function nwe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function iwe(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?ut(r):void 0,o=await t.request({method:"eth_feeHistory",params:[ut(e),s||n,i]},{dedupe:!!s});return nwe(o)}async function swe(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Qc(s));return e.abi?t$({abi:e.abi,logs:i,strict:r}):i}function owe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function awe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?qa(t.nonce):void 0,storageProof:t.storageProof?owe(t.storageProof):void 0}}async function lwe(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?ut(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return awe(a)}async function cwe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?ut(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function M$(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var u,h,f;const o=n||"latest",a=r!==void 0?ut(r):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ut(s)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,ut(s)]},{dedupe:!!a}),!l)throw new RH({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.transaction)==null?void 0:f.format)||gq)(l,"getTransaction")}async function uwe(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([st(t,Hw,"getBlockNumber")({}),e?st(t,M$,"getTransaction")({hash:e}):void 0]),s=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return s?n-s+1n:0n}async function lb(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new jH({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||wq)(r,"getTransactionReceipt")}async function dwe(t,e){var b;const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return _g({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let g=0,m=0;for(let v=0;v<c.length;v++){const{abi:A,address:E,args:O,functionName:N}=c[v];try{const R=Ds({abi:A,args:O,functionName:N});m+=(R.length-2)/2,u>0&&m>u&&p[g].length>0&&(g++,m=(R.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:R,target:E}]}catch(R){const T=sf(R,{abi:A,address:E,args:O,docsPath:"/docs/contract/multicall",functionName:N,sender:r});if(!i)throw T;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:E}]}}const w=await Promise.allSettled(p.map(v=>st(t,Za,"readContract")({...f===null?{code:o$}:{address:f},abi:w3,account:r,args:[v],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),y=[];for(let v=0;v<w.length;v++){const A=w[v];if(A.status==="rejected"){if(!i)throw A.reason;for(let O=0;O<p[v].length;O++)y.push({status:"failure",error:A.reason,result:void 0});continue}const E=A.value;for(let O=0;O<E.length;O++){const{returnData:N,success:R}=E[O],{callData:T}=p[v][O],{abi:L,address:B,functionName:W,args:j}=c[y.length];try{if(T==="0x")throw new jw;if(!R)throw new s6({data:N});const _=Af({abi:L,args:j,data:N,functionName:W});y.push(i?{result:_,status:"success"}:_)}catch(_){const C=sf(_,{abi:L,address:B,args:j,docsPath:"/docs/contract/multicall",functionName:W});if(!i)throw C;y.push({error:C,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new we("multicall results mismatch");return y}async function lC(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?iq(f.blockOverrides):void 0,g=f.calls.map(w=>{const y=w,b=y.account?tn(y.account):void 0,v=y.abi?Ds(y):y.data,A={...y,data:y.dataSuffix?Qo([v||"0x",y.dataSuffix]):v,from:y.from??(b==null?void 0:b.address)};return Hd(A),$f(A)}),m=f.stateOverrides?l$(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:g,stateOverrides:m})}const u=(typeof r=="bigint"?ut(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...mq(f),calls:f.calls.map((g,m)=>{var L,B;const{abi:w,args:y,functionName:b,to:v}=i[p].calls[m],A=((L=g.error)==null?void 0:L.data)??g.returnData,E=BigInt(g.gasUsed),O=(B=g.logs)==null?void 0:B.map(W=>Qc(W)),N=g.status==="0x1"?"success":"failure",R=w&&N==="success"&&A!=="0x"?Af({abi:w,data:A,functionName:b}):null,T=(()=>{var j;if(N==="success")return;let W;if(((j=g.error)==null?void 0:j.data)==="0x"?W=new jw:g.error&&(W=new s6(g.error)),!!W)return sf(W,{abi:w??[],address:v??"0x",args:y,functionName:b??"<unknown>"})})();return{data:A,gasUsed:E,logs:O,status:N,...N==="success"?{result:R}:{error:T}}})}))}catch(l){const c=l,u=o6(c,{});throw u instanceof Bw?c:u}}function cC(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new Zt("Unable to normalize signature.");return i}function uC(t,e){const r=typeof t,n=e.type;switch(n){case"address":return G7(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>uC(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>uC(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function TV(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return TV(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?G7(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?G7(r[n],{strict:!1}):!1)return o}}function PV(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?yN(t):t;return{...n,...r?{hash:Gp(n)}:{}}}function v6(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=Ehe(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?NV(c)===Ll(e,0,4):c.type==="event"?Gp(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new x3({name:e});if(o.length===1)return{...o[0],...i?{hash:Gp(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:Gp(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?uC(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=TV(c.inputs,a.inputs,n);if(h)throw new fwe({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new x3({name:e});return{...l,...i?{hash:Gp(l)}:{}}}function NV(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return v6(r,n)}return t[0]})();return Ll(Gp(e),0,4)}function hwe(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return v6(n,i)}return t[0]})(),r=typeof e=="string"?e:q7(e);return cC(r)}function Gp(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return v6(r,n)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Fq(s$(hwe(e)))}class fwe extends Zt{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${cC(q7(e.abiItem))}\`, and`,`\`${r.type}\` in \`${cC(q7(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class x3 extends Zt{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function pwe(...t){var s;const[e,r]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[mwe(o),a]}return t})(),{bytecode:n,args:i}=r;return Ka(n,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?m$(e.inputs,i):"0x")}function gwe(t){return PV(t)}function mwe(t){const e=t.find(r=>r.type==="constructor");if(!e)throw new x3({name:"constructor"});return e}function ywe(...t){const[e,r=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,h]=t;return[aO(c,u,{args:h}),h]}const[a,l]=t;return[a,l]})(),{overloads:n}=e,i=n?aO([e,...n],e.name,{args:r}):e,s=wwe(i),o=r.length>0?m$(i.inputs,r):void 0;return o?Ka(s,o):s}function Jf(t,e={}){return PV(t,e)}function aO(t,e,r){const n=v6(t,e,r);if(n.type!=="function")throw new x3({name:e,type:"function"});return n}function wwe(t){return NV(t)}const vwe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ul="0x0000000000000000000000000000000000000000",bwe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function xwe(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?tn(e.account):void 0;if(o&&!c)throw new we("`account` is required when `traceAssetChanges` is true");const u=c?pwe(gwe("constructor(bytes, bytes)"),{bytecode:lq,args:[bwe,ywe(Jf("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:I}=await $V(t,{account:c.address,...S,data:S.abi?Ds(S):S.data});return I.map(({address:D,storageKeys:F})=>F.length>0?D:null)})).then(S=>S.flat().filter(Boolean)):[],f=await lC(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((S,I)=>({abi:[Jf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:S,from:ul,nonce:I})),stateOverrides:[{address:ul,nonce:0}]}]:[],{calls:[...i,{}].map(S=>({...S,from:c==null?void 0:c.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((S,I)=>({abi:[Jf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:S,from:ul,nonce:I})),stateOverrides:[{address:ul,nonce:0}]},{calls:h.map((S,I)=>({to:S,abi:[Jf("function decimals() returns (uint256)")],functionName:"decimals",from:ul,nonce:I})),stateOverrides:[{address:ul,nonce:0}]},{calls:h.map((S,I)=>({to:S,abi:[Jf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ul,nonce:I})),stateOverrides:[{address:ul,nonce:0}]},{calls:h.map((S,I)=>({to:S,abi:[Jf("function symbol() returns (string)")],functionName:"symbol",from:ul,nonce:I})),stateOverrides:[{address:ul,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[g,m,,w,y,b,v,A]=o?f:[],{calls:E,...O}=p,N=E.slice(0,-1)??[],R=(g==null?void 0:g.calls)??[],T=(m==null?void 0:m.calls)??[],L=[...R,...T].map(S=>S.status==="success"?uo(S.data):null),B=(w==null?void 0:w.calls)??[],W=(y==null?void 0:y.calls)??[],j=[...B,...W].map(S=>S.status==="success"?uo(S.data):null),_=((b==null?void 0:b.calls)??[]).map(S=>S.status==="success"?S.result:null),C=((A==null?void 0:A.calls)??[]).map(S=>S.status==="success"?S.result:null),$=((v==null?void 0:v.calls)??[]).map(S=>S.status==="success"?S.result:null),P=[];for(const[S,I]of j.entries()){const D=L[S];if(typeof I!="bigint"||typeof D!="bigint")continue;const F=_[S-1],k=C[S-1],z=$[S-1],V=S===0?{address:vwe,decimals:18,symbol:"ETH"}:{address:h[S-1],decimals:z||F?Number(F??1):void 0,symbol:k??void 0};P.some(M=>M.token.address===V.address)||P.push({token:V,value:{pre:D,post:I,diff:I-D}})}return{assetChanges:P,block:O,results:N}}const OV="0x6492649264926492649264926492649264926492649264926492649264926492";function Ewe(t){if(Ll(t,-32)!==OV)throw new Awe(t)}function Cwe(t){const{data:e,signature:r,to:n}=t;return Ka(m$(Uq("address, bytes, bytes"),[n,e,r]),OV)}function _we(t){try{return Ewe(t),!0}catch{return!1}}class Awe extends Zt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D$=BigInt(0),dC=BigInt(1);function qw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function F$(t){if(!qw(t))throw new Error("Uint8Array expected")}function Ky(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ev(t){const e=t.toString(16);return e.length&1?"0"+e:e}function RV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?D$:BigInt("0x"+t)}const jV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kwe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yy(t){if(F$(t),jV)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=kwe[t[r]];return e}const fc={_0:48,_9:57,A:65,F:70,a:97,f:102};function lO(t){if(t>=fc._0&&t<=fc._9)return t-fc._0;if(t>=fc.A&&t<=fc.F)return t-(fc.A-10);if(t>=fc.a&&t<=fc.f)return t-(fc.a-10)}function E3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(jV)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=lO(t.charCodeAt(s)),a=lO(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function Uh(t){return RV(Yy(t))}function MV(t){return F$(t),RV(Yy(Uint8Array.from(t).reverse()))}function Vw(t,e){return E3(t.toString(16).padStart(e*2,"0"))}function DV(t,e){return Vw(t,e).reverse()}function Mo(t,e,r){let n;if(typeof e=="string")try{n=E3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(qw(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function C3(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];F$(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const r8=t=>typeof t=="bigint"&&D$<=t;function L$(t,e,r){return r8(t)&&r8(e)&&r8(r)&&e<=t&&t<r}function g0(t,e,r,n){if(!L$(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function $we(t){let e;for(e=0;t>D$;t>>=dC,e+=1);return e}const b6=t=>(dC<<BigInt(t))-dC,n8=t=>new Uint8Array(t),cO=t=>Uint8Array.from(t);function Swe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=n8(t),i=n8(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),l=(h=n8(0))=>{i=a(cO([0]),h),n=a(),h.length!==0&&(i=a(cO([1]),h),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){n=a();const p=n.slice();f.push(p),h+=n.length}return C3(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const Iwe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||qw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function x6(t,e,r={}){const n=(i,s,o)=>{const a=Iwe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function uO(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _s=BigInt(0),ts=BigInt(1),$h=BigInt(2),Twe=BigInt(3),FV=BigInt(4),LV=BigInt(5),BV=BigInt(8);function ys(t,e){const r=t%e;return r>=_s?r:e+r}function Ao(t,e,r){let n=t;for(;e-- >_s;)n*=n,n%=r;return n}function hC(t,e){if(t===_s)throw new Error("invert: expected non-zero number");if(e<=_s)throw new Error("invert: expected positive modulus, got "+e);let r=ys(t,e),n=e,i=_s,s=ts;for(;r!==_s;){const a=n/r,l=n%r,c=i-s*a;n=r,r=l,i=s,s=c}if(n!==ts)throw new Error("invert: does not exist");return ys(i,e)}function UV(t,e){const r=(t.ORDER+ts)/FV,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Pwe(t,e){const r=(t.ORDER-LV)/BV,n=t.mul(e,$h),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,$h),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Nwe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ts,r=0;for(;e%$h===_s;)e/=$h,r++;let n=$h;const i=B$(t);for(;dO(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return UV;let s=i.pow(n,e);const o=(e+ts)/$h;return function(l,c){if(l.is0(c))return c;if(dO(l,c)!==1)throw new Error("Cannot find square root");let u=r,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let g=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const w=ts<<BigInt(u-g-1),y=l.pow(h,w);u=g,h=l.sqr(y),f=l.mul(f,h),p=l.mul(p,y)}return p}}function Owe(t){return t%FV===Twe?UV:t%BV===LV?Pwe:Nwe(t)}const Rwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jwe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Rwe.reduce((n,i)=>(n[i]="function",n),e);return x6(t,r)}function Mwe(t,e,r){if(r<_s)throw new Error("invalid exponent, negatives unsupported");if(r===_s)return t.ONE;if(r===ts)return e;let n=t.ONE,i=e;for(;r>_s;)r&ts&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ts;return n}function zV(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function dO(t,e){const r=(t.ORDER-ts)/$h,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function WV(t,e){e!==void 0&&hy(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function B$(t,e,r=!1,n={}){if(t<=_s)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=WV(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:b6(i),ZERO:_s,ONE:ts,create:l=>ys(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return _s<=l&&l<t},is0:l=>l===_s,isOdd:l=>(l&ts)===ts,neg:l=>ys(-l,t),eql:(l,c)=>l===c,sqr:l=>ys(l*l,t),add:(l,c)=>ys(l+c,t),sub:(l,c)=>ys(l-c,t),mul:(l,c)=>ys(l*c,t),pow:(l,c)=>Mwe(a,l,c),div:(l,c)=>ys(l*hC(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>hC(l,t),sqrt:n.sqrt||(l=>(o||(o=Owe(t)),o(a,l))),toBytes:l=>r?DV(l,s):Vw(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?MV(l):Uh(l)},invertBatch:l=>zV(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function HV(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function qV(t){const e=HV(t);return e+Math.ceil(e/2)}function Dwe(t,e,r=!1){const n=t.length,i=HV(e),s=qV(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?MV(t):Uh(t),a=ys(o,e-ts)+ts;return r?DV(a,i):Vw(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hO=BigInt(0),fC=BigInt(1);function i8(t,e){const r=e.negate();return t?r:e}function VV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function s8(t,e){VV(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=b6(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function fO(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=fC);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function Fwe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Lwe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const o8=new WeakMap,GV=new WeakMap;function a8(t){return GV.get(t)||1}function Bwe(t,e){return{constTimeNegate:i8,hasPrecomputes(r){return a8(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>hO;)n&fC&&(i=i.add(s)),s=s.double(),n>>=fC;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=s8(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=s8(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:g}=fO(i,l,a);i=c,h?o=o.add(i8(p,n[g])):s=s.add(i8(f,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=s8(r,e);for(let a=0;a<o.windows&&i!==hO;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=fO(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(r,n,i){let s=o8.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&o8.set(n,i(s))),s},wNAFCached(r,n,i){const s=a8(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=a8(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){VV(n,e),GV.set(r,n),o8.delete(r)}}}function Uwe(t,e,r,n){Fwe(r,t),Lwe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=$we(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=b6(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(f=f.add(g),p!==0)for(let m=0;m<l;m++)f=f.double()}return f}function KV(t){return jwe(t.Fp),x6(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...WV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pO(t){t.lowS!==void 0&&Ky("lowS",t.lowS),t.prehash!==void 0&&Ky("prehash",t.prehash)}function zwe(t){const e=KV(t);x6(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Wwe extends Error{constructor(e=""){super(e)}}const Tc={Err:Wwe,_tlv:{encode:(t,e)=>{const{Err:r}=Tc;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=ev(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?ev(i.length/2|128):"";return ev(t)+s+i+e},decode(t,e){const{Err:r}=Tc;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Tc;if(t<jc)throw new e("integer: negative integers are not allowed");let r=ev(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Tc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Uh(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Tc,i=Mo("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Tc,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function l8(t,e){return Yy(Vw(t,e))}const jc=BigInt(0),Ln=BigInt(1);BigInt(2);const c8=BigInt(3),Hwe=BigInt(4);function qwe(t){const e=zwe(t),{Fp:r}=e,n=B$(e.n,e.nBitLength),i=e.toBytes||((v,A,E)=>{const O=A.toAffine();return C3(Uint8Array.from([4]),r.toBytes(O.x),r.toBytes(O.y))}),s=e.fromBytes||(v=>{const A=v.subarray(1),E=r.fromBytes(A.subarray(0,r.BYTES)),O=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:E,y:O}});function o(v){const{a:A,b:E}=e,O=r.sqr(v),N=r.mul(O,v);return r.add(r.add(N,r.mul(v,A)),E)}function a(v,A){const E=r.sqr(A),O=o(v);return r.eql(E,O)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,c8),Hwe),c=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,c)))throw new Error("bad curve params: a or b");function u(v){return L$(v,Ln,e.n)}function h(v){const{allowedPrivateKeyLengths:A,nByteLength:E,wrapPrivateKey:O,n:N}=e;if(A&&typeof v!="bigint"){if(qw(v)&&(v=Yy(v)),typeof v!="string"||!A.includes(v.length))throw new Error("invalid private key");v=v.padStart(E*2,"0")}let R;try{R=typeof v=="bigint"?v:Uh(Mo("private key",v,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof v)}return O&&(R=ys(R,N)),g0("private key",R,Ln,N),R}function f(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const p=uO((v,A)=>{const{px:E,py:O,pz:N}=v;if(r.eql(N,r.ONE))return{x:E,y:O};const R=v.is0();A==null&&(A=R?r.ONE:r.inv(N));const T=r.mul(E,A),L=r.mul(O,A),B=r.mul(N,A);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:T,y:L}}),g=uO(v=>{if(v.is0()){if(e.allowInfinityPoint&&!r.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:A,y:E}=v.toAffine();if(!r.isValid(A)||!r.isValid(E))throw new Error("bad point: x or y not FE");if(!a(A,E))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(A,E,O){if(A==null||!r.isValid(A))throw new Error("x required");if(E==null||!r.isValid(E)||r.is0(E))throw new Error("y required");if(O==null||!r.isValid(O))throw new Error("z required");this.px=A,this.py=E,this.pz=O,Object.freeze(this)}static fromAffine(A){const{x:E,y:O}=A||{};if(!A||!r.isValid(E)||!r.isValid(O))throw new Error("invalid affine point");if(A instanceof m)throw new Error("projective point not allowed");const N=R=>r.eql(R,r.ZERO);return N(E)&&N(O)?m.ZERO:new m(E,O,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const E=zV(r,A.map(O=>O.pz));return A.map((O,N)=>O.toAffine(E[N])).map(m.fromAffine)}static fromHex(A){const E=m.fromAffine(s(Mo("pointHex",A)));return E.assertValidity(),E}static fromPrivateKey(A){return m.BASE.multiply(h(A))}static msm(A,E){return Uwe(m,n,A,E)}_setWindowSize(A){b.setWindowSize(this,A)}assertValidity(){g(this)}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:E,py:O,pz:N}=this,{px:R,py:T,pz:L}=A,B=r.eql(r.mul(E,L),r.mul(R,N)),W=r.eql(r.mul(O,L),r.mul(T,N));return B&&W}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:E}=e,O=r.mul(E,c8),{px:N,py:R,pz:T}=this;let L=r.ZERO,B=r.ZERO,W=r.ZERO,j=r.mul(N,N),_=r.mul(R,R),C=r.mul(T,T),$=r.mul(N,R);return $=r.add($,$),W=r.mul(N,T),W=r.add(W,W),L=r.mul(A,W),B=r.mul(O,C),B=r.add(L,B),L=r.sub(_,B),B=r.add(_,B),B=r.mul(L,B),L=r.mul($,L),W=r.mul(O,W),C=r.mul(A,C),$=r.sub(j,C),$=r.mul(A,$),$=r.add($,W),W=r.add(j,j),j=r.add(W,j),j=r.add(j,C),j=r.mul(j,$),B=r.add(B,j),C=r.mul(R,T),C=r.add(C,C),j=r.mul(C,$),L=r.sub(L,j),W=r.mul(C,_),W=r.add(W,W),W=r.add(W,W),new m(L,B,W)}add(A){f(A);const{px:E,py:O,pz:N}=this,{px:R,py:T,pz:L}=A;let B=r.ZERO,W=r.ZERO,j=r.ZERO;const _=e.a,C=r.mul(e.b,c8);let $=r.mul(E,R),P=r.mul(O,T),S=r.mul(N,L),I=r.add(E,O),D=r.add(R,T);I=r.mul(I,D),D=r.add($,P),I=r.sub(I,D),D=r.add(E,N);let F=r.add(R,L);return D=r.mul(D,F),F=r.add($,S),D=r.sub(D,F),F=r.add(O,N),B=r.add(T,L),F=r.mul(F,B),B=r.add(P,S),F=r.sub(F,B),j=r.mul(_,D),B=r.mul(C,S),j=r.add(B,j),B=r.sub(P,j),j=r.add(P,j),W=r.mul(B,j),P=r.add($,$),P=r.add(P,$),S=r.mul(_,S),D=r.mul(C,D),P=r.add(P,S),S=r.sub($,S),S=r.mul(_,S),D=r.add(D,S),$=r.mul(P,D),W=r.add(W,$),$=r.mul(F,D),B=r.mul(I,B),B=r.sub(B,$),$=r.mul(I,P),j=r.mul(F,j),j=r.add(j,$),new m(B,W,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(m.ZERO)}wNAF(A){return b.wNAFCached(this,A,m.normalizeZ)}multiplyUnsafe(A){const{endo:E,n:O}=e;g0("scalar",A,jc,O);const N=m.ZERO;if(A===jc)return N;if(this.is0()||A===Ln)return this;if(!E||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,A,m.normalizeZ);let{k1neg:R,k1:T,k2neg:L,k2:B}=E.splitScalar(A),W=N,j=N,_=this;for(;T>jc||B>jc;)T&Ln&&(W=W.add(_)),B&Ln&&(j=j.add(_)),_=_.double(),T>>=Ln,B>>=Ln;return R&&(W=W.negate()),L&&(j=j.negate()),j=new m(r.mul(j.px,E.beta),j.py,j.pz),W.add(j)}multiply(A){const{endo:E,n:O}=e;g0("scalar",A,Ln,O);let N,R;if(E){const{k1neg:T,k1:L,k2neg:B,k2:W}=E.splitScalar(A);let{p:j,f:_}=this.wNAF(L),{p:C,f:$}=this.wNAF(W);j=b.constTimeNegate(T,j),C=b.constTimeNegate(B,C),C=new m(r.mul(C.px,E.beta),C.py,C.pz),N=j.add(C),R=_.add($)}else{const{p:T,f:L}=this.wNAF(A);N=T,R=L}return m.normalizeZ([N,R])[0]}multiplyAndAddUnsafe(A,E,O){const N=m.BASE,R=(L,B)=>B===jc||B===Ln||!L.equals(N)?L.multiplyUnsafe(B):L.multiply(B),T=R(this,E).add(R(A,O));return T.is0()?void 0:T}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:E}=e;if(A===Ln)return!0;if(E)return E(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:E}=e;return A===Ln?this:E?E(m,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return Ky("isCompressed",A),this.assertValidity(),i(m,this,A)}toHex(A=!0){return Ky("isCompressed",A),Yy(this.toRawBytes(A))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:w,nBitLength:y}=e,b=Bwe(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function Vwe(t){const e=KV(t);return x6(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Gwe(t){const e=Vwe(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function l(C){return ys(C,n)}function c(C){return hC(C,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=qwe({...e,toBytes(C,$,P){const S=$.toAffine(),I=r.toBytes(S.x),D=C3;return Ky("isCompressed",P),P?D(Uint8Array.from([$.hasEvenY()?2:3]),I):D(Uint8Array.from([4]),I,r.toBytes(S.y))},fromBytes(C){const $=C.length,P=C[0],S=C.subarray(1);if($===o&&(P===2||P===3)){const I=Uh(S);if(!L$(I,Ln,r.ORDER))throw new Error("Point is not on curve");const D=f(I);let F;try{F=r.sqrt(D)}catch(V){const M=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+M)}const k=(F&Ln)===Ln;return(P&1)===1!==k&&(F=r.neg(F)),{x:I,y:F}}else if($===a&&P===4){const I=r.fromBytes(S.subarray(0,r.BYTES)),D=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:I,y:D}}else{const I=o,D=a;throw new Error("invalid Point, expected length of "+I+", or uncompressed "+D+", got "+$)}}});function g(C){const $=n>>Ln;return C>$}function m(C){return g(C)?l(-C):C}const w=(C,$,P)=>Uh(C.slice($,P));class y{constructor($,P,S){g0("r",$,Ln,n),g0("s",P,Ln,n),this.r=$,this.s=P,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact($){const P=i;return $=Mo("compactSignature",$,P*2),new y(w($,0,P),w($,P,2*P))}static fromDER($){const{r:P,s:S}=Tc.toSig(Mo("DER",$));return new y(P,S)}assertValidity(){}addRecoveryBit($){return new y(this.r,this.s,$)}recoverPublicKey($){const{r:P,s:S,recovery:I}=this,D=N(Mo("msgHash",$));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");const F=I===2||I===3?P+e.n:P;if(F>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=I&1?"03":"02",z=u.fromHex(k+l8(F,r.BYTES)),V=c(F),M=l(-D*V),G=l(S*V),Z=u.BASE.multiplyAndAddUnsafe(z,M,G);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return E3(this.toDERHex())}toDERHex(){return Tc.hexFromSig(this)}toCompactRawBytes(){return E3(this.toCompactHex())}toCompactHex(){const $=i;return l8(this.r,$)+l8(this.s,$)}}const b={isValidPrivateKey(C){try{return h(C),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const C=qV(e.n);return Dwe(e.randomBytes(C),e.n)},precompute(C=8,$=u.BASE){return $._setWindowSize(C),$.multiply(BigInt(3)),$}};function v(C,$=!0){return u.fromPrivateKey(C).toRawBytes($)}function A(C){if(typeof C=="bigint")return!1;if(C instanceof u)return!0;const P=Mo("key",C).length,S=r.BYTES,I=S+1,D=2*S+1;if(!(e.allowedPrivateKeyLengths||i===I))return P===I||P===D}function E(C,$,P=!0){if(A(C)===!0)throw new Error("first arg must be private key");if(A($)===!1)throw new Error("second arg must be public key");return u.fromHex($).multiply(h(C)).toRawBytes(P)}const O=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const $=Uh(C),P=C.length*8-s;return P>0?$>>BigInt(P):$},N=e.bits2int_modN||function(C){return l(O(C))},R=b6(s);function T(C){return g0("num < 2^"+s,C,jc,R),Vw(C,i)}function L(C,$,P=B){if(["recovered","canonical"].some(re=>re in P))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:I}=e;let{lowS:D,prehash:F,extraEntropy:k}=P;D==null&&(D=!0),C=Mo("msgHash",C),pO(P),F&&(C=Mo("prehashed msgHash",S(C)));const z=N(C),V=h($),M=[T(V),T(z)];if(k!=null&&k!==!1){const re=k===!0?I(r.BYTES):k;M.push(Mo("extraEntropy",re))}const G=C3(...M),Z=z;function K(re){const le=O(re);if(!p(le))return;const ne=c(le),ae=u.BASE.multiply(le).toAffine(),me=l(ae.x);if(me===jc)return;const ue=l(ne*l(Z+me*V));if(ue===jc)return;let de=(ae.x===me?0:2)|Number(ae.y&Ln),Je=ue;return D&&g(ue)&&(Je=m(ue),de^=1),new y(me,Je,de)}return{seed:G,k2sig:K}}const B={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function j(C,$,P=B){const{seed:S,k2sig:I}=L(C,$,P),D=e;return Swe(D.hash.outputLen,D.nByteLength,D.hmac)(S,I)}u.BASE._setWindowSize(8);function _(C,$,P,S=W){var de;const I=C;$=Mo("msgHash",$),P=Mo("publicKey",P);const{lowS:D,prehash:F,format:k}=S;if(pO(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const z=typeof I=="string"||qw(I),V=!z&&!k&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!z&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let M,G;try{if(V&&(M=new y(I.r,I.s)),z){try{k!=="compact"&&(M=y.fromDER(I))}catch(Je){if(!(Je instanceof Tc.Err))throw Je}!M&&k!=="der"&&(M=y.fromCompact(I))}G=u.fromHex(P)}catch{return!1}if(!M||D&&M.hasHighS())return!1;F&&($=e.hash($));const{r:Z,s:K}=M,re=N($),le=c(K),ne=l(re*le),ae=l(Z*le),me=(de=u.BASE.multiplyAndAddUnsafe(G,ne,ae))==null?void 0:de.toAffine();return me?l(me.x)===Z:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:E,sign:j,verify:_,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kwe(t){return{hash:t,hmac:(e,...r)=>qq(t,e,tue(...r)),randomBytes:nue}}function Ywe(t,e){const r=n=>Gwe({...t,...Kwe(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YV=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zwe=BigInt(0),Jwe=BigInt(1),pC=BigInt(2),mO=(t,e)=>(t+e/pC)/e;function Qwe(t){const e=YV,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=Ao(u,r,e)*u%e,f=Ao(h,r,e)*u%e,p=Ao(f,pC,e)*c%e,g=Ao(p,i,e)*p%e,m=Ao(g,s,e)*g%e,w=Ao(m,a,e)*m%e,y=Ao(w,l,e)*w%e,b=Ao(y,a,e)*m%e,v=Ao(b,r,e)*u%e,A=Ao(v,o,e)*g%e,E=Ao(A,n,e)*c%e,O=Ao(E,pC,e);if(!gC.eql(gC.sqr(O),t))throw new Error("Cannot find square root");return O}const gC=B$(YV,void 0,void 0,{sqrt:Qwe}),ZV=Ywe({a:Zwe,b:BigInt(7),Fp:gC,n:gO,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=gO,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Jwe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=mO(s*t,e),l=mO(-n*t,e);let c=ys(t-a*r-l*i,e),u=ys(-a*n-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},zH),Xwe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ZV},Symbol.toStringTag,{value:"Module"}));function e2e({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new ZV.Signature(uo(t),uo(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:Va(o)}async function E6(t,e){var a,l,c,u,h,f;const{address:r,hash:n,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((c=(l=(a=t.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:s=e.multicallAddress??((f=(h=(u=t.chain)==null?void 0:u.contracts)==null?void 0:h.multicall3)==null?void 0:f.address)}=e,o=(()=>{const p=e.signature;return Mi(p)?p:typeof p=="object"&&"r"in p&&"s"in p?e2e(p):On(p)})();try{return Bpe(o)?await t2e(t,{...e,multicallAddress:s,signature:o}):await r2e(t,{...e,verifierAddress:i,signature:o})}catch(p){try{if(Fw(an(r),await NH({hash:n,signature:o})))return!0}catch{}if(p instanceof of)return!1;throw p}}async function t2e(t,e){var w;const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=Lpe(e.signature);if(await aC(t,{address:r,blockNumber:n,blockTag:i})===Eg(["0xef0100",a.address]))return await n2e(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:ut(a.r,{size:32}),s:ut(a.s,{size:32}),yParity:a.yParity};if(!await qde({address:r,authorization:f}))throw new of;const g=await st(t,Za,"readContract")({...o?{address:o}:{code:o$},authorizationList:[f],abi:w3,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??r,callData:l}]:[],{allowFailure:!0,target:r,callData:Ds({abi:aq,functionName:"isValidSignature",args:[s,c]})}]]}),m=(w=g[g.length-1])==null?void 0:w.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new of}async function r2e(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!n&&!i||_we(o)?o:Cwe({data:i,signature:o,to:n}))(),u=a?{to:a,data:Ds({abi:uN,functionName:"isValidSig",args:[r,s,c]}),...l}:{data:r6({abi:uN,args:[r,s,c],bytecode:Ihe}),...l},{data:h}=await st(t,a6,"call")(u).catch(f=>{throw f instanceof cq?new of:f});if(Sce(h??"0x0"))return!0;throw new of}async function n2e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=e;if((await st(t,Za,"readContract")({address:r,abi:aq,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof uq?new of:l})).startsWith("0x1626ba7e"))return!0;throw new of}class of extends Error{}async function i2e(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=vq(r);return E6(t,{address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function s2e(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=ife({message:o,primaryType:a,types:l,domain:c});return E6(t,{address:r,factory:n,factoryData:i,hash:h,signature:s,...u})}function JV(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=Nn(["watchBlockNumber",t.uid,e,r,o]);return tu(h,{onBlockNumber:n,onError:i},f=>kg(async()=>{var p;try{const g=await st(t,Hw,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(g===l)return;if(g-l>1&&r)for(let m=l+1n;m<g;m++)f.onBlockNumber(m,l),l=m}(l===void 0||g>l)&&(f.onBlockNumber(g,l),l=g)}catch(g){(p=f.onError)==null||p.call(f,g)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=Nn(["watchBlockNumber",t.uid,e,r]);return tu(h,{onBlockNumber:n,onError:i},f=>{let p=!0,g=()=>p=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(y){var v;if(!p)return;const b=uo((v=y.result)==null?void 0:v.number);f.onBlockNumber(b,l),l=b},onError(y){var b;(b=f.onError)==null||b.call(f,y)}});g=w,p||g()}catch(m){i==null||i(m)}})(),()=>g()})})()}async function QV(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:l=18e4}=e,c=Nn(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var E;return e.pollingInterval?e.pollingInterval:(E=t.chain)!=null&&E.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,f,p,g=!1,m,w;const{promise:y,resolve:b,reject:v}=a$(),A=l?setTimeout(()=>{w==null||w(),m==null||m(),v(new Ade({hash:i}))},l):void 0;return m=tu(c,{onReplaced:s,resolve:b,reject:v},async E=>{if(p=await st(t,lb,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&n<=1){clearTimeout(A),E.resolve(p),m==null||m();return}w=st(t,JV,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(O){const N=T=>{clearTimeout(A),w==null||w(),T(),m==null||m()};let R=O;if(!g)try{if(p){if(n>1&&(!p.blockNumber||R-p.blockNumber+1n<n))return;N(()=>E.resolve(p));return}if(r&&!h&&(g=!0,await y3(async()=>{h=await st(t,M$,"getTransaction")({hash:i}),h.blockNumber&&(R=h.blockNumber)},{delay:a,retryCount:o}),g=!1),p=await st(t,lb,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||R-p.blockNumber+1n<n))return;N(()=>E.resolve(p))}catch(T){if(T instanceof RH||T instanceof jH){if(!h){g=!1;return}try{f=h,g=!0;const L=await y3(()=>st(t,Ol,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:j})=>j instanceof fV});g=!1;const B=L.transactions.find(({from:j,nonce:_})=>j===f.from&&_===f.nonce);if(!B||(p=await st(t,lb,"getTransactionReceipt")({hash:B.hash}),n>1&&(!p.blockNumber||R-p.blockNumber+1n<n)))return;let W="replaced";B.to===f.to&&B.value===f.value&&B.input===f.input?W="repriced":B.from===B.to&&B.value===0n&&(W="cancelled"),N(()=>{var j;(j=E.onReplaced)==null||j.call(E,{reason:W,replacedTransaction:f,transaction:B,transactionReceipt:p}),E.resolve(p)})}catch(L){N(()=>E.reject(L))}}else N(()=>E.reject(T))}}})}),y}function o2e(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const g=Nn(["watchBlocks",t.uid,e,r,n,u,l]);return tu(g,{onBlock:i,onError:s},m=>kg(async()=>{var w;try{const y=await st(t,Ol,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&(h==null?void 0:h.number)!=null){if(y.number===h.number)return;if(y.number-h.number>1&&r)for(let b=(h==null?void 0:h.number)+1n;b<y.number;b++){const v=await st(t,Ol,"getBlock")({blockNumber:b,includeTransactions:u});m.onBlock(v,h),h=v}}((h==null?void 0:h.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>h.number)&&(m.onBlock(y,h),h=y)}catch(y){(w=m.onError)==null||w.call(m,y)}},{emitOnBegin:n,interval:l}))})():(()=>{let g=!0,m=!0,w=()=>g=!1;return(async()=>{try{n&&st(t,Ol,"getBlock")({blockTag:e,includeTransactions:u}).then(v=>{g&&m&&(i(v,void 0),m=!1)}).catch(s);const y=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(v){var E;if(!g)return;const A=await st(t,Ol,"getBlock")({blockNumber:(E=v.result)==null?void 0:E.number,includeTransactions:u}).catch(()=>{});g&&(i(A,h),m=!1,h=A)},onError(v){s==null||s(v)}});w=b,g||w()}catch(y){s==null||s(y)}})(),()=>w()})()}function a2e(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const w=Nn(["watchEvent",e,r,n,t.uid,i,u,o]);return tu(w,{onLogs:l,onError:a},y=>{let b;o!==void 0&&(b=o-1n);let v,A=!1;const E=kg(async()=>{var O;if(!A){try{v=await st(t,SV,"createEventFilter")({address:e,args:r,event:i,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let N;if(v)N=await st(t,m6,"getFilterChanges")({filter:v});else{const R=await st(t,Hw,"getBlockNumber")({});b&&b!==R?N=await st(t,T$,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:b+1n,toBlock:R}):N=[],b=R}if(N.length===0)return;if(n)y.onLogs(N);else for(const R of N)y.onLogs([R])}catch(N){v&&N instanceof tf&&(A=!1),(O=y.onError)==null||O.call(y,N)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await st(t,y6,"uninstallFilter")({filter:v}),E()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),v=s??(i?[i]:void 0);let A=[];v&&(A=[v.flatMap(N=>Dw({abi:[N],eventName:N.name,args:r}))],i&&(A=A[0]));const{unsubscribe:E}=await b.subscribe({params:["logs",{address:e,topics:A}],onData(O){var R;if(!w)return;const N=O.result;try{const{eventName:T,args:L}=e$({abi:v??[],data:N.data,topics:N.topics,strict:p}),B=Qc(N,{args:L,eventName:T});l([B])}catch(T){let L,B;if(T instanceof fy||T instanceof e6){if(h)return;L=T.abiItem.name,B=(R=T.abiItem.inputs)==null?void 0:R.some(j=>!("name"in j&&j.name))}const W=Qc(N,{args:B?[]:{},eventName:L});l([W])}},onError(O){a==null||a(O)}});y=E,w||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function l2e(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=Nn(["watchPendingTransactions",t.uid,e,s]);return tu(c,{onTransactions:n,onError:r},u=>{let h;const f=kg(async()=>{var p;try{if(!h)try{h=await st(t,IV,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const g=await st(t,m6,"getFilterChanges")({filter:h});if(g.length===0)return;if(e)u.onTransactions(g);else for(const m of g)u.onTransactions([m])}catch(g){(p=u.onError)==null||p.call(u,g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await st(t,y6,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;n([p])},onError(f){r==null||r(f)}});u=h,c||u()}catch(h){r==null||r(h)}})(),()=>u()})()}function c2e(t){var h,f,p;const{scheme:e,statement:r,...n}=((h=t.match(u2e))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((f=t.match(d2e))==null?void 0:f.groups)??{},u=(p=t.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const u2e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,d2e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function h2e(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!Rs(n.address,{strict:!1})||e&&!Fw(n.address,e))return!1}catch{return!1}return!0}async function f2e(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=c2e(i);if(!u.address||!h2e({address:r,domain:n,message:u,nonce:s,scheme:o,time:l}))return!1;const f=vq(i);return E6(t,{address:u.address,hash:f,signature:a,...c})}async function U$(t,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:n}){var a,l,c;const i=await t.request({method:"eth_sendRawTransactionSync",params:n?[e,ut(n)]:[e]},{retryCount:0}),o=(((c=(l=(a=t.chain)==null?void 0:a.formatters)==null?void 0:l.transactionReceipt)==null?void 0:c.format)||wq)(i);if(o.status==="reverted"&&r)throw new MH({receipt:o});return o}function z$(t){return{call:e=>a6(t,e),createAccessList:e=>$V(t,e),createBlockFilter:()=>Zye(t),createContractEventFilter:e=>hV(t,e),createEventFilter:e=>SV(t,e),createPendingTransactionFilter:()=>IV(t),estimateContractGas:e=>xye(t,e),estimateGas:e=>I$(t,e),getBalance:e=>Jye(t,e),getBlobBaseFee:()=>Qye(t),getBlock:e=>Ol(t,e),getBlockNumber:e=>Hw(t,e),getBlockTransactionCount:e=>Xye(t,e),getBytecode:e=>aC(t,e),getChainId:()=>Sf(t),getCode:e=>aC(t,e),getContractEvents:e=>gV(t,e),getEip712Domain:e=>twe(t,e),getEnsAddress:e=>Rye(t,e),getEnsAvatar:e=>Gye(t,e),getEnsName:e=>Kye(t,e),getEnsResolver:e=>Yye(t,e),getEnsText:e=>kV(t,e),getFeeHistory:e=>iwe(t,e),estimateFeesPerGas:e=>bye(t,e),getFilterChanges:e=>m6(t,e),getFilterLogs:e=>swe(t,e),getGasPrice:()=>$$(t),getLogs:e=>T$(t,e),getProof:e=>lwe(t,e),estimateMaxPriorityFeePerGas:e=>vye(t,e),getStorageAt:e=>cwe(t,e),getTransaction:e=>M$(t,e),getTransactionConfirmations:e=>uwe(t,e),getTransactionCount:e=>d$(t,e),getTransactionReceipt:e=>lb(t,e),multicall:e=>dwe(t,e),prepareTransactionRequest:e=>Ww(t,e),readContract:e=>Za(t,e),sendRawTransaction:e=>P$(t,e),sendRawTransactionSync:e=>U$(t,e),simulate:e=>lC(t,e),simulateBlocks:e=>lC(t,e),simulateCalls:e=>xwe(t,e),simulateContract:e=>Eye(t,e),verifyHash:e=>E6(t,e),verifyMessage:e=>i2e(t,e),verifySiweMessage:e=>f2e(t,e),verifyTypedData:e=>s2e(t,e),uninstallFilter:e=>y6(t,e),waitForTransactionReceipt:e=>QV(t,e),watchBlocks:e=>o2e(t,e),watchBlockNumber:e=>JV(t,e),watchContractEvent:e=>Iye(t,e),watchEvent:e=>a2e(t,e),watchPendingTransactions:e=>l2e(t,e)}}function ru(t){const{key:e="public",name:r="Public Client"}=t;return EV({...t,key:e,name:r,type:"publicClient"}).extend(z$)}async function p2e(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ut(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function g2e(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=r6({abi:r,args:n,bytecode:i});return w6(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function m2e(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>Rw(n))}async function y2e(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?tn(r):void 0,s=n?[i==null?void 0:i.address,[ut(n)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof n=="number"?a[n]:a}async function w2e(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function XV(t,e){var l;const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new qd({docsPath:"/docs/eip7702/prepareAuthorization"});const s=tn(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:tn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((l=t.chain)==null?void 0:l.id)??await st(t,Sf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await st(t,d$,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Fw(o.address,s.address))&&(a.nonce+=1)),a}async function v2e(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>an(r))}async function b2e(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function x2e(t,e){const{chain:r=t.chain}=e,n=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3),i=await wV(t,e);return await bV(t,{...e,id:i.id,timeout:n})}const u8=new Ow(128);async function eG(t,e){var E,O,N,R;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,pollingInterval:g,throwOnReceiptRevert:m,type:w,value:y,...b}=e,v=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3);if(typeof r>"u")throw new qd({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=r?tn(r):null;try{Hd(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await n6({authorization:s[0]}).catch(()=>{throw new we("`to` is required. Could not infer from `authorizationList`.")})})();if((A==null?void 0:A.type)==="json-rpc"||A===null){let L;n!==null&&(L=await st(t,Sf,"getChainId")({}),c$({currentChainId:L,chain:n}));const B=(N=(O=(E=t.chain)==null?void 0:E.formatters)==null?void 0:O.transactionRequest)==null?void 0:N.format,j=(B||$f)({...zw(b,{format:B}),accessList:i,authorizationList:s,blobs:o,chainId:L,data:a,from:A==null?void 0:A.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:T,type:w,value:y},"sendTransaction"),_=u8.get(t.uid),C=_?"wallet_sendTransaction":"eth_sendTransaction",$=await(async()=>{try{return await t.request({method:C,params:[j]},{retryCount:0})}catch(S){if(_===!1)throw S;const I=S;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[j]},{retryCount:0}).then(D=>(u8.set(t.uid,!0),D)).catch(D=>{const F=D;throw F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"?(u8.set(t.uid,!1),I):F});throw I}})(),P=await st(t,QV,"waitForTransactionReceipt")({checkReplacement:!1,hash:$,pollingInterval:g,timeout:v});if(m&&P.status==="reverted")throw new MH({receipt:P});return P}if((A==null?void 0:A.type)==="local"){const L=await st(t,Ww,"prepareTransactionRequest")({account:A,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:A.nonceManager,parameters:[...S$,"sidecars"],type:w,value:y,...b,to:T}),B=(R=n==null?void 0:n.serializers)==null?void 0:R.transaction,W=await A.signTransaction(L,{serializer:B});return await st(t,U$,"sendRawTransactionSync")({serializedTransaction:W,throwOnReceiptRevert:m})}throw(A==null?void 0:A.type)==="smart"?new Bh({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Bh({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A==null?void 0:A.type})}catch(T){throw T instanceof Bh?T:u$(T,{...e,account:A,chain:e.chain||void 0})}}async function E2e(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function C2e(t,e){const{account:r=t.account}=e;if(!r)throw new qd({docsPath:"/docs/eip7702/signAuthorization"});const n=tn(r);if(!n.signAuthorization)throw new Bh({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await XV(t,e);return n.signAuthorization(i)}async function _2e(t,{account:e=t.account,message:r}){if(!e)throw new qd({docsPath:"/docs/actions/wallet/signMessage"});const n=tn(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?F0(r):r.raw instanceof Uint8Array?cn(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function A2e(t,e){var c,u,h,f;const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new qd({docsPath:"/docs/actions/wallet/signTransaction"});const s=tn(r);Hd({account:s,...e});const o=await st(t,Sf,"getChainId")({});n!==null&&c$({currentChainId:o,chain:n});const a=(n==null?void 0:n.formatters)||((c=t.chain)==null?void 0:c.formatters),l=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||$f;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(f=(h=t.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i,"signTransaction"),chainId:ut(o),from:s.address}]},{retryCount:0})}async function k2e(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new qd({docsPath:"/docs/actions/wallet/signTypedData"});const o=tn(r),a={EIP712Domain:xq({domain:n}),...e.types};if(bq({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const l=rfe({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function $2e(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ut(e)}]},{retryCount:0})}async function S2e(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function I2e(t,e){return Gy.internal(t,eG,"sendTransactionSync",e)}function T2e(t){return{addChain:e=>p2e(t,e),deployContract:e=>g2e(t,e),getAddresses:()=>m2e(t),getCallsStatus:e=>vV(t,e),getCapabilities:e=>y2e(t,e),getChainId:()=>Sf(t),getPermissions:()=>w2e(t),prepareAuthorization:e=>XV(t,e),prepareTransactionRequest:e=>Ww(t,e),requestAddresses:()=>v2e(t),requestPermissions:e=>b2e(t,e),sendCalls:e=>wV(t,e),sendCallsSync:e=>x2e(t,e),sendRawTransaction:e=>P$(t,e),sendRawTransactionSync:e=>U$(t,e),sendTransaction:e=>w6(t,e),sendTransactionSync:e=>eG(t,e),showCallsStatus:e=>E2e(t,e),signAuthorization:e=>C2e(t,e),signMessage:e=>_2e(t,e),signTransaction:e=>A2e(t,e),signTypedData:e=>k2e(t,e),switchChain:e=>$2e(t,e),waitForCallsStatus:e=>bV(t,e),watchAsset:e=>S2e(t,e),writeContract:e=>Gy(t,e),writeContractSync:e=>I2e(t,e)}}function tG(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return EV({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(T2e)}function rG({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=xV();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:Zde(n,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function nG(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>rG({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class P2e extends we{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function nu(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:g})=>{const{batchSize:m=1e3,wait:w=0}=typeof r=="object"?r:{},y=e.retryCount??p,b=g??e.timeout??1e4,v=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!v)throw new P2e;const A=Zhe(v,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:c,timeout:b});return rG({key:s,methods:o,name:a,async request({method:E,params:O}){const N={method:E,params:O},{schedule:R}=hq({id:v,wait:w,shouldSplitBatch(W){return W.length>m},fn:W=>A.request({body:W}),sort:(W,j)=>W.id-j.id}),T=async W=>r?R(W):[await A.request({body:W})],[{error:L,result:B}]=await T(N);if(h)return{error:L,result:B};if(L)throw new i$({body:N,error:L,url:v});return B},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:v})}}let N2e=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(O0e,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const O2e=new TextEncoder,iG=new TextDecoder,R2e=t=>{let e=t;typeof e=="string"&&(e=O2e.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},j2e=t=>R2e(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),M2e=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},D2e=t=>{let e=t;e instanceof Uint8Array&&(e=iG.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return M2e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class F2e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class nh extends F2e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function L2e(t){return typeof t=="object"&&t!==null}function B2e(t){if(!L2e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const af=j2e,U2e=D2e;function mC(t){if(typeof t!="string")throw new nh("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new nh("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new nh("Invalid JWT");if(!e)throw new nh("JWTs must contain a payload");let n;try{n=U2e(e)}catch{throw new nh("Failed to base64url decode the payload")}let i;try{i=JSON.parse(iG.decode(n))}catch{throw new nh("Failed to parse the decoded payload as JSON")}if(!B2e(i))throw new nh("Invalid JWT Claims Set");return i}let Zm=class sG{static parse(e){try{return new sG(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=mC(e)}},oG=class yC{async updateOnCrossAppAuthentication(e,r){let n=r.access_token,i=yC.providerAccessTokenStorageKey(e);await this._storage.put(i,n)}async getProviderAccessToken(e){let r=yC.providerAccessTokenStorageKey(e),n=await this._storage.get(r);if(typeof n!="string")return null;try{if(new Zm(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(r),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(Kpe,{params:{app_id:this._privyInternal.appId}})}constructor(e,r){this._privyInternal=e,this._storage=r}};oG.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let z2e=class{async revoke(){await this._privyInternal.fetch(q0e,{})}constructor(e){this._privyInternal=e}};function W2e(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const la={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},C6={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},$g={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},W$={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},ca={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},_6={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},H2e={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},A6={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},q2e={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},V2e={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},G2e={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},K2e={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},Y2e={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},aG={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},Z2e={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},J2e={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},ua={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},ic={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},k6={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Bs={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Gw={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},Q2e={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},H$={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},q$={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},lG={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},cG={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},Kw=[ua,H$,Y2e,la,C6,ic,k6,Bs,Gw,A6,q2e,V2e,G2e,ca,_6,H2e,J2e,aG,Z2e,$g,W$,q$,cG,lG,Q2e,K2e],uG=new Set(Kw.map(t=>t.id));function V$(t){let e=t.filter(r=>!uG.has(r.id));return Kw.concat(e)}const dG=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let r=Kw.find(s=>s.id===e.id),n=(i=r==null?void 0:r.rpcUrls.privy)==null?void 0:i.http[0];return n?W2e(e,n):e});let d8=class extends Error{constructor({error:e,code:r}){super(e),this.error=e,this.code=r}},or=class extends Error{constructor({error:e,code:r}){super(e),this.code=r,this.error=e}},X2e=class extends Error{constructor({error:e,code:r,response:n}){super(e),this.code=r,this.error=e,this.response=n}};const Xu=t=>!!t.id&&t.recovery_method==="privy-v2";let eve=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Xu(this._account))throw new or({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new or({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new or({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s}};const tve=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var cs;(cs={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",cs.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",cs.INVALID_DATA="invalid_data",cs.LINKED_TO_ANOTHER_USER="linked_to_another_user",cs.ALLOWLIST_REJECTED="allowlist_rejected",cs.OAUTH_USER_DENIED="oauth_user_denied",cs.UNKNOWN_AUTH_ERROR="unknown_auth_error",cs.USER_EXITED_AUTH_FLOW="exited_auth_flow",cs.MUST_BE_AUTHENTICATED="must_be_authenticated",cs.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",cs.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",cs.CLIENT_REQUEST_TIMEOUT="client_request_timeout",cs.INVALID_CREDENTIALS="invalid_credentials";let rve=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},cb=class extends Error{constructor(e,r){super(r),this.type=e}},hG=class extends rve{constructor(e,r,n){super(e,r,n),this.type="connector_error"}},yO=class extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}};const Ra={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function nve(t){let e=t.type;return typeof e=="string"&&tve.includes(e)}function G$(t){return nve(t)&&t.type==="wallet_not_on_device"}async function wC(t,{request:e}){return await t.fetchPrivyRoute(H0e,{body:e})}async function h8({context:t,chainType:e}){return{wallet:await wC(t,{request:{chain_type:e,owner_id:void 0}})}}const ive="logger/5.8.0";let wO=!1,vO=!1;const ub={debug:1,default:2,info:2,warning:3,error:4,off:5};let bO=ub.default,f8=null;function sve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const xO=sve();var vC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(vC||(vC={}));var Sa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sa||(Sa={}));const EO="0123456789abcdef";class pe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();ub[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(bO>ub[n])&&console.log.apply(console,r)}debug(...e){this._log(pe.levels.DEBUG,e)}info(...e){this._log(pe.levels.INFO,e)}warn(...e){this._log(pe.levels.WARNING,e)}makeError(e,r,n){if(vO)return this.makeError("censored error",r,{});r||(r=pe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const c=n[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=EO[c[h]>>4],u+=EO[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sa.CALL_EXCEPTION:case Sa.INSUFFICIENT_FUNDS:case Sa.MISSING_NEW:case Sa.NONCE_EXPIRED:case Sa.REPLACEMENT_UNDERPRICED:case Sa.TRANSACTION_REPLACED:case Sa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,pe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){xO&&this.throwError("platform missing String.prototype.normalize",pe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xO})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,pe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,pe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,pe.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,pe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",pe.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",pe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",pe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return f8||(f8=new pe(ive)),f8}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",pe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),wO){if(!e)return;this.globalLogger().throwError("error censorship permanent",pe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vO=!!e,wO=!!r}static setLogLevel(e){const r=ub[e.toLowerCase()];if(r==null){pe.globalLogger().warn("invalid log level - "+e);return}bO=r}static from(e){return new pe(e)}}pe.errors=Sa;pe.levels=vC;const ove="properties/5.8.0";var ave=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const _3=new pe(ove);function Ut(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Jm(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ti(t){return ave(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function lve(t,e){(!t||typeof t!="object")&&_3.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||_3.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function As(t){const e={};for(const r in t)e[r]=t[r];return e}const cve={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function fG(t){if(t==null||cve[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!fG(n))return!1}return!0}return _3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function uve(t){if(fG(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Zy(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Ut(e,r,Zy(n))}return e}return _3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Zy(t){return uve(t)}class dve{constructor(e){for(const r in e)this[r]=Zy(e[r])}}const hve="abstract-signer/5.8.0";var ma=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ro=new pe(hve),fve=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],pve=[pe.errors.INSUFFICIENT_FUNDS,pe.errors.NONCE_EXPIRED,pe.errors.REPLACEMENT_UNDERPRICED];class $6{constructor(){Ro.checkAbstract(new.target,$6),Ut(this,"_isSigner",!0)}getBalance(e){return ma(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ma(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ma(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield ti(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return ma(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ti(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return ma(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return ma(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ma(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ma(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ma(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)fve.indexOf(n)===-1&&Ro.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=As(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Ro.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return ma(this,void 0,void 0,function*(){const r=yield ti(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>ma(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ro.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Ro.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Ro.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Ro.throwError("network does not support EIP-1559",pe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Ro.throwError("failed to get consistent fee data",pe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(pve.indexOf(i.code)>=0)throw i;return Ro.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ro.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield ti(r)})}_checkProvider(e){this.provider||Ro.throwError("missing provider",pe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class K$ extends $6{constructor(e,r){super(),Ut(this,"address",e),Ut(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Ro.throwError(e,pe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new K$(this.address,e)}}var Y$={exports:{}};const gve={},mve=Object.freeze(Object.defineProperty({__proto__:null,default:gve},Symbol.toStringTag,{value:"Module"})),yve=ZA(mve);Y$.exports;(function(t){(function(e,r){function n(j,_){if(!j)throw new Error(_||"Assertion failed")}function i(j,_){j.super_=_;var C=function(){};C.prototype=_.prototype,j.prototype=new C,j.prototype.constructor=j}function s(j,_,C){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((_==="le"||_==="be")&&(C=_,_=10),this._init(j||0,_||10,C||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=yve.Buffer}catch{}s.isBN=function(_){return _ instanceof s?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===s.wordSize&&Array.isArray(_.words)},s.max=function(_,C){return _.cmp(C)>0?_:C},s.min=function(_,C){return _.cmp(C)<0?_:C},s.prototype._init=function(_,C,$){if(typeof _=="number")return this._initNumber(_,C,$);if(typeof _=="object")return this._initArray(_,C,$);C==="hex"&&(C=16),n(C===(C|0)&&C>=2&&C<=36),_=_.toString().replace(/\s+/g,"");var P=0;_[0]==="-"&&(P++,this.negative=1),P<_.length&&(C===16?this._parseHex(_,P,$):(this._parseBase(_,C,P),$==="le"&&this._initArray(this.toArray(),C,$)))},s.prototype._initNumber=function(_,C,$){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),$==="le"&&this._initArray(this.toArray(),C,$)},s.prototype._initArray=function(_,C,$){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S,I,D=0;if($==="be")for(P=_.length-1,S=0;P>=0;P-=3)I=_[P]|_[P-1]<<8|_[P-2]<<16,this.words[S]|=I<<D&67108863,this.words[S+1]=I>>>26-D&67108863,D+=24,D>=26&&(D-=26,S++);else if($==="le")for(P=0,S=0;P<_.length;P+=3)I=_[P]|_[P+1]<<8|_[P+2]<<16,this.words[S]|=I<<D&67108863,this.words[S+1]=I>>>26-D&67108863,D+=24,D>=26&&(D-=26,S++);return this._strip()};function a(j,_){var C=j.charCodeAt(_);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;n(!1,"Invalid character in "+j)}function l(j,_,C){var $=a(j,C);return C-1>=_&&($|=a(j,C-1)<<4),$}s.prototype._parseHex=function(_,C,$){this.length=Math.ceil((_.length-C)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var S=0,I=0,D;if($==="be")for(P=_.length-1;P>=C;P-=2)D=l(_,C,P)<<S,this.words[I]|=D&67108863,S>=18?(S-=18,I+=1,this.words[I]|=D>>>26):S+=8;else{var F=_.length-C;for(P=F%2===0?C+1:C;P<_.length;P+=2)D=l(_,C,P)<<S,this.words[I]|=D&67108863,S>=18?(S-=18,I+=1,this.words[I]|=D>>>26):S+=8}this._strip()};function c(j,_,C,$){for(var P=0,S=0,I=Math.min(j.length,C),D=_;D<I;D++){var F=j.charCodeAt(D)-48;P*=$,F>=49?S=F-49+10:F>=17?S=F-17+10:S=F,n(F>=0&&S<$,"Invalid character"),P+=S}return P}s.prototype._parseBase=function(_,C,$){this.words=[0],this.length=1;for(var P=0,S=1;S<=67108863;S*=C)P++;P--,S=S/C|0;for(var I=_.length-$,D=I%P,F=Math.min(I,I-D)+$,k=0,z=$;z<F;z+=P)k=c(_,z,z+P,C),this.imuln(S),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k);if(D!==0){var V=1;for(k=c(_,z,_.length,C),z=0;z<D;z++)V*=C;this.imuln(V),this.words[0]+k<67108864?this.words[0]+=k:this._iaddn(k)}this._strip()},s.prototype.copy=function(_){_.words=new Array(this.length);for(var C=0;C<this.length;C++)_.words[C]=this.words[C];_.length=this.length,_.negative=this.negative,_.red=this.red};function u(j,_){j.words=_.words,j.length=_.length,j.negative=_.negative,j.red=_.red}if(s.prototype._move=function(_){u(_,this)},s.prototype.clone=function(){var _=new s(null);return this.copy(_),_},s.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(_,C){_=_||10,C=C|0||1;var $;if(_===16||_==="hex"){$="";for(var P=0,S=0,I=0;I<this.length;I++){var D=this.words[I],F=((D<<P|S)&16777215).toString(16);S=D>>>24-P&16777215,P+=2,P>=26&&(P-=26,I--),S!==0||I!==this.length-1?$=f[6-F.length]+F+$:$=F+$}for(S!==0&&($=S.toString(16)+$);$.length%C!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}if(_===(_|0)&&_>=2&&_<=36){var k=p[_],z=g[_];$="";var V=this.clone();for(V.negative=0;!V.isZero();){var M=V.modrn(z).toString(_);V=V.idivn(z),V.isZero()?$=M+$:$=f[k-M.length]+M+$}for(this.isZero()&&($="0"+$);$.length%C!==0;)$="0"+$;return this.negative!==0&&($="-"+$),$}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(_,C){return this.toArrayLike(o,_,C)}),s.prototype.toArray=function(_,C){return this.toArrayLike(Array,_,C)};var m=function(_,C){return _.allocUnsafe?_.allocUnsafe(C):new _(C)};s.prototype.toArrayLike=function(_,C,$){this._strip();var P=this.byteLength(),S=$||Math.max(1,P);n(P<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var I=m(_,S),D=C==="le"?"LE":"BE";return this["_toArrayLike"+D](I,P),I},s.prototype._toArrayLikeLE=function(_,C){for(var $=0,P=0,S=0,I=0;S<this.length;S++){var D=this.words[S]<<I|P;_[$++]=D&255,$<_.length&&(_[$++]=D>>8&255),$<_.length&&(_[$++]=D>>16&255),I===6?($<_.length&&(_[$++]=D>>24&255),P=0,I=0):(P=D>>>24,I+=2)}if($<_.length)for(_[$++]=P;$<_.length;)_[$++]=0},s.prototype._toArrayLikeBE=function(_,C){for(var $=_.length-1,P=0,S=0,I=0;S<this.length;S++){var D=this.words[S]<<I|P;_[$--]=D&255,$>=0&&(_[$--]=D>>8&255),$>=0&&(_[$--]=D>>16&255),I===6?($>=0&&(_[$--]=D>>24&255),P=0,I=0):(P=D>>>24,I+=2)}if($>=0)for(_[$--]=P;$>=0;)_[$--]=0},Math.clz32?s.prototype._countBits=function(_){return 32-Math.clz32(_)}:s.prototype._countBits=function(_){var C=_,$=0;return C>=4096&&($+=13,C>>>=13),C>=64&&($+=7,C>>>=7),C>=8&&($+=4,C>>>=4),C>=2&&($+=2,C>>>=2),$+C},s.prototype._zeroBits=function(_){if(_===0)return 26;var C=_,$=0;return C&8191||($+=13,C>>>=13),C&127||($+=7,C>>>=7),C&15||($+=4,C>>>=4),C&3||($+=2,C>>>=2),C&1||$++,$},s.prototype.bitLength=function(){var _=this.words[this.length-1],C=this._countBits(_);return(this.length-1)*26+C};function w(j){for(var _=new Array(j.bitLength()),C=0;C<_.length;C++){var $=C/26|0,P=C%26;_[C]=j.words[$]>>>P&1}return _}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,C=0;C<this.length;C++){var $=this._zeroBits(this.words[C]);if(_+=$,$!==26)break}return _},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},s.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var C=0;C<_.length;C++)this.words[C]=this.words[C]|_.words[C];return this._strip()},s.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},s.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},s.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},s.prototype.iuand=function(_){var C;this.length>_.length?C=_:C=this;for(var $=0;$<C.length;$++)this.words[$]=this.words[$]&_.words[$];return this.length=C.length,this._strip()},s.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},s.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},s.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},s.prototype.iuxor=function(_){var C,$;this.length>_.length?(C=this,$=_):(C=_,$=this);for(var P=0;P<$.length;P++)this.words[P]=C.words[P]^$.words[P];if(this!==C)for(;P<C.length;P++)this.words[P]=C.words[P];return this.length=C.length,this._strip()},s.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},s.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},s.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},s.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var C=Math.ceil(_/26)|0,$=_%26;this._expand(C),$>0&&C--;for(var P=0;P<C;P++)this.words[P]=~this.words[P]&67108863;return $>0&&(this.words[P]=~this.words[P]&67108863>>26-$),this._strip()},s.prototype.notn=function(_){return this.clone().inotn(_)},s.prototype.setn=function(_,C){n(typeof _=="number"&&_>=0);var $=_/26|0,P=_%26;return this._expand($+1),C?this.words[$]=this.words[$]|1<<P:this.words[$]=this.words[$]&~(1<<P),this._strip()},s.prototype.iadd=function(_){var C;if(this.negative!==0&&_.negative===0)return this.negative=0,C=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,C=this.isub(_),_.negative=1,C._normSign();var $,P;this.length>_.length?($=this,P=_):($=_,P=this);for(var S=0,I=0;I<P.length;I++)C=($.words[I]|0)+(P.words[I]|0)+S,this.words[I]=C&67108863,S=C>>>26;for(;S!==0&&I<$.length;I++)C=($.words[I]|0)+S,this.words[I]=C&67108863,S=C>>>26;if(this.length=$.length,S!==0)this.words[this.length]=S,this.length++;else if($!==this)for(;I<$.length;I++)this.words[I]=$.words[I];return this},s.prototype.add=function(_){var C;return _.negative!==0&&this.negative===0?(_.negative=0,C=this.sub(_),_.negative^=1,C):_.negative===0&&this.negative!==0?(this.negative=0,C=_.sub(this),this.negative=1,C):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},s.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var C=this.iadd(_);return _.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var $=this.cmp(_);if($===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,S;$>0?(P=this,S=_):(P=_,S=this);for(var I=0,D=0;D<S.length;D++)C=(P.words[D]|0)-(S.words[D]|0)+I,I=C>>26,this.words[D]=C&67108863;for(;I!==0&&D<P.length;D++)C=(P.words[D]|0)+I,I=C>>26,this.words[D]=C&67108863;if(I===0&&D<P.length&&P!==this)for(;D<P.length;D++)this.words[D]=P.words[D];return this.length=Math.max(this.length,D),P!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(_){return this.clone().isub(_)};function y(j,_,C){C.negative=_.negative^j.negative;var $=j.length+_.length|0;C.length=$,$=$-1|0;var P=j.words[0]|0,S=_.words[0]|0,I=P*S,D=I&67108863,F=I/67108864|0;C.words[0]=D;for(var k=1;k<$;k++){for(var z=F>>>26,V=F&67108863,M=Math.min(k,_.length-1),G=Math.max(0,k-j.length+1);G<=M;G++){var Z=k-G|0;P=j.words[Z]|0,S=_.words[G]|0,I=P*S+V,z+=I/67108864|0,V=I&67108863}C.words[k]=V|0,F=z|0}return F!==0?C.words[k]=F|0:C.length--,C._strip()}var b=function(_,C,$){var P=_.words,S=C.words,I=$.words,D=0,F,k,z,V=P[0]|0,M=V&8191,G=V>>>13,Z=P[1]|0,K=Z&8191,re=Z>>>13,le=P[2]|0,ne=le&8191,ae=le>>>13,me=P[3]|0,ue=me&8191,de=me>>>13,Je=P[4]|0,ie=Je&8191,be=Je>>>13,ve=P[5]|0,se=ve&8191,ye=ve>>>13,yt=P[6]|0,ce=yt&8191,$e=yt>>>13,De=P[7]|0,Xe=De&8191,Ke=De>>>13,kt=P[8]|0,ht=kt&8191,rt=kt>>>13,Ae=P[9]|0,Se=Ae&8191,he=Ae>>>13,He=S[0]|0,nt=He&8191,Ve=He>>>13,ot=S[1]|0,Ie=ot&8191,dt=ot>>>13,bt=S[2]|0,wt=bt&8191,Le=bt>>>13,Ar=S[3]|0,qe=Ar&8191,Ft=Ar>>>13,zi=S[4]|0,er=zi&8191,Jt=zi>>>13,U=S[5]|0,H=U&8191,Y=U>>>13,J=S[6]|0,X=J&8191,te=J>>>13,ge=S[7]|0,fe=ge&8191,Be=ge>>>13,vt=S[8]|0,Ee=vt&8191,Me=vt>>>13,at=S[9]|0,Fe=at&8191,xe=at>>>13;$.negative=_.negative^C.negative,$.length=19,F=Math.imul(M,nt),k=Math.imul(M,Ve),k=k+Math.imul(G,nt)|0,z=Math.imul(G,Ve);var ft=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(ft>>>26)|0,ft&=67108863,F=Math.imul(K,nt),k=Math.imul(K,Ve),k=k+Math.imul(re,nt)|0,z=Math.imul(re,Ve),F=F+Math.imul(M,Ie)|0,k=k+Math.imul(M,dt)|0,k=k+Math.imul(G,Ie)|0,z=z+Math.imul(G,dt)|0;var Ct=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,F=Math.imul(ne,nt),k=Math.imul(ne,Ve),k=k+Math.imul(ae,nt)|0,z=Math.imul(ae,Ve),F=F+Math.imul(K,Ie)|0,k=k+Math.imul(K,dt)|0,k=k+Math.imul(re,Ie)|0,z=z+Math.imul(re,dt)|0,F=F+Math.imul(M,wt)|0,k=k+Math.imul(M,Le)|0,k=k+Math.imul(G,wt)|0,z=z+Math.imul(G,Le)|0;var jt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(jt>>>26)|0,jt&=67108863,F=Math.imul(ue,nt),k=Math.imul(ue,Ve),k=k+Math.imul(de,nt)|0,z=Math.imul(de,Ve),F=F+Math.imul(ne,Ie)|0,k=k+Math.imul(ne,dt)|0,k=k+Math.imul(ae,Ie)|0,z=z+Math.imul(ae,dt)|0,F=F+Math.imul(K,wt)|0,k=k+Math.imul(K,Le)|0,k=k+Math.imul(re,wt)|0,z=z+Math.imul(re,Le)|0,F=F+Math.imul(M,qe)|0,k=k+Math.imul(M,Ft)|0,k=k+Math.imul(G,qe)|0,z=z+Math.imul(G,Ft)|0;var qt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(ie,nt),k=Math.imul(ie,Ve),k=k+Math.imul(be,nt)|0,z=Math.imul(be,Ve),F=F+Math.imul(ue,Ie)|0,k=k+Math.imul(ue,dt)|0,k=k+Math.imul(de,Ie)|0,z=z+Math.imul(de,dt)|0,F=F+Math.imul(ne,wt)|0,k=k+Math.imul(ne,Le)|0,k=k+Math.imul(ae,wt)|0,z=z+Math.imul(ae,Le)|0,F=F+Math.imul(K,qe)|0,k=k+Math.imul(K,Ft)|0,k=k+Math.imul(re,qe)|0,z=z+Math.imul(re,Ft)|0,F=F+Math.imul(M,er)|0,k=k+Math.imul(M,Jt)|0,k=k+Math.imul(G,er)|0,z=z+Math.imul(G,Jt)|0;var Qt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,F=Math.imul(se,nt),k=Math.imul(se,Ve),k=k+Math.imul(ye,nt)|0,z=Math.imul(ye,Ve),F=F+Math.imul(ie,Ie)|0,k=k+Math.imul(ie,dt)|0,k=k+Math.imul(be,Ie)|0,z=z+Math.imul(be,dt)|0,F=F+Math.imul(ue,wt)|0,k=k+Math.imul(ue,Le)|0,k=k+Math.imul(de,wt)|0,z=z+Math.imul(de,Le)|0,F=F+Math.imul(ne,qe)|0,k=k+Math.imul(ne,Ft)|0,k=k+Math.imul(ae,qe)|0,z=z+Math.imul(ae,Ft)|0,F=F+Math.imul(K,er)|0,k=k+Math.imul(K,Jt)|0,k=k+Math.imul(re,er)|0,z=z+Math.imul(re,Jt)|0,F=F+Math.imul(M,H)|0,k=k+Math.imul(M,Y)|0,k=k+Math.imul(G,H)|0,z=z+Math.imul(G,Y)|0;var Vt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,F=Math.imul(ce,nt),k=Math.imul(ce,Ve),k=k+Math.imul($e,nt)|0,z=Math.imul($e,Ve),F=F+Math.imul(se,Ie)|0,k=k+Math.imul(se,dt)|0,k=k+Math.imul(ye,Ie)|0,z=z+Math.imul(ye,dt)|0,F=F+Math.imul(ie,wt)|0,k=k+Math.imul(ie,Le)|0,k=k+Math.imul(be,wt)|0,z=z+Math.imul(be,Le)|0,F=F+Math.imul(ue,qe)|0,k=k+Math.imul(ue,Ft)|0,k=k+Math.imul(de,qe)|0,z=z+Math.imul(de,Ft)|0,F=F+Math.imul(ne,er)|0,k=k+Math.imul(ne,Jt)|0,k=k+Math.imul(ae,er)|0,z=z+Math.imul(ae,Jt)|0,F=F+Math.imul(K,H)|0,k=k+Math.imul(K,Y)|0,k=k+Math.imul(re,H)|0,z=z+Math.imul(re,Y)|0,F=F+Math.imul(M,X)|0,k=k+Math.imul(M,te)|0,k=k+Math.imul(G,X)|0,z=z+Math.imul(G,te)|0;var dr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(dr>>>26)|0,dr&=67108863,F=Math.imul(Xe,nt),k=Math.imul(Xe,Ve),k=k+Math.imul(Ke,nt)|0,z=Math.imul(Ke,Ve),F=F+Math.imul(ce,Ie)|0,k=k+Math.imul(ce,dt)|0,k=k+Math.imul($e,Ie)|0,z=z+Math.imul($e,dt)|0,F=F+Math.imul(se,wt)|0,k=k+Math.imul(se,Le)|0,k=k+Math.imul(ye,wt)|0,z=z+Math.imul(ye,Le)|0,F=F+Math.imul(ie,qe)|0,k=k+Math.imul(ie,Ft)|0,k=k+Math.imul(be,qe)|0,z=z+Math.imul(be,Ft)|0,F=F+Math.imul(ue,er)|0,k=k+Math.imul(ue,Jt)|0,k=k+Math.imul(de,er)|0,z=z+Math.imul(de,Jt)|0,F=F+Math.imul(ne,H)|0,k=k+Math.imul(ne,Y)|0,k=k+Math.imul(ae,H)|0,z=z+Math.imul(ae,Y)|0,F=F+Math.imul(K,X)|0,k=k+Math.imul(K,te)|0,k=k+Math.imul(re,X)|0,z=z+Math.imul(re,te)|0,F=F+Math.imul(M,fe)|0,k=k+Math.imul(M,Be)|0,k=k+Math.imul(G,fe)|0,z=z+Math.imul(G,Be)|0;var et=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(et>>>26)|0,et&=67108863,F=Math.imul(ht,nt),k=Math.imul(ht,Ve),k=k+Math.imul(rt,nt)|0,z=Math.imul(rt,Ve),F=F+Math.imul(Xe,Ie)|0,k=k+Math.imul(Xe,dt)|0,k=k+Math.imul(Ke,Ie)|0,z=z+Math.imul(Ke,dt)|0,F=F+Math.imul(ce,wt)|0,k=k+Math.imul(ce,Le)|0,k=k+Math.imul($e,wt)|0,z=z+Math.imul($e,Le)|0,F=F+Math.imul(se,qe)|0,k=k+Math.imul(se,Ft)|0,k=k+Math.imul(ye,qe)|0,z=z+Math.imul(ye,Ft)|0,F=F+Math.imul(ie,er)|0,k=k+Math.imul(ie,Jt)|0,k=k+Math.imul(be,er)|0,z=z+Math.imul(be,Jt)|0,F=F+Math.imul(ue,H)|0,k=k+Math.imul(ue,Y)|0,k=k+Math.imul(de,H)|0,z=z+Math.imul(de,Y)|0,F=F+Math.imul(ne,X)|0,k=k+Math.imul(ne,te)|0,k=k+Math.imul(ae,X)|0,z=z+Math.imul(ae,te)|0,F=F+Math.imul(K,fe)|0,k=k+Math.imul(K,Be)|0,k=k+Math.imul(re,fe)|0,z=z+Math.imul(re,Be)|0,F=F+Math.imul(M,Ee)|0,k=k+Math.imul(M,Me)|0,k=k+Math.imul(G,Ee)|0,z=z+Math.imul(G,Me)|0;var Zr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,F=Math.imul(Se,nt),k=Math.imul(Se,Ve),k=k+Math.imul(he,nt)|0,z=Math.imul(he,Ve),F=F+Math.imul(ht,Ie)|0,k=k+Math.imul(ht,dt)|0,k=k+Math.imul(rt,Ie)|0,z=z+Math.imul(rt,dt)|0,F=F+Math.imul(Xe,wt)|0,k=k+Math.imul(Xe,Le)|0,k=k+Math.imul(Ke,wt)|0,z=z+Math.imul(Ke,Le)|0,F=F+Math.imul(ce,qe)|0,k=k+Math.imul(ce,Ft)|0,k=k+Math.imul($e,qe)|0,z=z+Math.imul($e,Ft)|0,F=F+Math.imul(se,er)|0,k=k+Math.imul(se,Jt)|0,k=k+Math.imul(ye,er)|0,z=z+Math.imul(ye,Jt)|0,F=F+Math.imul(ie,H)|0,k=k+Math.imul(ie,Y)|0,k=k+Math.imul(be,H)|0,z=z+Math.imul(be,Y)|0,F=F+Math.imul(ue,X)|0,k=k+Math.imul(ue,te)|0,k=k+Math.imul(de,X)|0,z=z+Math.imul(de,te)|0,F=F+Math.imul(ne,fe)|0,k=k+Math.imul(ne,Be)|0,k=k+Math.imul(ae,fe)|0,z=z+Math.imul(ae,Be)|0,F=F+Math.imul(K,Ee)|0,k=k+Math.imul(K,Me)|0,k=k+Math.imul(re,Ee)|0,z=z+Math.imul(re,Me)|0,F=F+Math.imul(M,Fe)|0,k=k+Math.imul(M,xe)|0,k=k+Math.imul(G,Fe)|0,z=z+Math.imul(G,xe)|0;var _t=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(_t>>>26)|0,_t&=67108863,F=Math.imul(Se,Ie),k=Math.imul(Se,dt),k=k+Math.imul(he,Ie)|0,z=Math.imul(he,dt),F=F+Math.imul(ht,wt)|0,k=k+Math.imul(ht,Le)|0,k=k+Math.imul(rt,wt)|0,z=z+Math.imul(rt,Le)|0,F=F+Math.imul(Xe,qe)|0,k=k+Math.imul(Xe,Ft)|0,k=k+Math.imul(Ke,qe)|0,z=z+Math.imul(Ke,Ft)|0,F=F+Math.imul(ce,er)|0,k=k+Math.imul(ce,Jt)|0,k=k+Math.imul($e,er)|0,z=z+Math.imul($e,Jt)|0,F=F+Math.imul(se,H)|0,k=k+Math.imul(se,Y)|0,k=k+Math.imul(ye,H)|0,z=z+Math.imul(ye,Y)|0,F=F+Math.imul(ie,X)|0,k=k+Math.imul(ie,te)|0,k=k+Math.imul(be,X)|0,z=z+Math.imul(be,te)|0,F=F+Math.imul(ue,fe)|0,k=k+Math.imul(ue,Be)|0,k=k+Math.imul(de,fe)|0,z=z+Math.imul(de,Be)|0,F=F+Math.imul(ne,Ee)|0,k=k+Math.imul(ne,Me)|0,k=k+Math.imul(ae,Ee)|0,z=z+Math.imul(ae,Me)|0,F=F+Math.imul(K,Fe)|0,k=k+Math.imul(K,xe)|0,k=k+Math.imul(re,Fe)|0,z=z+Math.imul(re,xe)|0;var hr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(hr>>>26)|0,hr&=67108863,F=Math.imul(Se,wt),k=Math.imul(Se,Le),k=k+Math.imul(he,wt)|0,z=Math.imul(he,Le),F=F+Math.imul(ht,qe)|0,k=k+Math.imul(ht,Ft)|0,k=k+Math.imul(rt,qe)|0,z=z+Math.imul(rt,Ft)|0,F=F+Math.imul(Xe,er)|0,k=k+Math.imul(Xe,Jt)|0,k=k+Math.imul(Ke,er)|0,z=z+Math.imul(Ke,Jt)|0,F=F+Math.imul(ce,H)|0,k=k+Math.imul(ce,Y)|0,k=k+Math.imul($e,H)|0,z=z+Math.imul($e,Y)|0,F=F+Math.imul(se,X)|0,k=k+Math.imul(se,te)|0,k=k+Math.imul(ye,X)|0,z=z+Math.imul(ye,te)|0,F=F+Math.imul(ie,fe)|0,k=k+Math.imul(ie,Be)|0,k=k+Math.imul(be,fe)|0,z=z+Math.imul(be,Be)|0,F=F+Math.imul(ue,Ee)|0,k=k+Math.imul(ue,Me)|0,k=k+Math.imul(de,Ee)|0,z=z+Math.imul(de,Me)|0,F=F+Math.imul(ne,Fe)|0,k=k+Math.imul(ne,xe)|0,k=k+Math.imul(ae,Fe)|0,z=z+Math.imul(ae,xe)|0;var lt=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(lt>>>26)|0,lt&=67108863,F=Math.imul(Se,qe),k=Math.imul(Se,Ft),k=k+Math.imul(he,qe)|0,z=Math.imul(he,Ft),F=F+Math.imul(ht,er)|0,k=k+Math.imul(ht,Jt)|0,k=k+Math.imul(rt,er)|0,z=z+Math.imul(rt,Jt)|0,F=F+Math.imul(Xe,H)|0,k=k+Math.imul(Xe,Y)|0,k=k+Math.imul(Ke,H)|0,z=z+Math.imul(Ke,Y)|0,F=F+Math.imul(ce,X)|0,k=k+Math.imul(ce,te)|0,k=k+Math.imul($e,X)|0,z=z+Math.imul($e,te)|0,F=F+Math.imul(se,fe)|0,k=k+Math.imul(se,Be)|0,k=k+Math.imul(ye,fe)|0,z=z+Math.imul(ye,Be)|0,F=F+Math.imul(ie,Ee)|0,k=k+Math.imul(ie,Me)|0,k=k+Math.imul(be,Ee)|0,z=z+Math.imul(be,Me)|0,F=F+Math.imul(ue,Fe)|0,k=k+Math.imul(ue,xe)|0,k=k+Math.imul(de,Fe)|0,z=z+Math.imul(de,xe)|0;var $t=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+($t>>>26)|0,$t&=67108863,F=Math.imul(Se,er),k=Math.imul(Se,Jt),k=k+Math.imul(he,er)|0,z=Math.imul(he,Jt),F=F+Math.imul(ht,H)|0,k=k+Math.imul(ht,Y)|0,k=k+Math.imul(rt,H)|0,z=z+Math.imul(rt,Y)|0,F=F+Math.imul(Xe,X)|0,k=k+Math.imul(Xe,te)|0,k=k+Math.imul(Ke,X)|0,z=z+Math.imul(Ke,te)|0,F=F+Math.imul(ce,fe)|0,k=k+Math.imul(ce,Be)|0,k=k+Math.imul($e,fe)|0,z=z+Math.imul($e,Be)|0,F=F+Math.imul(se,Ee)|0,k=k+Math.imul(se,Me)|0,k=k+Math.imul(ye,Ee)|0,z=z+Math.imul(ye,Me)|0,F=F+Math.imul(ie,Fe)|0,k=k+Math.imul(ie,xe)|0,k=k+Math.imul(be,Fe)|0,z=z+Math.imul(be,xe)|0;var yr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(yr>>>26)|0,yr&=67108863,F=Math.imul(Se,H),k=Math.imul(Se,Y),k=k+Math.imul(he,H)|0,z=Math.imul(he,Y),F=F+Math.imul(ht,X)|0,k=k+Math.imul(ht,te)|0,k=k+Math.imul(rt,X)|0,z=z+Math.imul(rt,te)|0,F=F+Math.imul(Xe,fe)|0,k=k+Math.imul(Xe,Be)|0,k=k+Math.imul(Ke,fe)|0,z=z+Math.imul(Ke,Be)|0,F=F+Math.imul(ce,Ee)|0,k=k+Math.imul(ce,Me)|0,k=k+Math.imul($e,Ee)|0,z=z+Math.imul($e,Me)|0,F=F+Math.imul(se,Fe)|0,k=k+Math.imul(se,xe)|0,k=k+Math.imul(ye,Fe)|0,z=z+Math.imul(ye,xe)|0;var Pr=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,F=Math.imul(Se,X),k=Math.imul(Se,te),k=k+Math.imul(he,X)|0,z=Math.imul(he,te),F=F+Math.imul(ht,fe)|0,k=k+Math.imul(ht,Be)|0,k=k+Math.imul(rt,fe)|0,z=z+Math.imul(rt,Be)|0,F=F+Math.imul(Xe,Ee)|0,k=k+Math.imul(Xe,Me)|0,k=k+Math.imul(Ke,Ee)|0,z=z+Math.imul(Ke,Me)|0,F=F+Math.imul(ce,Fe)|0,k=k+Math.imul(ce,xe)|0,k=k+Math.imul($e,Fe)|0,z=z+Math.imul($e,xe)|0;var pi=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(pi>>>26)|0,pi&=67108863,F=Math.imul(Se,fe),k=Math.imul(Se,Be),k=k+Math.imul(he,fe)|0,z=Math.imul(he,Be),F=F+Math.imul(ht,Ee)|0,k=k+Math.imul(ht,Me)|0,k=k+Math.imul(rt,Ee)|0,z=z+Math.imul(rt,Me)|0,F=F+Math.imul(Xe,Fe)|0,k=k+Math.imul(Xe,xe)|0,k=k+Math.imul(Ke,Fe)|0,z=z+Math.imul(Ke,xe)|0;var rh=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(rh>>>26)|0,rh&=67108863,F=Math.imul(Se,Ee),k=Math.imul(Se,Me),k=k+Math.imul(he,Ee)|0,z=Math.imul(he,Me),F=F+Math.imul(ht,Fe)|0,k=k+Math.imul(ht,xe)|0,k=k+Math.imul(rt,Fe)|0,z=z+Math.imul(rt,xe)|0;var tm=(D+F|0)+((k&8191)<<13)|0;D=(z+(k>>>13)|0)+(tm>>>26)|0,tm&=67108863,F=Math.imul(Se,Fe),k=Math.imul(Se,xe),k=k+Math.imul(he,Fe)|0,z=Math.imul(he,xe);var ux=(D+F|0)+((k&8191)<<13)|0;return D=(z+(k>>>13)|0)+(ux>>>26)|0,ux&=67108863,I[0]=ft,I[1]=Ct,I[2]=jt,I[3]=qt,I[4]=Qt,I[5]=Vt,I[6]=dr,I[7]=et,I[8]=Zr,I[9]=_t,I[10]=hr,I[11]=lt,I[12]=$t,I[13]=yr,I[14]=Pr,I[15]=pi,I[16]=rh,I[17]=tm,I[18]=ux,D!==0&&(I[19]=D,$.length++),$};Math.imul||(b=y);function v(j,_,C){C.negative=_.negative^j.negative,C.length=j.length+_.length;for(var $=0,P=0,S=0;S<C.length-1;S++){var I=P;P=0;for(var D=$&67108863,F=Math.min(S,_.length-1),k=Math.max(0,S-j.length+1);k<=F;k++){var z=S-k,V=j.words[z]|0,M=_.words[k]|0,G=V*M,Z=G&67108863;I=I+(G/67108864|0)|0,Z=Z+D|0,D=Z&67108863,I=I+(Z>>>26)|0,P+=I>>>26,I&=67108863}C.words[S]=D,$=I,I=P}return $!==0?C.words[S]=$:C.length--,C._strip()}function A(j,_,C){return v(j,_,C)}s.prototype.mulTo=function(_,C){var $,P=this.length+_.length;return this.length===10&&_.length===10?$=b(this,_,C):P<63?$=y(this,_,C):P<1024?$=v(this,_,C):$=A(this,_,C),$},s.prototype.mul=function(_){var C=new s(null);return C.words=new Array(this.length+_.length),this.mulTo(_,C)},s.prototype.mulf=function(_){var C=new s(null);return C.words=new Array(this.length+_.length),A(this,_,C)},s.prototype.imul=function(_){return this.clone().mulTo(_,this)},s.prototype.imuln=function(_){var C=_<0;C&&(_=-_),n(typeof _=="number"),n(_<67108864);for(var $=0,P=0;P<this.length;P++){var S=(this.words[P]|0)*_,I=(S&67108863)+($&67108863);$>>=26,$+=S/67108864|0,$+=I>>>26,this.words[P]=I&67108863}return $!==0&&(this.words[P]=$,this.length++),this.length=_===0?1:this.length,C?this.ineg():this},s.prototype.muln=function(_){return this.clone().imuln(_)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(_){var C=w(_);if(C.length===0)return new s(1);for(var $=this,P=0;P<C.length&&C[P]===0;P++,$=$.sqr());if(++P<C.length)for(var S=$.sqr();P<C.length;P++,S=S.sqr())C[P]!==0&&($=$.mul(S));return $},s.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var C=_%26,$=(_-C)/26,P=67108863>>>26-C<<26-C,S;if(C!==0){var I=0;for(S=0;S<this.length;S++){var D=this.words[S]&P,F=(this.words[S]|0)-D<<C;this.words[S]=F|I,I=D>>>26-C}I&&(this.words[S]=I,this.length++)}if($!==0){for(S=this.length-1;S>=0;S--)this.words[S+$]=this.words[S];for(S=0;S<$;S++)this.words[S]=0;this.length+=$}return this._strip()},s.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},s.prototype.iushrn=function(_,C,$){n(typeof _=="number"&&_>=0);var P;C?P=(C-C%26)/26:P=0;var S=_%26,I=Math.min((_-S)/26,this.length),D=67108863^67108863>>>S<<S,F=$;if(P-=I,P=Math.max(0,P),F){for(var k=0;k<I;k++)F.words[k]=this.words[k];F.length=I}if(I!==0)if(this.length>I)for(this.length-=I,k=0;k<this.length;k++)this.words[k]=this.words[k+I];else this.words[0]=0,this.length=1;var z=0;for(k=this.length-1;k>=0&&(z!==0||k>=P);k--){var V=this.words[k]|0;this.words[k]=z<<26-S|V>>>S,z=V&D}return F&&z!==0&&(F.words[F.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(_,C,$){return n(this.negative===0),this.iushrn(_,C,$)},s.prototype.shln=function(_){return this.clone().ishln(_)},s.prototype.ushln=function(_){return this.clone().iushln(_)},s.prototype.shrn=function(_){return this.clone().ishrn(_)},s.prototype.ushrn=function(_){return this.clone().iushrn(_)},s.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var C=_%26,$=(_-C)/26,P=1<<C;if(this.length<=$)return!1;var S=this.words[$];return!!(S&P)},s.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var C=_%26,$=(_-C)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=$)return this;if(C!==0&&$++,this.length=Math.min($,this.length),C!==0){var P=67108863^67108863>>>C<<C;this.words[this.length-1]&=P}return this._strip()},s.prototype.maskn=function(_){return this.clone().imaskn(_)},s.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},s.prototype._iaddn=function(_){this.words[0]+=_;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},s.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},s.prototype.addn=function(_){return this.clone().iaddn(_)},s.prototype.subn=function(_){return this.clone().isubn(_)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(_,C,$){var P=_.length+$,S;this._expand(P);var I,D=0;for(S=0;S<_.length;S++){I=(this.words[S+$]|0)+D;var F=(_.words[S]|0)*C;I-=F&67108863,D=(I>>26)-(F/67108864|0),this.words[S+$]=I&67108863}for(;S<this.length-$;S++)I=(this.words[S+$]|0)+D,D=I>>26,this.words[S+$]=I&67108863;if(D===0)return this._strip();for(n(D===-1),D=0,S=0;S<this.length;S++)I=-(this.words[S]|0)+D,D=I>>26,this.words[S]=I&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(_,C){var $=this.length-_.length,P=this.clone(),S=_,I=S.words[S.length-1]|0,D=this._countBits(I);$=26-D,$!==0&&(S=S.ushln($),P.iushln($),I=S.words[S.length-1]|0);var F=P.length-S.length,k;if(C!=="mod"){k=new s(null),k.length=F+1,k.words=new Array(k.length);for(var z=0;z<k.length;z++)k.words[z]=0}var V=P.clone()._ishlnsubmul(S,1,F);V.negative===0&&(P=V,k&&(k.words[F]=1));for(var M=F-1;M>=0;M--){var G=(P.words[S.length+M]|0)*67108864+(P.words[S.length+M-1]|0);for(G=Math.min(G/I|0,67108863),P._ishlnsubmul(S,G,M);P.negative!==0;)G--,P.negative=0,P._ishlnsubmul(S,1,M),P.isZero()||(P.negative^=1);k&&(k.words[M]=G)}return k&&k._strip(),P._strip(),C!=="div"&&$!==0&&P.iushrn($),{div:k||null,mod:P}},s.prototype.divmod=function(_,C,$){if(n(!_.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var P,S,I;return this.negative!==0&&_.negative===0?(I=this.neg().divmod(_,C),C!=="mod"&&(P=I.div.neg()),C!=="div"&&(S=I.mod.neg(),$&&S.negative!==0&&S.iadd(_)),{div:P,mod:S}):this.negative===0&&_.negative!==0?(I=this.divmod(_.neg(),C),C!=="mod"&&(P=I.div.neg()),{div:P,mod:I.mod}):this.negative&_.negative?(I=this.neg().divmod(_.neg(),C),C!=="div"&&(S=I.mod.neg(),$&&S.negative!==0&&S.isub(_)),{div:I.div,mod:S}):_.length>this.length||this.cmp(_)<0?{div:new s(0),mod:this}:_.length===1?C==="div"?{div:this.divn(_.words[0]),mod:null}:C==="mod"?{div:null,mod:new s(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new s(this.modrn(_.words[0]))}:this._wordDiv(_,C)},s.prototype.div=function(_){return this.divmod(_,"div",!1).div},s.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},s.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},s.prototype.divRound=function(_){var C=this.divmod(_);if(C.mod.isZero())return C.div;var $=C.div.negative!==0?C.mod.isub(_):C.mod,P=_.ushrn(1),S=_.andln(1),I=$.cmp(P);return I<0||S===1&&I===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},s.prototype.modrn=function(_){var C=_<0;C&&(_=-_),n(_<=67108863);for(var $=(1<<26)%_,P=0,S=this.length-1;S>=0;S--)P=($*P+(this.words[S]|0))%_;return C?-P:P},s.prototype.modn=function(_){return this.modrn(_)},s.prototype.idivn=function(_){var C=_<0;C&&(_=-_),n(_<=67108863);for(var $=0,P=this.length-1;P>=0;P--){var S=(this.words[P]|0)+$*67108864;this.words[P]=S/_|0,$=S%_}return this._strip(),C?this.ineg():this},s.prototype.divn=function(_){return this.clone().idivn(_)},s.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var C=this,$=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var P=new s(1),S=new s(0),I=new s(0),D=new s(1),F=0;C.isEven()&&$.isEven();)C.iushrn(1),$.iushrn(1),++F;for(var k=$.clone(),z=C.clone();!C.isZero();){for(var V=0,M=1;!(C.words[0]&M)&&V<26;++V,M<<=1);if(V>0)for(C.iushrn(V);V-- >0;)(P.isOdd()||S.isOdd())&&(P.iadd(k),S.isub(z)),P.iushrn(1),S.iushrn(1);for(var G=0,Z=1;!($.words[0]&Z)&&G<26;++G,Z<<=1);if(G>0)for($.iushrn(G);G-- >0;)(I.isOdd()||D.isOdd())&&(I.iadd(k),D.isub(z)),I.iushrn(1),D.iushrn(1);C.cmp($)>=0?(C.isub($),P.isub(I),S.isub(D)):($.isub(C),I.isub(P),D.isub(S))}return{a:I,b:D,gcd:$.iushln(F)}},s.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var C=this,$=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var P=new s(1),S=new s(0),I=$.clone();C.cmpn(1)>0&&$.cmpn(1)>0;){for(var D=0,F=1;!(C.words[0]&F)&&D<26;++D,F<<=1);if(D>0)for(C.iushrn(D);D-- >0;)P.isOdd()&&P.iadd(I),P.iushrn(1);for(var k=0,z=1;!($.words[0]&z)&&k<26;++k,z<<=1);if(k>0)for($.iushrn(k);k-- >0;)S.isOdd()&&S.iadd(I),S.iushrn(1);C.cmp($)>=0?(C.isub($),P.isub(S)):($.isub(C),S.isub(P))}var V;return C.cmpn(1)===0?V=P:V=S,V.cmpn(0)<0&&V.iadd(_),V},s.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var C=this.clone(),$=_.clone();C.negative=0,$.negative=0;for(var P=0;C.isEven()&&$.isEven();P++)C.iushrn(1),$.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;$.isEven();)$.iushrn(1);var S=C.cmp($);if(S<0){var I=C;C=$,$=I}else if(S===0||$.cmpn(1)===0)break;C.isub($)}while(!0);return $.iushln(P)},s.prototype.invm=function(_){return this.egcd(_).a.umod(_)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(_){return this.words[0]&_},s.prototype.bincn=function(_){n(typeof _=="number");var C=_%26,$=(_-C)/26,P=1<<C;if(this.length<=$)return this._expand($+1),this.words[$]|=P,this;for(var S=P,I=$;S!==0&&I<this.length;I++){var D=this.words[I]|0;D+=S,S=D>>>26,D&=67108863,this.words[I]=D}return S!==0&&(this.words[I]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(_){var C=_<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var $;if(this.length>1)$=1;else{C&&(_=-_),n(_<=67108863,"Number is too big");var P=this.words[0]|0;$=P===_?0:P<_?-1:1}return this.negative!==0?-$|0:$},s.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var C=this.ucmp(_);return this.negative!==0?-C|0:C},s.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var C=0,$=this.length-1;$>=0;$--){var P=this.words[$]|0,S=_.words[$]|0;if(P!==S){P<S?C=-1:P>S&&(C=1);break}}return C},s.prototype.gtn=function(_){return this.cmpn(_)===1},s.prototype.gt=function(_){return this.cmp(_)===1},s.prototype.gten=function(_){return this.cmpn(_)>=0},s.prototype.gte=function(_){return this.cmp(_)>=0},s.prototype.ltn=function(_){return this.cmpn(_)===-1},s.prototype.lt=function(_){return this.cmp(_)===-1},s.prototype.lten=function(_){return this.cmpn(_)<=0},s.prototype.lte=function(_){return this.cmp(_)<=0},s.prototype.eqn=function(_){return this.cmpn(_)===0},s.prototype.eq=function(_){return this.cmp(_)===0},s.red=function(_){return new B(_)},s.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(_){return this.red=_,this},s.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},s.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},s.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},s.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},s.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},s.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},s.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},s.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var E={k256:null,p224:null,p192:null,p25519:null};function O(j,_){this.name=j,this.p=new s(_,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var _=new s(null);return _.words=new Array(Math.ceil(this.n/13)),_},O.prototype.ireduce=function(_){var C=_,$;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),$=C.bitLength();while($>this.n);var P=$<this.n?-1:C.ucmp(this.p);return P===0?(C.words[0]=0,C.length=1):P>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},O.prototype.split=function(_,C){_.iushrn(this.n,0,C)},O.prototype.imulK=function(_){return _.imul(this.k)};function N(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,O),N.prototype.split=function(_,C){for(var $=4194303,P=Math.min(_.length,9),S=0;S<P;S++)C.words[S]=_.words[S];if(C.length=P,_.length<=9){_.words[0]=0,_.length=1;return}var I=_.words[9];for(C.words[C.length++]=I&$,S=10;S<_.length;S++){var D=_.words[S]|0;_.words[S-10]=(D&$)<<4|I>>>22,I=D}I>>>=22,_.words[S-10]=I,I===0&&_.length>10?_.length-=10:_.length-=9},N.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var C=0,$=0;$<_.length;$++){var P=_.words[$]|0;C+=P*977,_.words[$]=C&67108863,C=P*64+(C/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function R(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,O);function T(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(T,O);function L(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,O),L.prototype.imulK=function(_){for(var C=0,$=0;$<_.length;$++){var P=(_.words[$]|0)*19+C,S=P&67108863;P>>>=26,_.words[$]=S,C=P}return C!==0&&(_.words[_.length++]=C),_},s._prime=function(_){if(E[_])return E[_];var C;if(_==="k256")C=new N;else if(_==="p224")C=new R;else if(_==="p192")C=new T;else if(_==="p25519")C=new L;else throw new Error("Unknown prime "+_);return E[_]=C,C};function B(j){if(typeof j=="string"){var _=s._prime(j);this.m=_.p,this.prime=_}else n(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}B.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},B.prototype._verify2=function(_,C){n((_.negative|C.negative)===0,"red works only with positives"),n(_.red&&_.red===C.red,"red works only with red numbers")},B.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(u(_,_.umod(this.m)._forceRed(this)),_)},B.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},B.prototype.add=function(_,C){this._verify2(_,C);var $=_.add(C);return $.cmp(this.m)>=0&&$.isub(this.m),$._forceRed(this)},B.prototype.iadd=function(_,C){this._verify2(_,C);var $=_.iadd(C);return $.cmp(this.m)>=0&&$.isub(this.m),$},B.prototype.sub=function(_,C){this._verify2(_,C);var $=_.sub(C);return $.cmpn(0)<0&&$.iadd(this.m),$._forceRed(this)},B.prototype.isub=function(_,C){this._verify2(_,C);var $=_.isub(C);return $.cmpn(0)<0&&$.iadd(this.m),$},B.prototype.shl=function(_,C){return this._verify1(_),this.imod(_.ushln(C))},B.prototype.imul=function(_,C){return this._verify2(_,C),this.imod(_.imul(C))},B.prototype.mul=function(_,C){return this._verify2(_,C),this.imod(_.mul(C))},B.prototype.isqr=function(_){return this.imul(_,_.clone())},B.prototype.sqr=function(_){return this.mul(_,_)},B.prototype.sqrt=function(_){if(_.isZero())return _.clone();var C=this.m.andln(3);if(n(C%2===1),C===3){var $=this.m.add(new s(1)).iushrn(2);return this.pow(_,$)}for(var P=this.m.subn(1),S=0;!P.isZero()&&P.andln(1)===0;)S++,P.iushrn(1);n(!P.isZero());var I=new s(1).toRed(this),D=I.redNeg(),F=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new s(2*k*k).toRed(this);this.pow(k,F).cmp(D)!==0;)k.redIAdd(D);for(var z=this.pow(k,P),V=this.pow(_,P.addn(1).iushrn(1)),M=this.pow(_,P),G=S;M.cmp(I)!==0;){for(var Z=M,K=0;Z.cmp(I)!==0;K++)Z=Z.redSqr();n(K<G);var re=this.pow(z,new s(1).iushln(G-K-1));V=V.redMul(re),z=re.redSqr(),M=M.redMul(z),G=K}return V},B.prototype.invm=function(_){var C=_._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},B.prototype.pow=function(_,C){if(C.isZero())return new s(1).toRed(this);if(C.cmpn(1)===0)return _.clone();var $=4,P=new Array(1<<$);P[0]=new s(1).toRed(this),P[1]=_;for(var S=2;S<P.length;S++)P[S]=this.mul(P[S-1],_);var I=P[0],D=0,F=0,k=C.bitLength()%26;for(k===0&&(k=26),S=C.length-1;S>=0;S--){for(var z=C.words[S],V=k-1;V>=0;V--){var M=z>>V&1;if(I!==P[0]&&(I=this.sqr(I)),M===0&&D===0){F=0;continue}D<<=1,D|=M,F++,!(F!==$&&(S!==0||V!==0))&&(I=this.mul(I,P[D]),F=0,D=0)}k=26}return I},B.prototype.convertTo=function(_){var C=_.umod(this.m);return C===_?C.clone():C},B.prototype.convertFrom=function(_){var C=_.clone();return C.red=null,C},s.mont=function(_){return new W(_)};function W(j){B.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,B),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var C=this.imod(_.mul(this.rinv));return C.red=null,C},W.prototype.imul=function(_,C){if(_.isZero()||C.isZero())return _.words[0]=0,_.length=1,_;var $=_.imul(C),P=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=$.isub(P).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},W.prototype.mul=function(_,C){if(_.isZero()||C.isZero())return new s(0)._forceRed(this);var $=_.mul(C),P=$.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=$.isub(P).iushrn(this.shift),I=S;return S.cmp(this.m)>=0?I=S.isub(this.m):S.cmpn(0)<0&&(I=S.iadd(this.m)),I._forceRed(this)},W.prototype.invm=function(_){var C=this.imod(_._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,bs)})(Y$);var wve=Y$.exports;const xt=mo(wve),vve="bytes/5.8.0",Jr=new pe(vve);function pG(t){return!!t.toHexString}function m0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return m0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Z$(t){return Cr(t)&&!(t.length%2)||Sg(t)}function CO(t){return typeof t=="number"&&t==t&&t%1===0}function Sg(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!CO(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!CO(r)||r<0||r>=256)return!1}return!0}function Tt(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),m0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pG(t)&&(t=t.toHexString()),Cr(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Jr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return m0(new Uint8Array(n))}return Sg(t)?m0(new Uint8Array(t)):Jr.throwArgumentError("invalid arrayify value","value",t)}function Sh(t){const e=t.map(i=>Tt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),m0(n)}function V0(t){let e=Tt(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function bve(t,e){t=Tt(t),t.length>e&&Jr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),m0(r)}function Cr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const p8="0123456789abcdef";function It(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=p8[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pG(t))return t.toHexString();if(Cr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Jr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Sg(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=p8[(i&240)>>4]+p8[i&15]}return r}return Jr.throwArgumentError("invalid hexlify value","value",t)}function lf(t){if(typeof t!="string")t=It(t);else if(!Cr(t)||t.length%2)return null;return(t.length-2)/2}function qi(t,e,r){return typeof t!="string"?t=It(t):(!Cr(t)||t.length%2)&&Jr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function io(t){let e="0x";return t.forEach(r=>{e+=It(r).substring(2)}),e}function J$(t){const e=xve(It(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function xve(t){typeof t!="string"&&(t=It(t)),Cr(t)||Jr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function en(t,e){for(typeof t!="string"?t=It(t):Cr(t)||Jr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Jr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function S6(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Z$(t)){let r=Tt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=It(r.slice(0,32)),e.s=It(r.slice(32,64))):r.length===65?(e.r=It(r.slice(0,32)),e.s=It(r.slice(32,64)),e.v=r[64]):Jr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Jr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=It(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=bve(Tt(e._vs),32);e._vs=It(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=It(i);e.s==null?e.s=o:e.s!==o&&Jr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Jr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Jr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Cr(e.r)?Jr.throwArgumentError("signature missing or invalid r","signature",t):e.r=en(e.r,32),e.s==null||!Cr(e.s)?Jr.throwArgumentError("signature missing or invalid s","signature",t):e.s=en(e.s,32);const r=Tt(e.s);r[0]>=128&&Jr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=It(r);e._vs&&(Cr(e._vs)||Jr.throwArgumentError("signature invalid _vs","signature",t),e._vs=en(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Jr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const gG="bignumber/5.8.0";var A3=xt.BN;const Ac=new pe(gG),g8={},_O=9007199254740991;function Eve(t){return t!=null&&(Ue.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Cr(t)||typeof t=="bigint"||Sg(t))}let AO=!1;class Ue{constructor(e,r){e!==g8&&Ac.throwError("cannot call constructor directly; use BigNumber.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return us(Bt(this).fromTwos(e))}toTwos(e){return us(Bt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ue.from(this._hex.substring(1)):this}add(e){return us(Bt(this).add(Bt(e)))}sub(e){return us(Bt(this).sub(Bt(e)))}div(e){return Ue.from(e).isZero()&&ko("division-by-zero","div"),us(Bt(this).div(Bt(e)))}mul(e){return us(Bt(this).mul(Bt(e)))}mod(e){const r=Bt(e);return r.isNeg()&&ko("division-by-zero","mod"),us(Bt(this).umod(r))}pow(e){const r=Bt(e);return r.isNeg()&&ko("negative-power","pow"),us(Bt(this).pow(r))}and(e){const r=Bt(e);return(this.isNegative()||r.isNeg())&&ko("unbound-bitwise-result","and"),us(Bt(this).and(r))}or(e){const r=Bt(e);return(this.isNegative()||r.isNeg())&&ko("unbound-bitwise-result","or"),us(Bt(this).or(r))}xor(e){const r=Bt(e);return(this.isNegative()||r.isNeg())&&ko("unbound-bitwise-result","xor"),us(Bt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ko("negative-width","mask"),us(Bt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ko("negative-width","shl"),us(Bt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ko("negative-width","shr"),us(Bt(this).shrn(e))}eq(e){return Bt(this).eq(Bt(e))}lt(e){return Bt(this).lt(Bt(e))}lte(e){return Bt(this).lte(Bt(e))}gt(e){return Bt(this).gt(Bt(e))}gte(e){return Bt(this).gte(Bt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Bt(this).isZero()}toNumber(){try{return Bt(this).toNumber()}catch{ko("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ac.throwError("this platform does not support BigInt",pe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?AO||(AO=!0,Ac.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ac.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",pe.errors.UNEXPECTED_ARGUMENT,{}):Ac.throwError("BigNumber.toString does not accept parameters",pe.errors.UNEXPECTED_ARGUMENT,{})),Bt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ue)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ue(g8,Jy(e)):e.match(/^-?[0-9]+$/)?new Ue(g8,Jy(new A3(e))):Ac.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ko("underflow","BigNumber.from",e),(e>=_O||e<=-_O)&&ko("overflow","BigNumber.from",e),Ue.from(String(e));const r=e;if(typeof r=="bigint")return Ue.from(r.toString());if(Sg(r))return Ue.from(It(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ue.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Cr(n)||n[0]==="-"&&Cr(n.substring(1))))return Ue.from(n)}return Ac.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Jy(t){if(typeof t!="string")return Jy(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ac.throwArgumentError("invalid hex","value",t),t=Jy(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function us(t){return Ue.from(Jy(t))}function Bt(t){const e=Ue.from(t).toHexString();return e[0]==="-"?new A3("-"+e.substring(3),16):new A3(e.substring(2),16)}function ko(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ac.throwError(t,pe.errors.NUMERIC_FAULT,n)}function Cve(t){return new A3(t,36).toString(16)}const Zi=new pe(gG),C1={},mG=Ue.from(0),yG=Ue.from(-1);function wG(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Zi.throwError(t,pe.errors.NUMERIC_FAULT,i)}let _1="0";for(;_1.length<256;)_1+=_1;function Q$(t){if(typeof t!="number")try{t=Ue.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+_1.substring(0,t):Zi.throwArgumentError("invalid decimal size","decimals",t)}function m8(t,e){e==null&&(e=0);const r=Q$(e);t=Ue.from(t);const n=t.lt(mG);n&&(t=t.mul(yG));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function vl(t,e){e==null&&(e=0);const r=Q$(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Zi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Zi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Zi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&wG("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Ue.from(s),l=Ue.from(o);let c=a.mul(r).add(l);return n&&(c=c.mul(yG)),c}class y0{constructor(e,r,n,i){e!==C1&&Zi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Q$(i),Object.freeze(this)}static from(e){if(e instanceof y0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Zi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Zi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Zi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Zi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new y0(C1,r,n,i)}}class Qn{constructor(e,r,n,i){e!==C1&&Zi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Zi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=vl(this._value,this.format.decimals),n=vl(e._value,e.format.decimals);return Qn.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=vl(this._value,this.format.decimals),n=vl(e._value,e.format.decimals);return Qn.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=vl(this._value,this.format.decimals),n=vl(e._value,e.format.decimals);return Qn.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=vl(this._value,this.format.decimals),n=vl(e._value,e.format.decimals);return Qn.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Qn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(kO.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Qn.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(kO.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Zi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Qn.from("1"+_1.substring(0,e),this.format),i=_ve.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Zi.throwArgumentError("invalid byte width","width",e);const r=Ue.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return en(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Qn.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!Eve(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Qn.fromString(m8(e,r),y0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=y0.from(r),i=vl(e,n.decimals);!n.signed&&i.lt(mG)&&wG("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=en(s,n.width/8));const o=m8(i,n.decimals);return new Qn(C1,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=y0.from(r);if(Tt(e).length>n.width/8)throw new Error("overflow");let i=Ue.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=m8(i,n.decimals);return new Qn(C1,s,o,n)}static from(e,r){if(typeof e=="string")return Qn.fromString(e,r);if(Sg(e))return Qn.fromBytes(e,r);try{return Qn.fromValue(e,0,r)}catch(n){if(n.code!==pe.errors.INVALID_ARGUMENT)throw n}return Zi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const kO=Qn.from(1),_ve=Qn.from("0.5"),Ave="abstract-provider/5.8.0";var kve=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const $ve=new pe(Ave);class Sve extends dve{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class X${constructor(){$ve.checkAbstract(new.target,X$),Ut(this,"_isProvider",!0)}getFeeData(){return kve(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield ti({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ue.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Ive="networks/5.8.0",$O=new pe(Ive);function Tve(t){return t&&typeof t.renetwork=="function"}function Ia(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Ia(r)},e}function k3(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return k3(t,n)},r}const SO={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ia("homestead")},IO={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ia("ropsten")},TO={chainId:63,name:"classicMordor",_defaultProvider:k3("https://www.ethercluster.com/mordor","classicMordor")},tv={unspecified:{chainId:0,name:"unspecified"},homestead:SO,mainnet:SO,morden:{chainId:2,name:"morden"},ropsten:IO,testnet:IO,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ia("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ia("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ia("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ia("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ia("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:k3("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:TO,classicTestnet:TO,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:k3("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ia("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ia("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ia("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Pve(t){if(t==null)return null;if(typeof t=="number"){for(const n in tv){const i=tv[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=tv[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=tv[t.name];if(!e)return typeof t.chainId!="number"&&$O.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&$O.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(Tve(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function vG(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Tt(e)}function bG(t){t=Tt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class xG{constructor(e){Ut(this,"alphabet",e),Ut(this,"base",e.length),Ut(this,"_alphabetMap",{}),Ut(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Tt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Tt(new Uint8Array(r.reverse()))}}new xG("abcdefghijklmnopqrstuvwxyz234567");const bC=new xG("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Nve="0x0000000000000000000000000000000000000000",Ove=Ue.from(0),Rve="0x0000000000000000000000000000000000000000000000000000000000000000";var EG={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=bs:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});for(var A=function(M,G,Z){return function(K){return new k(M,G,M).update(K)[Z]()}},E=function(M,G,Z){return function(K,re){return new k(M,G,re).update(K)[Z]()}},O=function(M,G,Z){return function(K,re,le,ne){return _["cshake"+M].update(K,re,le,ne)[Z]()}},N=function(M,G,Z){return function(K,re,le,ne){return _["kmac"+M].update(K,re,le,ne)[Z]()}},R=function(M,G,Z,K){for(var re=0;re<b.length;++re){var le=b[re];M[le]=G(Z,K,le)}return M},T=function(M,G){var Z=A(M,G,"hex");return Z.create=function(){return new k(M,G,M)},Z.update=function(K){return Z.create().update(K)},R(Z,A,M,G)},L=function(M,G){var Z=E(M,G,"hex");return Z.create=function(K){return new k(M,G,K)},Z.update=function(K,re){return Z.create(re).update(K)},R(Z,E,M,G)},B=function(M,G){var Z=v[M],K=O(M,G,"hex");return K.create=function(re,le,ne){return!le&&!ne?_["shake"+M].create(re):new k(M,G,re).bytepad([le,ne],Z)},K.update=function(re,le,ne,ae){return K.create(le,ne,ae).update(re)},R(K,O,M,G)},W=function(M,G){var Z=v[M],K=N(M,G,"hex");return K.create=function(re,le,ne){return new z(M,G,le).bytepad(["KMAC",ne],Z).bytepad([re],Z)},K.update=function(re,le,ne,ae){return K.create(re,ne,ae).update(le)},R(K,N,M,G)},j=[{name:"keccak",padding:f,bits:w,createMethod:T},{name:"sha3",padding:p,bits:w,createMethod:T},{name:"shake",padding:u,bits:y,createMethod:L},{name:"cshake",padding:h,bits:y,createMethod:B},{name:"kmac",padding:h,bits:y,createMethod:W}],_={},C=[],$=0;$<j.length;++$)for(var P=j[$],S=P.bits,I=0;I<S.length;++I){var D=P.name+"_"+S[I];if(C.push(D),_[D]=P.createMethod(S[I],P.padding),P.name!=="sha3"){var F=P.name+S[I];C.push(F),_[F]=_[D]}}function k(M,G,Z){this.blocks=[],this.s=[],this.padding=G,this.outputBits=Z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(M<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Z>>5,this.extraBytes=(Z&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}k.prototype.update=function(M){if(this.finalized)throw new Error(r);var G,Z=typeof M;if(Z!=="string"){if(Z==="object"){if(M===null)throw new Error(e);if(l&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!l||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);G=!0}for(var K=this.blocks,re=this.byteCount,le=M.length,ne=this.blockCount,ae=0,me=this.s,ue,de;ae<le;){if(this.reset)for(this.reset=!1,K[0]=this.block,ue=1;ue<ne+1;++ue)K[ue]=0;if(G)for(ue=this.start;ae<le&&ue<re;++ae)K[ue>>2]|=M[ae]<<g[ue++&3];else for(ue=this.start;ae<le&&ue<re;++ae)de=M.charCodeAt(ae),de<128?K[ue>>2]|=de<<g[ue++&3]:de<2048?(K[ue>>2]|=(192|de>>6)<<g[ue++&3],K[ue>>2]|=(128|de&63)<<g[ue++&3]):de<55296||de>=57344?(K[ue>>2]|=(224|de>>12)<<g[ue++&3],K[ue>>2]|=(128|de>>6&63)<<g[ue++&3],K[ue>>2]|=(128|de&63)<<g[ue++&3]):(de=65536+((de&1023)<<10|M.charCodeAt(++ae)&1023),K[ue>>2]|=(240|de>>18)<<g[ue++&3],K[ue>>2]|=(128|de>>12&63)<<g[ue++&3],K[ue>>2]|=(128|de>>6&63)<<g[ue++&3],K[ue>>2]|=(128|de&63)<<g[ue++&3]);if(this.lastByteIndex=ue,ue>=re){for(this.start=ue-re,this.block=K[ne],ue=0;ue<ne;++ue)me[ue]^=K[ue];V(me),this.reset=!0}else this.start=ue}return this},k.prototype.encode=function(M,G){var Z=M&255,K=1,re=[Z];for(M=M>>8,Z=M&255;Z>0;)re.unshift(Z),M=M>>8,Z=M&255,++K;return G?re.push(K):re.unshift(K),this.update(re),re.length},k.prototype.encodeString=function(M){var G,Z=typeof M;if(Z!=="string"){if(Z==="object"){if(M===null)throw new Error(e);if(l&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!l||!ArrayBuffer.isView(M)))throw new Error(e)}else throw new Error(e);G=!0}var K=0,re=M.length;if(G)K=re;else for(var le=0;le<M.length;++le){var ne=M.charCodeAt(le);ne<128?K+=1:ne<2048?K+=2:ne<55296||ne>=57344?K+=3:(ne=65536+((ne&1023)<<10|M.charCodeAt(++le)&1023),K+=4)}return K+=this.encode(K*8),this.update(M),K},k.prototype.bytepad=function(M,G){for(var Z=this.encode(G),K=0;K<M.length;++K)Z+=this.encodeString(M[K]);var re=G-Z%G,le=[];return le.length=re,this.update(le),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,G=this.lastByteIndex,Z=this.blockCount,K=this.s;if(M[G>>2]|=this.padding[G&3],this.lastByteIndex===this.byteCount)for(M[0]=M[Z],G=1;G<Z+1;++G)M[G]=0;for(M[Z-1]|=2147483648,G=0;G<Z;++G)K[G]^=M[G];V(K)}},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var M=this.blockCount,G=this.s,Z=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne="",ae;le<Z;){for(re=0;re<M&&le<Z;++re,++le)ae=G[re],ne+=c[ae>>4&15]+c[ae&15]+c[ae>>12&15]+c[ae>>8&15]+c[ae>>20&15]+c[ae>>16&15]+c[ae>>28&15]+c[ae>>24&15];le%M===0&&(V(G),re=0)}return K&&(ae=G[re],ne+=c[ae>>4&15]+c[ae&15],K>1&&(ne+=c[ae>>12&15]+c[ae>>8&15]),K>2&&(ne+=c[ae>>20&15]+c[ae>>16&15])),ne},k.prototype.arrayBuffer=function(){this.finalize();var M=this.blockCount,G=this.s,Z=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne=this.outputBits>>3,ae;K?ae=new ArrayBuffer(Z+1<<2):ae=new ArrayBuffer(ne);for(var me=new Uint32Array(ae);le<Z;){for(re=0;re<M&&le<Z;++re,++le)me[le]=G[re];le%M===0&&V(G)}return K&&(me[re]=G[re],ae=ae.slice(0,ne)),ae},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var M=this.blockCount,G=this.s,Z=this.outputBlocks,K=this.extraBytes,re=0,le=0,ne=[],ae,me;le<Z;){for(re=0;re<M&&le<Z;++re,++le)ae=le<<2,me=G[re],ne[ae]=me&255,ne[ae+1]=me>>8&255,ne[ae+2]=me>>16&255,ne[ae+3]=me>>24&255;le%M===0&&V(G)}return K&&(ae=le<<2,me=G[re],ne[ae]=me&255,K>1&&(ne[ae+1]=me>>8&255),K>2&&(ne[ae+2]=me>>16&255)),ne};function z(M,G,Z){k.call(this,M,G,Z)}z.prototype=new k,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),k.prototype.finalize.call(this)};var V=function(M){var G,Z,K,re,le,ne,ae,me,ue,de,Je,ie,be,ve,se,ye,yt,ce,$e,De,Xe,Ke,kt,ht,rt,Ae,Se,he,He,nt,Ve,ot,Ie,dt,bt,wt,Le,Ar,qe,Ft,zi,er,Jt,U,H,Y,J,X,te,ge,fe,Be,vt,Ee,Me,at,Fe,xe,ft,Ct,jt,qt,Qt;for(K=0;K<48;K+=2)re=M[0]^M[10]^M[20]^M[30]^M[40],le=M[1]^M[11]^M[21]^M[31]^M[41],ne=M[2]^M[12]^M[22]^M[32]^M[42],ae=M[3]^M[13]^M[23]^M[33]^M[43],me=M[4]^M[14]^M[24]^M[34]^M[44],ue=M[5]^M[15]^M[25]^M[35]^M[45],de=M[6]^M[16]^M[26]^M[36]^M[46],Je=M[7]^M[17]^M[27]^M[37]^M[47],ie=M[8]^M[18]^M[28]^M[38]^M[48],be=M[9]^M[19]^M[29]^M[39]^M[49],G=ie^(ne<<1|ae>>>31),Z=be^(ae<<1|ne>>>31),M[0]^=G,M[1]^=Z,M[10]^=G,M[11]^=Z,M[20]^=G,M[21]^=Z,M[30]^=G,M[31]^=Z,M[40]^=G,M[41]^=Z,G=re^(me<<1|ue>>>31),Z=le^(ue<<1|me>>>31),M[2]^=G,M[3]^=Z,M[12]^=G,M[13]^=Z,M[22]^=G,M[23]^=Z,M[32]^=G,M[33]^=Z,M[42]^=G,M[43]^=Z,G=ne^(de<<1|Je>>>31),Z=ae^(Je<<1|de>>>31),M[4]^=G,M[5]^=Z,M[14]^=G,M[15]^=Z,M[24]^=G,M[25]^=Z,M[34]^=G,M[35]^=Z,M[44]^=G,M[45]^=Z,G=me^(ie<<1|be>>>31),Z=ue^(be<<1|ie>>>31),M[6]^=G,M[7]^=Z,M[16]^=G,M[17]^=Z,M[26]^=G,M[27]^=Z,M[36]^=G,M[37]^=Z,M[46]^=G,M[47]^=Z,G=de^(re<<1|le>>>31),Z=Je^(le<<1|re>>>31),M[8]^=G,M[9]^=Z,M[18]^=G,M[19]^=Z,M[28]^=G,M[29]^=Z,M[38]^=G,M[39]^=Z,M[48]^=G,M[49]^=Z,ve=M[0],se=M[1],Y=M[11]<<4|M[10]>>>28,J=M[10]<<4|M[11]>>>28,he=M[20]<<3|M[21]>>>29,He=M[21]<<3|M[20]>>>29,Ct=M[31]<<9|M[30]>>>23,jt=M[30]<<9|M[31]>>>23,er=M[40]<<18|M[41]>>>14,Jt=M[41]<<18|M[40]>>>14,dt=M[2]<<1|M[3]>>>31,bt=M[3]<<1|M[2]>>>31,ye=M[13]<<12|M[12]>>>20,yt=M[12]<<12|M[13]>>>20,X=M[22]<<10|M[23]>>>22,te=M[23]<<10|M[22]>>>22,nt=M[33]<<13|M[32]>>>19,Ve=M[32]<<13|M[33]>>>19,qt=M[42]<<2|M[43]>>>30,Qt=M[43]<<2|M[42]>>>30,Ee=M[5]<<30|M[4]>>>2,Me=M[4]<<30|M[5]>>>2,wt=M[14]<<6|M[15]>>>26,Le=M[15]<<6|M[14]>>>26,ce=M[25]<<11|M[24]>>>21,$e=M[24]<<11|M[25]>>>21,ge=M[34]<<15|M[35]>>>17,fe=M[35]<<15|M[34]>>>17,ot=M[45]<<29|M[44]>>>3,Ie=M[44]<<29|M[45]>>>3,ht=M[6]<<28|M[7]>>>4,rt=M[7]<<28|M[6]>>>4,at=M[17]<<23|M[16]>>>9,Fe=M[16]<<23|M[17]>>>9,Ar=M[26]<<25|M[27]>>>7,qe=M[27]<<25|M[26]>>>7,De=M[36]<<21|M[37]>>>11,Xe=M[37]<<21|M[36]>>>11,Be=M[47]<<24|M[46]>>>8,vt=M[46]<<24|M[47]>>>8,U=M[8]<<27|M[9]>>>5,H=M[9]<<27|M[8]>>>5,Ae=M[18]<<20|M[19]>>>12,Se=M[19]<<20|M[18]>>>12,xe=M[29]<<7|M[28]>>>25,ft=M[28]<<7|M[29]>>>25,Ft=M[38]<<8|M[39]>>>24,zi=M[39]<<8|M[38]>>>24,Ke=M[48]<<14|M[49]>>>18,kt=M[49]<<14|M[48]>>>18,M[0]=ve^~ye&ce,M[1]=se^~yt&$e,M[10]=ht^~Ae&he,M[11]=rt^~Se&He,M[20]=dt^~wt&Ar,M[21]=bt^~Le&qe,M[30]=U^~Y&X,M[31]=H^~J&te,M[40]=Ee^~at&xe,M[41]=Me^~Fe&ft,M[2]=ye^~ce&De,M[3]=yt^~$e&Xe,M[12]=Ae^~he&nt,M[13]=Se^~He&Ve,M[22]=wt^~Ar&Ft,M[23]=Le^~qe&zi,M[32]=Y^~X&ge,M[33]=J^~te&fe,M[42]=at^~xe&Ct,M[43]=Fe^~ft&jt,M[4]=ce^~De&Ke,M[5]=$e^~Xe&kt,M[14]=he^~nt&ot,M[15]=He^~Ve&Ie,M[24]=Ar^~Ft&er,M[25]=qe^~zi&Jt,M[34]=X^~ge&Be,M[35]=te^~fe&vt,M[44]=xe^~Ct&qt,M[45]=ft^~jt&Qt,M[6]=De^~Ke&ve,M[7]=Xe^~kt&se,M[16]=nt^~ot&ht,M[17]=Ve^~Ie&rt,M[26]=Ft^~er&dt,M[27]=zi^~Jt&bt,M[36]=ge^~Be&U,M[37]=fe^~vt&H,M[46]=Ct^~qt&Ee,M[47]=jt^~Qt&Me,M[8]=Ke^~ve&ye,M[9]=kt^~se&yt,M[18]=ot^~ht&Ae,M[19]=Ie^~rt&Se,M[28]=er^~dt&wt,M[29]=Jt^~bt&Le,M[38]=Be^~U&Y,M[39]=vt^~H&J,M[48]=qt^~Ee&at,M[49]=Qt^~Me&Fe,M[0]^=m[K],M[1]^=m[K+1]};if(a)t.exports=_;else for($=0;$<C.length;++$)i[C[$]]=_[C[$]]})()})(EG);var jve=EG.exports;const Mve=mo(jve);function ii(t){return"0x"+Mve.keccak_256(Tt(t))}const Dve="strings/5.8.0",CG=new pe(Dve);var Qy;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Qy||(Qy={}));var Xs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Xs||(Xs={}));function Fve(t,e,r,n,i){return CG.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function _G(t,e,r,n,i){if(t===Xs.BAD_PREFIX||t===Xs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Xs.OVERRUN?r.length-e-1:0}function Lve(t,e,r,n,i){return t===Xs.OVERLONG?(n.push(i),0):(n.push(65533),_G(t,e,r))}const Bve=Object.freeze({error:Fve,ignore:_G,replace:Lve});function AG(t,e){e==null&&(e=Bve.error),t=Tt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Xs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Xs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Xs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[n];if((c&192)!=128){n+=e(Xs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(Xs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Xs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Xs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function iu(t,e=Qy.current){e!=Qy.current&&(CG.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Tt(r)}function Uve(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function I6(t,e){return Uve(AG(t,e))}function zve(t,e=Qy.current){return AG(iu(t,e))}function kG(t){return ii(iu(t))}const $G="hash/5.8.0";function SG(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function Wve(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Hve(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let E=1;E<n;E++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,g=p>>1,m=f-1;let w=0;for(let E=0;E<h;E++)w=w<<1|u();let y=[],b=0,v=f;for(;;){let E=Math.floor(((w-b+1)*i-1)/v),O=0,N=n;for(;N-O>1;){let L=O+N>>>1;E<s[L]?N=L:O=L}if(O==0)break;y.push(O);let R=b+Math.floor(v*s[O]/i),T=b+Math.floor(v*s[O+1]/i)-1;for(;!((R^T)&p);)w=w<<1&m|u(),R=R<<1&m,T=T<<1&m|1;for(;R&~T&g;)w=w&p|w<<1&m>>>1|u(),R=R<<1^p,T=(T^p)<<1|p|1;b=R,v=1+T-R}let A=n-4;return y.map(E=>{switch(E-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return E-1}})}function qve(t){let e=0;return()=>t[e++]}function Vve(t){return qve(Hve(t))}function Gve(t){return t&1?~t>>1:t>>1}function Kve(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function PO(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Yve(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Gve(e());return r}function $3(t,e){let r=PO(t(),t),n=t(),i=PO(n,t),s=Kve(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function Zve(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Qve(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Xve(r,t))}return Wve(SG(e))}function Jve(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function IG(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Yve(t,r).forEach((s,o)=>n[o].push(s));return n}function Qve(t,e){let r=1+e(),n=e(),i=Jve(e),s=IG(i.length,1+t,e);return SG(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*n;return[l+h*r,c.map(p=>p+f)]})}))}function Xve(t,e){let r=1+e();return IG(r,1+t,e).map(i=>[i[0],i.slice(1)])}function ebe(t){let e=$3(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=$3(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function tbe(){return Vve(vG("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const T6=tbe(),rbe=new Set($3(T6)),nbe=new Set($3(T6)),ibe=Zve(T6),sbe=ebe(T6),NO=45,OO=95;function TG(t){return zve(t)}function obe(t){return t.filter(e=>e!=65039)}function PG(t){for(let e of t.split(".")){let r=TG(e);try{for(let n=r.lastIndexOf(OO)-1;n>=0;n--)if(r[n]!==OO)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===NO&&r[3]===NO)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function abe(t){return PG(lbe(t,obe))}function lbe(t,e){let r=TG(t).reverse(),n=[];for(;r.length;){let i=ube(r);if(i){n.push(...e(i));continue}let s=r.pop();if(rbe.has(s)){n.push(s);continue}if(nbe.has(s))continue;let o=ibe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return PG(cbe(String.fromCodePoint(...n)))}function cbe(t){return t.normalize("NFC")}function ube(t,e){var r;let n=sbe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(n=(r=n.branches.find(c=>c.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const dbe=new pe($G),NG=new Uint8Array(32);NG.fill(0);function RO(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function OG(t){const e=iu(abe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(RO(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(RO(e.slice(n))),r}function db(t){typeof t!="string"&&dbe.throwArgumentError("invalid ENS name; not a string","name",t);let e=NG;const r=OG(t);for(;r.length;)e=ii(Sh([e,ii(r.pop())]));return It(e)}function hbe(t){return It(Sh(OG(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const fbe="rlp/5.8.0",$l=new pe(fbe);function jO(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function MO(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function RG(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(RG(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=jO(n.length);return i.unshift(247+i.length),i.concat(n)}Z$(t)||$l.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Tt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=jO(e.length);return r.unshift(183+r.length),r.concat(e)}function P6(t){return It(RG(t))}function DO(t,e,r,n){const i=[];for(;r<e+1+n;){const s=jG(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&$l.throwError("child data too short",pe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function jG(t,e){if(t.length===0&&$l.throwError("data too short",pe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&$l.throwError("data short segment too short",pe.errors.BUFFER_OVERRUN,{});const n=MO(t,e+1,r);return e+1+r+n>t.length&&$l.throwError("data long segment too short",pe.errors.BUFFER_OVERRUN,{}),DO(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&$l.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{}),DO(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&$l.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{});const n=MO(t,e+1,r);e+1+r+n>t.length&&$l.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{});const i=It(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&$l.throwError("data too short",pe.errors.BUFFER_OVERRUN,{});const n=It(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:It(t[e])}}function eS(t){const e=Tt(t),r=jG(e,0);return r.consumed!==e.length&&$l.throwArgumentError("invalid rlp data","data",t),r.result}const pbe="address/5.8.0",Kp=new pe(pbe);function FO(t){Cr(t,20)||Kp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Tt(ii(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const gbe=9007199254740991;function mbe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const tS={};for(let t=0;t<10;t++)tS[String(t)]=String(t);for(let t=0;t<26;t++)tS[String.fromCharCode(65+t)]=String(10+t);const LO=Math.floor(mbe(gbe));function ybe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>tS[n]).join("");for(;e.length>=LO;){let n=e.substring(0,LO);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Ja(t){let e=null;if(typeof t!="string"&&Kp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=FO(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Kp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ybe(t)&&Kp.throwArgumentError("bad icap checksum","address",t),e=Cve(t.substring(4));e.length<40;)e="0"+e;e=FO("0x"+e)}else Kp.throwArgumentError("invalid address","address",t);return e}function wbe(t){let e=null;try{e=Ja(t.from)}catch{Kp.throwArgumentError("missing from address","transaction",t)}const r=V0(Tt(Ue.from(t.nonce).toHexString()));return Ja(qi(ii(P6([e,r])),12))}var vbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Vr=new pe($G),MG=new Uint8Array(32);MG.fill(0);const bbe=Ue.from(-1),DG=Ue.from(0),FG=Ue.from(1),xbe=Ue.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ebe(t){const e=Tt(t),r=e.length%32;return r?io([e,MG.slice(r)]):It(e)}const Cbe=en(FG.toHexString(),32),_be=en(DG.toHexString(),32),BO={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},y8=["name","version","chainId","verifyingContract","salt"];function UO(t){return function(e){return typeof e!="string"&&Vr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Abe={name:UO("name"),version:UO("version"),chainId:function(t){try{return Ue.from(t).toString()}catch{}return Vr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ja(t).toLowerCase()}catch{}return Vr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Tt(t);if(e.length!==32)throw new Error("bad length");return It(e)}catch{}return Vr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function w8(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Vr.throwArgumentError("invalid numeric width","type",t);const i=xbe.mask(r?n-1:n),s=r?i.add(FG).mul(bbe):DG;return function(o){const a=Ue.from(o);return(a.lt(s)||a.gt(i))&&Vr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),en(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Vr.throwArgumentError("invalid bytes width","type",t),function(n){return Tt(n).length!==r&&Vr.throwArgumentError(`invalid length for ${t}`,"value",n),Ebe(n)}}}switch(t){case"address":return function(e){return en(Ja(e),32)};case"bool":return function(e){return e?Cbe:_be};case"bytes":return function(e){return ii(e)};case"string":return function(e){return kG(e)}}return null}function zO(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Ys{constructor(e){Ut(this,"types",Object.freeze(Zy(e))),Ut(this,"_encoderCache",{}),Ut(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Vr.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Vr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!w8(u)&&(n[u]||Vr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Vr.throwArgumentError("missing primary type","types",e):s.length>1&&Vr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ut(this,"primaryType",s[0]);function o(a,l){l[a]&&Vr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(c=>{n[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=zO(a,e[a])+l.map(c=>zO(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=w8(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Vr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(ii)),ii(io(l))}}const n=this.types[e];if(n){const i=kG(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?ii(c):c});return o.unshift(i),io(o)}}return Vr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Vr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return ii(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(w8(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Vr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):Vr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Ys(e)}static getPrimaryType(e){return Ys.from(e).primaryType}static hashStruct(e,r,n){return Ys.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=BO[n];i||Vr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>y8.indexOf(n.name)-y8.indexOf(i.name)),Ys.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return io(["0x1901",Ys.hashDomain(e),Ys.from(r).hash(n)])}static hash(e,r,n){return ii(Ys.encode(e,r,n))}static resolveNames(e,r,n,i){return vbe(this,void 0,void 0,function*(){e=As(e);const s={};e.verifyingContract&&!Cr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ys.from(r);o.visit(n,(a,l)=>(a==="address"&&!Cr(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){Ys.hashDomain(e);const i={},s=[];y8.forEach(l=>{const c=e[l];c!=null&&(i[l]=Abe[l](c),s.push({name:l,type:BO[l]}))});const o=Ys.from(r),a=As(r);return a.EIP712Domain?Vr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return It(Tt(c));if(l.match(/^u?int/))return Ue.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Vr.throwArgumentError("invalid string","value",c),c}return Vr.throwArgumentError("unsupported type","type",l)})}}}var LG={},Wt={},Yw=BG;function BG(t,e){if(!t)throw new Error(e||"Assertion failed")}BG.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var xC={exports:{}};typeof Object.create=="function"?xC.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xC.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var kbe=xC.exports,$be=Yw,Sbe=kbe;Wt.inherits=Sbe;function Ibe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Tbe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Ibe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Wt.toArray=Tbe;function Pbe(t){for(var e="",r=0;r<t.length;r++)e+=zG(t[r].toString(16));return e}Wt.toHex=Pbe;function UG(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Wt.htonl=UG;function Nbe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=UG(i)),r+=WG(i.toString(16))}return r}Wt.toHex32=Nbe;function zG(t){return t.length===1?"0"+t:t}Wt.zero2=zG;function WG(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Wt.zero8=WG;function Obe(t,e,r,n){var i=r-e;$be(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}Wt.join32=Obe;function Rbe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Wt.split32=Rbe;function jbe(t,e){return t>>>e|t<<32-e}Wt.rotr32=jbe;function Mbe(t,e){return t<<e|t>>>32-e}Wt.rotl32=Mbe;function Dbe(t,e){return t+e>>>0}Wt.sum32=Dbe;function Fbe(t,e,r){return t+e+r>>>0}Wt.sum32_3=Fbe;function Lbe(t,e,r,n){return t+e+r+n>>>0}Wt.sum32_4=Lbe;function Bbe(t,e,r,n,i){return t+e+r+n+i>>>0}Wt.sum32_5=Bbe;function Ube(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Wt.sum64=Ube;function zbe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Wt.sum64_hi=zbe;function Wbe(t,e,r,n){var i=e+n;return i>>>0}Wt.sum64_lo=Wbe;function Hbe(t,e,r,n,i,s,o,a){var l=0,c=e;c=c+n>>>0,l+=c<e?1:0,c=c+s>>>0,l+=c<s?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+r+i+o+l;return u>>>0}Wt.sum64_4_hi=Hbe;function qbe(t,e,r,n,i,s,o,a){var l=e+n+s+a;return l>>>0}Wt.sum64_4_lo=qbe;function Vbe(t,e,r,n,i,s,o,a,l,c){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var f=t+r+i+o+l+u;return f>>>0}Wt.sum64_5_hi=Vbe;function Gbe(t,e,r,n,i,s,o,a,l,c){var u=e+n+s+a+c;return u>>>0}Wt.sum64_5_lo=Gbe;function Kbe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Wt.rotr64_hi=Kbe;function Ybe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wt.rotr64_lo=Ybe;function Zbe(t,e,r){return t>>>r}Wt.shr64_hi=Zbe;function Jbe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wt.shr64_lo=Jbe;var Ig={},WO=Wt,Qbe=Yw;function N6(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ig.BlockHash=N6;N6.prototype.update=function(e,r){if(e=WO.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=WO.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};N6.prototype.digest=function(e){return this.update(this._pad()),Qbe(this.pending===null),this._digest(e)};N6.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Tg={},sc={},Xbe=Wt,Bl=Xbe.rotr32;function e3e(t,e,r,n){if(t===0)return HG(e,r,n);if(t===1||t===3)return VG(e,r,n);if(t===2)return qG(e,r,n)}sc.ft_1=e3e;function HG(t,e,r){return t&e^~t&r}sc.ch32=HG;function qG(t,e,r){return t&e^t&r^e&r}sc.maj32=qG;function VG(t,e,r){return t^e^r}sc.p32=VG;function t3e(t){return Bl(t,2)^Bl(t,13)^Bl(t,22)}sc.s0_256=t3e;function r3e(t){return Bl(t,6)^Bl(t,11)^Bl(t,25)}sc.s1_256=r3e;function n3e(t){return Bl(t,7)^Bl(t,18)^t>>>3}sc.g0_256=n3e;function i3e(t){return Bl(t,17)^Bl(t,19)^t>>>10}sc.g1_256=i3e;var G0=Wt,s3e=Ig,o3e=sc,v8=G0.rotl32,pm=G0.sum32,a3e=G0.sum32_5,l3e=o3e.ft_1,GG=s3e.BlockHash,c3e=[1518500249,1859775393,2400959708,3395469782];function Jl(){if(!(this instanceof Jl))return new Jl;GG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}G0.inherits(Jl,GG);var u3e=Jl;Jl.blockSize=512;Jl.outSize=160;Jl.hmacStrength=80;Jl.padLength=64;Jl.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=v8(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),h=a3e(v8(s,5),l3e(u,o,a,l),c,n[i],c3e[u]);c=l,l=a,a=v8(o,30),o=s,s=h}this.h[0]=pm(this.h[0],s),this.h[1]=pm(this.h[1],o),this.h[2]=pm(this.h[2],a),this.h[3]=pm(this.h[3],l),this.h[4]=pm(this.h[4],c)};Jl.prototype._digest=function(e){return e==="hex"?G0.toHex32(this.h,"big"):G0.split32(this.h,"big")};var K0=Wt,d3e=Ig,Pg=sc,h3e=Yw,ya=K0.sum32,f3e=K0.sum32_4,p3e=K0.sum32_5,g3e=Pg.ch32,m3e=Pg.maj32,y3e=Pg.s0_256,w3e=Pg.s1_256,v3e=Pg.g0_256,b3e=Pg.g1_256,KG=d3e.BlockHash,x3e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ql(){if(!(this instanceof Ql))return new Ql;KG.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x3e,this.W=new Array(64)}K0.inherits(Ql,KG);var YG=Ql;Ql.blockSize=512;Ql.outSize=256;Ql.hmacStrength=192;Ql.padLength=64;Ql.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=f3e(b3e(n[i-2]),n[i-7],v3e(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(h3e(this.k.length===n.length),i=0;i<n.length;i++){var p=p3e(f,w3e(c),g3e(c,u,h),this.k[i],n[i]),g=ya(y3e(s),m3e(s,o,a));f=h,h=u,u=c,c=ya(l,p),l=a,a=o,o=s,s=ya(p,g)}this.h[0]=ya(this.h[0],s),this.h[1]=ya(this.h[1],o),this.h[2]=ya(this.h[2],a),this.h[3]=ya(this.h[3],l),this.h[4]=ya(this.h[4],c),this.h[5]=ya(this.h[5],u),this.h[6]=ya(this.h[6],h),this.h[7]=ya(this.h[7],f)};Ql.prototype._digest=function(e){return e==="hex"?K0.toHex32(this.h,"big"):K0.split32(this.h,"big")};var EC=Wt,ZG=YG;function su(){if(!(this instanceof su))return new su;ZG.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}EC.inherits(su,ZG);var E3e=su;su.blockSize=512;su.outSize=224;su.hmacStrength=192;su.padLength=64;su.prototype._digest=function(e){return e==="hex"?EC.toHex32(this.h.slice(0,7),"big"):EC.split32(this.h.slice(0,7),"big")};var js=Wt,C3e=Ig,_3e=Yw,Ul=js.rotr64_hi,zl=js.rotr64_lo,JG=js.shr64_hi,QG=js.shr64_lo,Au=js.sum64,b8=js.sum64_hi,x8=js.sum64_lo,A3e=js.sum64_4_hi,k3e=js.sum64_4_lo,$3e=js.sum64_5_hi,S3e=js.sum64_5_lo,XG=C3e.BlockHash,I3e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qa(){if(!(this instanceof Qa))return new Qa;XG.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I3e,this.W=new Array(160)}js.inherits(Qa,XG);var eK=Qa;Qa.blockSize=1024;Qa.outSize=512;Qa.hmacStrength=192;Qa.padLength=128;Qa.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=B3e(n[i-4],n[i-3]),o=U3e(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],c=F3e(n[i-30],n[i-29]),u=L3e(n[i-30],n[i-29]),h=n[i-32],f=n[i-31];n[i]=A3e(s,o,a,l,c,u,h,f),n[i+1]=k3e(s,o,a,l,c,u,h,f)}};Qa.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],g=this.h[10],m=this.h[11],w=this.h[12],y=this.h[13],b=this.h[14],v=this.h[15];_3e(this.k.length===n.length);for(var A=0;A<n.length;A+=2){var E=b,O=v,N=M3e(f,p),R=D3e(f,p),T=T3e(f,p,g,m,w),L=P3e(f,p,g,m,w,y),B=this.k[A],W=this.k[A+1],j=n[A],_=n[A+1],C=$3e(E,O,N,R,T,L,B,W,j,_),$=S3e(E,O,N,R,T,L,B,W,j,_);E=R3e(i,s),O=j3e(i,s),N=N3e(i,s,o,a,l),R=O3e(i,s,o,a,l,c);var P=b8(E,O,N,R),S=x8(E,O,N,R);b=w,v=y,w=g,y=m,g=f,m=p,f=b8(u,h,C,$),p=x8(h,h,C,$),u=l,h=c,l=o,c=a,o=i,a=s,i=b8(C,$,P,S),s=x8(C,$,P,S)}Au(this.h,0,i,s),Au(this.h,2,o,a),Au(this.h,4,l,c),Au(this.h,6,u,h),Au(this.h,8,f,p),Au(this.h,10,g,m),Au(this.h,12,w,y),Au(this.h,14,b,v)};Qa.prototype._digest=function(e){return e==="hex"?js.toHex32(this.h,"big"):js.split32(this.h,"big")};function T3e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function P3e(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function N3e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function O3e(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function R3e(t,e){var r=Ul(t,e,28),n=Ul(e,t,2),i=Ul(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function j3e(t,e){var r=zl(t,e,28),n=zl(e,t,2),i=zl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function M3e(t,e){var r=Ul(t,e,14),n=Ul(t,e,18),i=Ul(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function D3e(t,e){var r=zl(t,e,14),n=zl(t,e,18),i=zl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function F3e(t,e){var r=Ul(t,e,1),n=Ul(t,e,8),i=JG(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function L3e(t,e){var r=zl(t,e,1),n=zl(t,e,8),i=QG(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function B3e(t,e){var r=Ul(t,e,19),n=Ul(e,t,29),i=JG(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function U3e(t,e){var r=zl(t,e,19),n=zl(e,t,29),i=QG(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var CC=Wt,tK=eK;function ou(){if(!(this instanceof ou))return new ou;tK.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}CC.inherits(ou,tK);var z3e=ou;ou.blockSize=1024;ou.outSize=384;ou.hmacStrength=192;ou.padLength=128;ou.prototype._digest=function(e){return e==="hex"?CC.toHex32(this.h.slice(0,12),"big"):CC.split32(this.h.slice(0,12),"big")};Tg.sha1=u3e;Tg.sha224=E3e;Tg.sha256=YG;Tg.sha384=z3e;Tg.sha512=eK;var rK={},cf=Wt,W3e=Ig,rv=cf.rotl32,HO=cf.sum32,gm=cf.sum32_3,qO=cf.sum32_4,nK=W3e.BlockHash;function Xl(){if(!(this instanceof Xl))return new Xl;nK.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}cf.inherits(Xl,nK);rK.ripemd160=Xl;Xl.blockSize=512;Xl.outSize=160;Xl.hmacStrength=192;Xl.padLength=64;Xl.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=n,c=i,u=s,h=o,f=a,p=0;p<80;p++){var g=HO(rv(qO(n,VO(p,i,s,o),e[V3e[p]+r],H3e(p)),K3e[p]),a);n=a,a=o,o=rv(s,10),s=i,i=g,g=HO(rv(qO(l,VO(79-p,c,u,h),e[G3e[p]+r],q3e(p)),Y3e[p]),f),l=f,f=h,h=rv(u,10),u=c,c=g}g=gm(this.h[1],s,h),this.h[1]=gm(this.h[2],o,f),this.h[2]=gm(this.h[3],a,l),this.h[3]=gm(this.h[4],n,c),this.h[4]=gm(this.h[0],i,u),this.h[0]=g};Xl.prototype._digest=function(e){return e==="hex"?cf.toHex32(this.h,"little"):cf.split32(this.h,"little")};function VO(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function H3e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function q3e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var V3e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],G3e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],K3e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Y3e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Z3e=Wt,J3e=Yw;function Y0(t,e,r){if(!(this instanceof Y0))return new Y0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Z3e.toArray(e,r))}var Q3e=Y0;Y0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),J3e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Y0.prototype.update=function(e,r){return this.inner.update(e,r),this};Y0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Wt,e.common=Ig,e.sha=Tg,e.ripemd=rK,e.hmac=Q3e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(LG);const Cl=mo(LG);function GO(t){return"0x"+Cl.sha256().update(Tt(t)).digest("hex")}const X3e="web/5.8.0";var e5e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function t5e(t,e){return e5e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Tt(new Uint8Array(i))}})}var r5e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const xa=new pe(X3e);function KO(t){return new Promise(e=>{setTimeout(e,t)})}function ku(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Z$(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return I6(t)}catch{}return It(t)}return t}function n5e(t){return iu(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function i5e(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;xa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;xa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&xa.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const y in t.headers)a[y.toLowerCase()]={key:y,value:String(t.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&xa.throwError("basic authentication requires a secure https url",pe.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const y=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+bG(iu(y))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=As(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?vG(p[3]):n5e(p[3])};let b=y.body;return r&&(b=r(y.body,y)),Promise.resolve(b)}catch(y){xa.throwError("processing response error",pe.errors.SERVER_ERROR,{body:ku(p[1],p[2]),error:y,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const g={};Object.keys(a).forEach(y=>{const b=a[y];g[b.key]=b.value}),c.headers=g;const m=function(){let y=null;return{promise:new Promise(function(A,E){h&&(y=setTimeout(()=>{y!=null&&(y=null,E(xa.makeError("timeout",pe.errors.TIMEOUT,{requestBody:ku(c.body,g["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),w=function(){return r5e(this,void 0,void 0,function*(){for(let y=0;y<n;y++){let b=null;try{if(b=yield t5e(l,c),y<n){if(b.statusCode===301||b.statusCode===302){const A=b.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let A=!0;if(i&&(A=yield i(y,l)),A){let E=0;const O=b.headers["retry-after"];typeof O=="string"&&O.match(/^[1-9][0-9]*$/)?E=parseInt(O)*1e3:E=s*parseInt(String(Math.random()*Math.pow(2,y))),yield KO(E);continue}}}}catch(A){b=A.response,b==null&&(m.cancel(),xa.throwError("missing response",pe.errors.SERVER_ERROR,{requestBody:ku(c.body,g["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let v=b.body;if(u&&b.statusCode===304?v=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),xa.throwError("bad response",pe.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:ku(v,b.headers?b.headers["content-type"]:null),requestBody:ku(c.body,g["content-type"]),requestMethod:c.method,url:l})),r)try{const A=yield r(v,b);return m.cancel(),A}catch(A){if(A.throttleRetry&&y<n){let E=!0;if(i&&(E=yield i(y,l)),E){const O=s*parseInt(String(Math.random()*Math.pow(2,y)));yield KO(O);continue}}m.cancel(),xa.throwError("processing response error",pe.errors.SERVER_ERROR,{body:ku(v,b.headers?b.headers["content-type"]:null),error:A,requestBody:ku(c.body,g["content-type"]),requestMethod:c.method,url:l})}return m.cancel(),v}return xa.throwError("failed response",pe.errors.SERVER_ERROR,{requestBody:ku(c.body,g["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([m.promise,w])}function rS(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(I6(s))}catch(l){xa.throwError("invalid JSON",pe.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=iu(e);const s=typeof t=="string"?{url:t}:As(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=As(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return i5e(t,i,n)}function Qm(t,e){return e||(e={}),e=As(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&n(u)})}c()})}var S3="qpzry9x8gf2tvdw0s3jn54khce6mua7l",_C={};for(var nv=0;nv<S3.length;nv++){var E8=S3.charAt(nv);if(_C[E8]!==void 0)throw new TypeError(E8+" is ambiguous");_C[E8]=nv}function w0(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function iK(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=w0(e)^n>>5}for(e=w0(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=w0(e)^i&31}return e}function s5e(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=iK(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=w0(n)^o,i+=S3.charAt(o)}for(s=0;s<6;++s)n=w0(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=S3.charAt(a)}return i}function sK(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=iK(s);if(typeof a=="string")return a;for(var l=[],c=0;c<o.length;++c){var u=o.charAt(c),h=_C[u];if(h===void 0)return"Unknown character "+u;a=w0(a)^h,!(c+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function o5e(){var t=sK.apply(null,arguments);if(typeof t=="object")return t}function a5e(t){var e=sK.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function O6(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function l5e(t){var e=O6(t,8,5,!0);if(Array.isArray(e))return e}function c5e(t){var e=O6(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function u5e(t){var e=O6(t,5,8,!1);if(Array.isArray(e))return e}function d5e(t){var e=O6(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var h5e={decodeUnsafe:o5e,decode:a5e,encode:s5e,toWordsUnsafe:l5e,toWords:c5e,fromWordsUnsafe:u5e,fromWords:d5e};const YO=mo(h5e),R6="providers/5.8.0";function Ng(t,e,r){return r={path:e,exports:{},require:function(n,i){return f5e(n,i??r.path)}},t(r,r.exports),r.exports}function f5e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var nS=oK;function oK(t,e){if(!t)throw new Error(e||"Assertion failed")}oK.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ma=Ng(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),xo=Ng(function(t,e){var r=e;r.assert=nS,r.toArray=Ma.toArray,r.zero2=Ma.zero2,r.toHex=Ma.toHex,r.encode=Ma.encode;function n(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,g=l.clone();for(f=0;f<h.length;f++){var m,w=g.andln(p-1);g.isOdd()?(w>(p>>1)-1?m=(p>>1)-w:m=w,g.isubn(m)):m=0,h[f]=m,g.iushrn(1)}return h}r.getNAF=n;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var g=l.andln(3)+h&3,m=c.andln(3)+f&3;g===3&&(g=-1),m===3&&(m=-1);var w;g&1?(p=l.andln(7)+h&7,(p===3||p===5)&&m===2?w=-g:w=g):w=0,u[0].push(w);var y;m&1?(p=c.andln(7)+f&7,(p===3||p===5)&&g===2?y=-m:y=m):y=0,u[1].push(y),2*h===w+1&&(h=1-h),2*f===y+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}r.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new xt(l,"hex","le")}r.intFromLE=a}),I3=xo.getNAF,p5e=xo.getJSF,T3=xo.assert;function Vd(t,e){this.type=t,this.p=new xt(e.p,16),this.red=e.prime?xt.red(e.prime):xt.mont(this.p),this.zero=new xt(0).toRed(this.red),this.one=new xt(1).toRed(this.red),this.two=new xt(2).toRed(this.red),this.n=e.n&&new xt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var If=Vd;Vd.prototype.point=function(){throw new Error("Not implemented")};Vd.prototype.validate=function(){throw new Error("Not implemented")};Vd.prototype._fixedNafMul=function(e,r){T3(e.precomputed);var n=e._getDoubles(),i=I3(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var c=a+n.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(n.points[a]):l===-f&&(h=h.mixedAdd(n.points[a].neg()));u=u.add(h)}return u.toP()};Vd.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=I3(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];T3(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Vd.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=r[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var g=u-1,m=u;if(o[g]!==1||o[m]!==1){l[g]=I3(n[g],o[g],this._bitLength),l[m]=I3(n[m],o[m],this._bitLength),c=Math.max(l[g].length,c),c=Math.max(l[m].length,c);continue}var w=[r[g],null,null,r[m]];r[g].y.cmp(r[m].y)===0?(w[1]=r[g].add(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg())):r[g].y.cmp(r[m].y.redNeg())===0?(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].add(r[m].neg())):(w[1]=r[g].toJ().mixedAdd(r[m]),w[2]=r[g].toJ().mixedAdd(r[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=p5e(n[g],n[m]);for(c=Math.max(b[0].length,c),l[g]=new Array(c),l[m]=new Array(c),h=0;h<c;h++){var v=b[0][h]|0,A=b[1][h]|0;l[g][h]=y[(v+1)*3+(A+1)],l[m][h]=0,a[g]=w}}var E=this.jpoint(null,null,null),O=this._wnafT4;for(u=c;u>=0;u--){for(var N=0;u>=0;){var R=!0;for(h=0;h<i;h++)O[h]=l[h][u]|0,O[h]!==0&&(R=!1);if(!R)break;N++,u--}if(u>=0&&N++,E=E.dblp(N),u<0)break;for(h=0;h<i;h++){var T=O[h];T!==0&&(T>0?f=a[h][T-1>>1]:T<0&&(f=a[h][-T-1>>1].neg()),f.type==="affine"?E=E.mixedAdd(f):E=E.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?E:E.toP()};function da(t,e){this.curve=t,this.type=e,this.precomputed=null}Vd.BasePoint=da;da.prototype.eq=function(){throw new Error("Not implemented")};da.prototype.validate=function(){return this.curve.validate(this)};Vd.prototype.decodePoint=function(e,r){e=xo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?T3(e[e.length-1]%2===0):e[0]===7&&T3(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};da.prototype.encodeCompressed=function(e){return this.encode(e,!0)};da.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};da.prototype.encode=function(e,r){return xo.encode(this._encode(r),e)};da.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};da.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};da.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};da.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};da.prototype._getBeta=function(){return null};da.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var iS=Ng(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),g5e=xo.assert;function ha(t){If.call(this,"short",t),this.a=new xt(t.a,16).toRed(this.red),this.b=new xt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}iS(ha,If);var m5e=ha;ha.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new xt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new xt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],g5e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new xt(a.a,16),b:new xt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ha.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:xt.mont(e),n=new xt(2).toRed(r).redInvm(),i=n.redNeg(),s=new xt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ha.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new xt(1),o=new xt(0),a=new xt(0),l=new xt(1),c,u,h,f,p,g,m,w=0,y,b;n.cmpn(0)!==0;){var v=i.div(n);y=i.sub(v.mul(n)),b=a.sub(v.mul(s));var A=l.sub(v.mul(o));if(!h&&y.cmp(r)<0)c=m.neg(),u=s,h=y.neg(),f=b;else if(h&&++w===2)break;m=y,i=n,n=y,a=s,s=b,l=o,o=A}p=y.neg(),g=b;var E=h.sqr().add(f.sqr()),O=p.sqr().add(g.sqr());return O.cmp(E)>=0&&(p=c,g=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),g=g.neg()),[{a:h,b:f},{a:p,b:g}]};ha.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),c=s.mul(n.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};ha.prototype.pointFromX=function(e,r){e=new xt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ha.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ha.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function qn(t,e,r,n){If.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new xt(e,16),this.y=new xt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}iS(qn,If.BasePoint);ha.prototype.point=function(e,r,n){return new qn(this,e,r,n)};ha.prototype.pointFromJSON=function(e,r){return qn.fromJSON(this,e,r)};qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qn.prototype.isInfinity=function(){return this.inf};qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};qn.prototype.getX=function(){return this.x.fromRed()};qn.prototype.getY=function(){return this.y.fromRed()};qn.prototype.mul=function(e){return e=new xt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ui(t,e,r,n){If.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new xt(0)):(this.x=new xt(e,16),this.y=new xt(r,16),this.z=new xt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}iS(ui,If.BasePoint);ha.prototype.jpoint=function(e,r,n){return new ui(this,e,r,n)};ui.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ui.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ui.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),g=c.redMul(f.redISub(p)).redISub(o.redMul(h)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,g,m)};ui.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=n.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),g=this.z.redMul(a);return this.curve.jpoint(f,p,g)};ui.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),g=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),m=o.redMul(f),w=g.redSqr().redISub(m.redAdd(m)),y=m.redISub(w),b=g.redMul(y);b=b.redIAdd(b).redISub(p);var v=u.redMul(l);r+1<e&&(c=c.redMul(p)),o=w,l=v,u=b}return this.curve.jpoint(o,u.redMul(s),l)};ui.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ui.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(h).redISub(p);g=g.redIAdd(g);var m=h.redAdd(h).redIAdd(h),w=m.redSqr(),y=p.redIAdd(p);y=y.redIAdd(y),y=y.redIAdd(y),e=w.redISub(g).redISub(g),r=m.redMul(g.redISub(e)).redISub(y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ui.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),g=this.x.redSub(h).redMul(this.x.redAdd(h));g=g.redAdd(g).redIAdd(g);var m=p.redIAdd(p);m=m.redIAdd(m);var w=m.redAdd(m);e=g.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var y=f.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),r=g.redMul(m.redISub(e)).redISub(y)}return this.curve.jpoint(e,r,n)};ui.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=l.redMul(f).redISub(p),m=n.redAdd(n).redMul(i);return this.curve.jpoint(h,g,m)};ui.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(f,p,g)};ui.prototype.mul=function(e,r){return e=new xt(e,r),this.curve._wnafMul(this,e)};ui.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ui.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ui.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var hb=Ng(function(t,e){var r=e;r.base=If,r.short=m5e,r.mont=null,r.edwards=null}),fb=Ng(function(t,e){var r=e,n=xo.assert;function i(a){a.type==="short"?this.curve=new hb.short(a):a.type==="edwards"?this.curve=new hb.edwards(a):this.curve=new hb.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cl.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Td(t){if(!(this instanceof Td))return new Td(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ma.toArray(t.entropy,t.entropyEnc||"hex"),r=Ma.toArray(t.nonce,t.nonceEnc||"hex"),n=Ma.toArray(t.pers,t.persEnc||"hex");nS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var aK=Td;Td.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Td.prototype._hmac=function(){return new Cl.hmac(this.hash,this.K)};Td.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Td.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ma.toArray(e,r),n=Ma.toArray(n,i),nS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Td.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ma.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ma.encode(o,r)};var AC=xo.assert;function Di(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var sS=Di;Di.fromPublic=function(e,r,n){return r instanceof Di?r:new Di(e,{pub:r,pubEnc:n})};Di.fromPrivate=function(e,r,n){return r instanceof Di?r:new Di(e,{priv:r,privEnc:n})};Di.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Di.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Di.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Di.prototype._importPrivate=function(e,r){this.priv=new xt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Di.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?AC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&AC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Di.prototype.derive=function(e){return e.validate()||AC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Di.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Di.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Di.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var y5e=xo.assert;function j6(t,e){if(t instanceof j6)return t;this._importDER(t,e)||(y5e(t.r&&t.s,"Signature without r or s"),this.r=new xt(t.r,16),this.s=new xt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var M6=j6;function w5e(){this.place=0}function C8(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function ZO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}j6.prototype._importDER=function(e,r){e=xo.toArray(e,r);var n=new w5e;if(e[n.place++]!==48)return!1;var i=C8(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=C8(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=C8(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new xt(o),this.s=new xt(l),this.recoveryParam=null,!0};function _8(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}j6.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=ZO(r),n=ZO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];_8(i,r.length),i=i.concat(r),i.push(2),_8(i,n.length);var s=i.concat(n),o=[48];return _8(o,s.length),o=o.concat(s),xo.encode(o,e)};var v5e=function(){throw new Error("unsupported")},gh=xo.assert;function Xo(t){if(!(this instanceof Xo))return new Xo(t);typeof t=="string"&&(gh(Object.prototype.hasOwnProperty.call(fb,t),"Unknown curve "+t),t=fb[t]),t instanceof fb.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var b5e=Xo;Xo.prototype.keyPair=function(e){return new sS(this,e)};Xo.prototype.keyFromPrivate=function(e,r){return sS.fromPrivate(this,e,r)};Xo.prototype.keyFromPublic=function(e,r){return sS.fromPublic(this,e,r)};Xo.prototype.genKeyPair=function(e){e||(e={});for(var r=new aK({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||v5e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new xt(2));;){var s=new xt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Xo.prototype._truncateToN=function(e,r,n){var i;if(xt.isBN(e)||typeof e=="number")e=new xt(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new xt(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new xt(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Xo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!xt.isBN(e)){gh(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),gh(e.length>>>0===e.length);for(var s=0;s<e.length;s++)gh((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),gh(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),l=e.toArray("be",o);gh(new xt(l).eq(e),"Can not sign message");for(var c=new aK({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new xt(1)),h=0;;h++){var f=i.k?i.k(h):new xt(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var w=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var y=(p.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),y^=1),new M6({r:m,s:w,recoveryParam:y})}}}}}};Xo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new M6(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};Xo.prototype.recoverPubKey=function(t,e,r,n){gh((3&r)===r,"The recovery param is more than two bits"),e=new M6(e,n);var i=this.n,s=new xt(t),o=e.r,a=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};Xo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new M6(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var x5e=Ng(function(t,e){var r=e;r.version="6.6.1",r.utils=xo,r.rand=function(){throw new Error("unsupported")},r.curve=hb,r.curves=fb,r.ec=b5e,r.eddsa=null}),E5e=x5e.ec;const C5e="signing-key/5.8.0",kC=new pe(C5e);let A8=null;function qu(){return A8||(A8=new E5e("secp256k1")),A8}class _5e{constructor(e){Ut(this,"curve","secp256k1"),Ut(this,"privateKey",It(e)),lf(this.privateKey)!==32&&kC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=qu().keyFromPrivate(Tt(this.privateKey));Ut(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ut(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ut(this,"_isSigningKey",!0)}_addPoint(e){const r=qu().keyFromPublic(Tt(this.publicKey)),n=qu().keyFromPublic(Tt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=qu().keyFromPrivate(Tt(this.privateKey)),n=Tt(e);n.length!==32&&kC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return S6({recoveryParam:i.recoveryParam,r:en("0x"+i.r.toString(16),32),s:en("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=qu().keyFromPrivate(Tt(this.privateKey)),n=qu().keyFromPublic(Tt(lK(e)));return en("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function A5e(t,e){const r=S6(e),n={r:Tt(r.r),s:Tt(r.s)};return"0x"+qu().recoverPubKey(Tt(t),n,r.recoveryParam).encode("hex",!1)}function lK(t,e){const r=Tt(t);return r.length===32?new _5e(r).publicKey:r.length===33?"0x"+qu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?It(r):kC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const k5e="transactions/5.8.0",mu=new pe(k5e);var JO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(JO||(JO={}));function oS(t){return t==="0x"?null:Ja(t)}function Pi(t){return t==="0x"?Ove:Ue.from(t)}function $5e(t){const e=lK(t);return Ja(qi(ii(qi(e,1)),12))}function cK(t,e){return $5e(A5e(Tt(t),e))}function eo(t,e){const r=V0(Ue.from(t).toHexString());return r.length>32&&mu.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function k8(t,e){return{address:Ja(t),storageKeys:(e||[]).map((r,n)=>(lf(r)!==32&&mu.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Zw(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&mu.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),k8(r[0],r[1])):k8(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return k8(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function uK(t){return Zw(t).map(e=>[e.address,e.storageKeys])}function S5e(t,e){if(t.gasPrice!=null){const n=Ue.from(t.gasPrice),i=Ue.from(t.maxFeePerGas||0);n.eq(i)||mu.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[eo(t.chainId||0,"chainId"),eo(t.nonce||0,"nonce"),eo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),eo(t.maxFeePerGas||0,"maxFeePerGas"),eo(t.gasLimit||0,"gasLimit"),t.to!=null?Ja(t.to):"0x",eo(t.value||0,"value"),t.data||"0x",uK(t.accessList||[])];if(e){const n=S6(e);r.push(eo(n.recoveryParam,"recoveryParam")),r.push(V0(n.r)),r.push(V0(n.s))}return io(["0x02",P6(r)])}function I5e(t,e){const r=[eo(t.chainId||0,"chainId"),eo(t.nonce||0,"nonce"),eo(t.gasPrice||0,"gasPrice"),eo(t.gasLimit||0,"gasLimit"),t.to!=null?Ja(t.to):"0x",eo(t.value||0,"value"),t.data||"0x",uK(t.accessList||[])];if(e){const n=S6(e);r.push(eo(n.recoveryParam,"recoveryParam")),r.push(V0(n.r)),r.push(V0(n.s))}return io(["0x01",P6(r)])}function dK(t,e,r){try{const n=Pi(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{mu.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=en(e[1],32),t.s=en(e[2],32);try{const n=ii(r(t));t.from=cK(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function T5e(t){const e=eS(t.slice(1));e.length!==9&&e.length!==12&&mu.throwArgumentError("invalid component count for transaction type: 2","payload",It(t));const r=Pi(e[2]),n=Pi(e[3]),i={type:2,chainId:Pi(e[0]).toNumber(),nonce:Pi(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Pi(e[4]),to:oS(e[5]),value:Pi(e[6]),data:e[7],accessList:Zw(e[8])};return e.length===9||(i.hash=ii(t),dK(i,e.slice(9),S5e)),i}function P5e(t){const e=eS(t.slice(1));e.length!==8&&e.length!==11&&mu.throwArgumentError("invalid component count for transaction type: 1","payload",It(t));const r={type:1,chainId:Pi(e[0]).toNumber(),nonce:Pi(e[1]).toNumber(),gasPrice:Pi(e[2]),gasLimit:Pi(e[3]),to:oS(e[4]),value:Pi(e[5]),data:e[6],accessList:Zw(e[7])};return e.length===8||(r.hash=ii(t),dK(r,e.slice(8),I5e)),r}function N5e(t){const e=eS(t);e.length!==9&&e.length!==6&&mu.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Pi(e[0]).toNumber(),gasPrice:Pi(e[1]),gasLimit:Pi(e[2]),to:oS(e[3]),value:Pi(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Ue.from(e[6]).toNumber()}catch{return r}if(r.r=en(e[7],32),r.s=en(e[8],32),Ue.from(r.r).isZero()&&Ue.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(It(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=ii(P6(i));try{r.from=cK(s,{r:It(r.r),s:It(r.s),recoveryParam:n})}catch{}r.hash=ii(t)}return r.type=null,r}function O5e(t){const e=Tt(t);if(e[0]>127)return N5e(e);switch(e[0]){case 1:return P5e(e);case 2:return T5e(e)}return mu.throwError(`unsupported transaction type: ${e[0]}`,pe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const mm=new pe(R6);class tt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:tt.allowNull(this.accessList.bind(this),null),blockHash:tt.allowNull(o,null),blockNumber:tt.allowNull(l,null),transactionIndex:tt.allowNull(l,null),confirmations:tt.allowNull(l,null),from:r,gasPrice:tt.allowNull(n),maxPriorityFeePerGas:tt.allowNull(n),maxFeePerGas:tt.allowNull(n),gasLimit:n,to:tt.allowNull(r,null),value:n,nonce:l,data:s,r:tt.allowNull(this.uint256),s:tt.allowNull(this.uint256),v:tt.allowNull(l),creates:tt.allowNull(r,null),raw:tt.allowNull(s)},e.transactionRequest={from:tt.allowNull(r),nonce:tt.allowNull(l),gasLimit:tt.allowNull(n),gasPrice:tt.allowNull(n),maxPriorityFeePerGas:tt.allowNull(n),maxFeePerGas:tt.allowNull(n),to:tt.allowNull(r),value:tt.allowNull(n),data:tt.allowNull(u),type:tt.allowNull(l),accessList:tt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:tt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:tt.allowNull(this.address,null),from:tt.allowNull(this.address,null),contractAddress:tt.allowNull(r,null),transactionIndex:l,root:tt.allowNull(a),gasUsed:n,logsBloom:tt.allowNull(s),blockHash:o,transactionHash:o,logs:tt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:tt.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:tt.allowNull(n),status:tt.allowNull(l),type:c},e.block={hash:tt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:tt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:tt.allowNull(r),extraData:s,transactions:tt.allowNull(tt.arrayOf(o)),baseFeePerGas:tt.allowNull(n)},e.blockWithTransactions=As(e.block),e.blockWithTransactions.transactions=tt.allowNull(tt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:tt.allowNull(i,void 0),toBlock:tt.allowNull(i,void 0),blockHash:tt.allowNull(o,void 0),address:tt.allowNull(r,void 0),topics:tt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:tt.allowNull(l),blockHash:tt.allowNull(o),transactionIndex:l,removed:tt.allowNull(this.boolean.bind(this)),address:r,data:tt.allowFalsish(s,"0x"),topics:tt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Zw(e||[])}number(e){return e==="0x"?0:Ue.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ue.from(e).toNumber()}bigNumber(e){return Ue.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Cr(e))?e.toLowerCase():mm.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ja(e)}callAddress(e){if(!Cr(e,32))return null;const r=Ja(qi(e,12));return r===Nve?null:r}contractAddress(e){return wbe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Cr(e))return J$(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return lf(n)!==32?mm.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Ue.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Cr(e))throw new Error("invalid uint256");return en(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=tt.check(r,e);return i._difficulty=n==null?null:Ue.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return tt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ue.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=tt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Cr(n)&&(n=Ue.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Cr(n)&&(n=Ue.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return O5e(e)}receiptLog(e){return tt.check(this.formats.receiptLog,e)}receipt(e){const r=tt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Ue.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&mm.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):mm.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&mm.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return tt.check(this.formats.filter,e)}filterLog(e){return tt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var At=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Mt=new pe(R6),R5e=10;function QO(t){return t==null?"null":(lf(t)!==32&&Mt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function XO(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[QO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return QO(e)}).join("&")}function j5e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Qf(t){if(typeof t=="string"){if(t=t.toLowerCase(),lf(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+XO(t);if(Sve.isForkEvent(t))throw Mt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+XO(t.topics||[])}throw new Error("invalid event - "+t)}function ym(){return new Date().getTime()}function eR(t){return new Promise(e=>{setTimeout(e,t)})}const M5e=["block","network","pending","poll"];let D5e=class{constructor(e,r,n){Ut(this,"tag",e),Ut(this,"listener",r),Ut(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=j5e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||M5e.indexOf(this.tag)>=0}};const F5e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function $8(t){return en(Ue.from(t).toHexString(),32)}function tR(t){return bC.encode(Sh([t,qi(GO(GO(t)),0,4)]))}const hK=new RegExp("^(ipfs)://(.*)$","i"),rR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),hK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function pb(t,e){try{return I6(Xy(t,e))}catch{}return null}function Xy(t,e){if(t==="0x")return null;const r=Ue.from(qi(t,e,e+32)).toNumber(),n=Ue.from(qi(t,r,r+32)).toNumber();return qi(t,r+32,r+32+n)}function S8(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Mt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function nR(t){const e=Tt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function L5e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function fK(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Tt(t[n]);e[n]=nR(r),e.push(nR(i.length)),e.push(L5e(i)),r+=32+Math.ceil(i.length/32)*32}return io(e)}class iR{constructor(e,r,n,i){Ut(this,"provider",e),Ut(this,"name",n),Ut(this,"address",e.formatter.address(r)),Ut(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ue.from(e).eq(1)).catch(e=>{if(e.code===pe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return At(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:io([e,db(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=io(["0x9061b923",fK([hbe(this.name),n.data])]));try{let s=yield this.provider.call(n);return Tt(s).length%32===4&&Mt.throwError("resolver threw error",pe.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Xy(s,0)),s}catch(s){if(s.code===pe.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return At(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Xy(n,0):null})}_getAddress(e,r){const n=F5e[String(e)];if(n==null&&Mt.throwError(`unsupported coin type: ${e}`,pe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Tt(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return tR(Sh([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return tR(Sh([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=YO.toWords(i.slice(2));return a.unshift(o),YO.encode(n.prefix,a)}}return null}getAddress(e){return At(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Rve?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===pe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",$8(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Mt.throwError("invalid or unsupported coin data",pe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return At(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<rR.length;n++){const i=r.match(rR[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:S8(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=en(Ue.from(l[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:io(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=Ue.from(yield this.provider.call({to:c,data:io(["0x00fdd58e",en(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const h={to:this.provider.formatter.address(l[0]),data:io([o,u])};let f=pb(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=S8(f)),e.push({type:"metadata-url",content:f});const p=yield rS(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let g=p.image;if(typeof g!="string")return null;if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(hK)==null)return null;e.push({type:"url-ipfs",content:g}),g=S8(g)}return e.push({type:"url",content:g}),{linkage:e,url:g}}}}}catch{}return null})}getContentHash(){return At(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+bC.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+bC.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+bG("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Mt.throwError("invalid or unsupported content hash data",pe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return At(this,void 0,void 0,function*(){let r=iu(e);r=Sh([$8(64),$8(r.length),r]),r.length%32!==0&&(r=Sh([r,en("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",It(r));return n==null||n==="0x"?null:I6(n)})}}let I8=null,B5e=1;class U5e extends X${constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ut(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Jm(new.target,"getNetwork")(e);r?(Ut(this,"_network",r),this.emit("network",r,null)):Mt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return At(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Mt.throwError("no network detected",pe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ut(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Qm(()=>this._ready().then(e=>e,e=>{if(!(e.code===pe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return I8==null&&(I8=new tt),I8}static getNetwork(e){return Pve(e??"homestead")}ccipReadFetch(e,r,n){return At(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield rS({url:c,errorPassThrough:!0},u,(p,g)=>(p.status=g.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Mt.throwError(`response not found during CCIP fetch: ${f}`,pe.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return Mt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,pe.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return At(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(ym()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=ym(),n=ti({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=ym();return i=Ue.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return At(this,void 0,void 0,function*(){const e=B5e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Mt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Mt.makeError("network block skew detected",pe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return At(this,void 0,void 0,function*(){return Mt.throwError("provider does not support network detection",pe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return At(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield eR(0),this._network;const n=Mt.makeError("underlying network changed",pe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=ym();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=ym(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return At(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return At(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<r||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const g=m=>At(this,void 0,void 0,function*(){c||(yield eR(1e3),this.getTransactionCount(i.from).then(w=>At(this,void 0,void 0,function*(){if(!c){if(w<=i.nonce)f=m;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=m;){if(c)return;const y=yield this.getBlockWithTransactions(p);for(let b=0;b<y.transactions.length;b++){const v=y.transactions[b];if(v.hash===e)return;if(v.from===i.from&&v.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(v.hash,r);if(u())return;let E="replaced";v.data===i.data&&v.to===i.to&&v.value.eq(i.value)?E="repriced":v.data==="0x"&&v.from===v.to&&v.value.isZero()&&(E="cancelled"),a(Mt.makeError("transaction was replaced",pe.errors.TRANSACTION_REPLACED,{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:this._wrapTransaction(v),hash:e,receipt:A}));return}}p++}}c||this.once("block",g)}}),w=>{c||this.once("block",g)}))});if(c)return;this.once("block",g),l.push(()=>{this.removeListener("block",g)})}if(typeof n=="number"&&n>0){const f=setTimeout(()=>{u()||a(Mt.makeError("timeout exceeded",pe.errors.TIMEOUT,{timeout:n}))},n);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return At(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return At(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ue.from(e)}catch(r){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return At(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ti({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Ue.from(i)}catch(s){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return At(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ti({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Ue.from(i).toNumber()}catch(s){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return At(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ti({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return It(i)}catch(s){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return At(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield ti({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>J$(o))}),s=yield this.perform("getStorageAt",i);try{return It(s)}catch(o){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&lf(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Mt.throwError("Transaction hash mismatch from Provider.sendTransaction.",pe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>At(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Mt.throwError("transaction failed",pe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return At(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>It(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return At(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Ue.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?It(s):null))}),this.formatter.transactionRequest(yield ti(n))})}_getFilter(e){return At(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield ti(r))})}_call(e,r,n){return At(this,void 0,void 0,function*(){n>=R5e&&Mt.throwError("CCIP read exceeded maximum redirections",pe.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&lf(s)%32===4)try{const o=qi(s,4),a=qi(o,0,32);Ue.from(a).eq(i)||Mt.throwError("CCIP Read sender did not match",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=Ue.from(qi(o,32,64)).toNumber(),u=Ue.from(qi(o,c,c+32)).toNumber(),h=qi(o,c+32);for(let y=0;y<u;y++){const b=pb(h,y*32);b==null&&Mt.throwError("CCIP Read contained corrupt URL string",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(b)}const f=Xy(o,64);Ue.from(qi(o,100,128)).isZero()||Mt.throwError("CCIP Read callback selector included junk",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=qi(o,96,100),g=Xy(o,128),m=yield this.ccipReadFetch(e,f,l);m==null&&Mt.throwError("CCIP Read disabled or provided no URLs",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:io([p,fK([m,g])])};return this._call(w,r,n+1)}catch(o){if(o.code===pe.errors.SERVER_ERROR)throw o}try{return It(s)}catch(o){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return At(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ti({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return At(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ti({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Ue.from(n)}catch(i){return Mt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return At(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Mt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Mt.throwError("ENS name not configured",pe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return At(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Cr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Cr(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Mt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Qm(()=>At(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return At(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Qm(()=>At(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return At(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Qm(()=>At(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return At(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ti({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),tt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return At(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return At(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Mt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return At(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new iR(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return At(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Mt.throwError("network does not support ENS",pe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+db(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return At(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Cr(e))throw n}typeof e!="string"&&Mt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return At(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=pb(yield this.call({to:n,data:"0x691f3431"+db(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return At(this,void 0,void 0,function*(){let r=null;if(Cr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new iR(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==pe.errors.CALL_EXCEPTION)throw a}try{const a=pb(yield this.call({to:o,data:"0x691f3431"+db(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==pe.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Mt.throwError(e+" not implemented",pe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new D5e(Qf(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Qf(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Qf(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Qf(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Qf(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Qf(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var kc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const mn=new pe(R6),z5e=["call","estimateGas"];function A1(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Cr(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=A1(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return A1(JSON.parse(t),e)}catch{}return null}function pK(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=A1(e,!0);if(s)return s.data;mn.throwError("missing revert data in call exception; Transaction reverted without a reason string",pe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=A1(e.body,!1);s==null&&(s=A1(e,!1)),s&&mn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===pe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&mn.throwError("insufficient funds for intrinsic transaction cost",pe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&mn.throwError("nonce has already been used",pe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&mn.throwError("replacement fee too low",pe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&mn.throwError("legacy pre-eip-155 transactions not supported",pe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),z5e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&mn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function sR(t){return new Promise(function(e){setTimeout(e,t)})}function W5e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function wm(t){return t&&t.toLowerCase()}const $C={};class gK extends $6{constructor(e,r,n){if(super(),e!==$C)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ut(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Ut(this,"_address",this.provider.formatter.address(n)),Ut(this,"_index",null)):typeof n=="number"?(Ut(this,"_index",n),Ut(this,"_address",null)):mn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return mn.throwError("cannot alter JSON-RPC Signer connection",pe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new H5e($C,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&mn.throwError("unknown account #"+this._index,pe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=As(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=As(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>kc(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&mn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),ti({tx:ti(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&mn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&mn.throwError("user rejected transaction",pe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),pK("sendTransaction",o,s)))})}signTransaction(e){return mn.throwError("signing transactions is unsupported",pe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return kc(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Qm(()=>kc(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return kc(this,void 0,void 0,function*(){const r=typeof e=="string"?iu(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[It(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&mn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return kc(this,void 0,void 0,function*(){const r=typeof e=="string"?iu(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),It(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&mn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return kc(this,void 0,void 0,function*(){const i=yield Ys.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Ys.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&mn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return kc(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class H5e extends gK{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const q5e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class V5e extends U5e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Jm(this.constructor,"defaultUrl")()),typeof e=="string"?Ut(this,"connection",Object.freeze({url:e})):Ut(this,"connection",Object.freeze(As(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return kc(this,void 0,void 0,function*(){yield sR(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Jm(this.constructor,"getNetwork");try{return r(Ue.from(e).toNumber())}catch(n){return mn.throwError("could not detect network",pe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return mn.throwError("could not detect network",pe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new gK($C,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Zy(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=rS(this.connection,JSON.stringify(n),W5e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[wm(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[wm(r.address),r.blockTag]];case"getCode":return["eth_getCode",[wm(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[wm(r.address),en(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Jm(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Jm(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=wm(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return kc(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Ue.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=As(r),r.transaction=As(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&mn.throwError(e+" not implemented",pe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return pK(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return sR(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=As(q5e);if(r)for(const s in r)r[s]&&(n[s]=!0);lve(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=J$(Ue.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=It(e[s]))}),e.accessList&&(i.accessList=Zw(e.accessList)),i}}var G5e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const K5e=new pe(R6);class Y5e extends V5e{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return G5e(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||K5e.throwError("no network detected",pe.errors.UNKNOWN_ERROR,{}),this._network==null&&(Ut(this,"_network",r),this.emit("network",r,null))),r})}}function SC(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const mK=t=>[la.id,C6.id].includes(t),Z5e=async(t,e)=>{if(!mK(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(Ue.from(120)).div(Ue.from(100));t.maxFeePerGas=SC(n),t.maxPriorityFeePerGas=SC(Ue.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},yK=t=>[56,97].includes(t),J5e=async(t,e)=>{var r;if(!yK(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let n=await e.getFeeData();t.gasPrice=(r=n.gasPrice)==null?void 0:r.toHexString()}return t},wK=t=>[ca.id,_6.id,ic.id,k6.id,q$.id,cG.id,lG.id,81457,168587773].includes(t),Q5e=async(t,e)=>{if(!wK(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=Ue.from(r).mul(Ue.from(126)).div(Ue.from(100)).add(Ue.from(t.maxPriorityFeePerGas));t.maxFeePerGas=SC(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t},X5e="units/5.8.0",e6e=new pe(X5e),t6e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function oR(t,e){if(typeof t!="string"&&e6e.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=t6e.indexOf(e);r!==-1&&(e=3*r)}return vl(t,e??18)}var vK={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bs,function(){var r=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!n(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!n(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(n(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(n(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(g,m){var w=function(b){var v=typeof Request<"u"&&c instanceof Request?c.clone():c;s(v,u).then(function(A){if(Array.isArray(p)&&p.indexOf(A.status)===-1)g(A);else if(typeof p=="function")try{return Promise.resolve(p(b,null,A)).then(function(E){E?y(b,null,A):g(A)}).catch(m)}catch(E){m(E)}else b<h?y(b,null,A):g(A)}).catch(function(A){if(typeof p=="function")try{Promise.resolve(p(b,A,null)).then(function(E){E?y(b,A,null):m(A)}).catch(function(E){m(E)})}catch(E){m(E)}else b<h?y(b,A,null):m(A)})};function y(b,v,A){var E=typeof f=="function"?f(b,v,A):f;setTimeout(function(){w(++b)},E)}w(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r})})(vK);var r6e=vK.exports;const aS=mo(r6e);let n6e=aS(fetch,{retries:3,retryDelay:500});const bK=t=>[Bs.id,Gw.id].includes(t);let T8=t=>({maxPriorityFee:oR(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:oR(t.maxFee.toFixed(9),"gwei").toHexString()}),i6e=t=>({safeLow:T8(t.safeLow),standard:T8(t.standard),fast:T8(t.fast)});const s6e=async t=>{let e="";switch(t){case Bs.id:e="https://gasstation.polygon.technology/v2";break;case Gw.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await n6e(e),n=await r.json();if(r.status>399)throw n;return i6e(n)};async function o6e(t){if(!bK(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await s6e(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const a6e=async(t,e)=>{var r,n,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(r=s.maxFeePerGas)==null?void 0:r.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(n=s.maxPriorityFeePerGas)==null?void 0:n.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function l6e(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!n)throw r;return n}}const aR=(t,e,r,n)=>{var o,a,l,c;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new hG(`Unsupported chainId ${t}`,4901);return new Y5e(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(c=s.rpcUrls.default)==null?void 0:c.http[0])},c6e=(t,e,r)=>{var o,a,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",r),n=c.toString()}else n=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new hG(`No RPC url found for ${i}`);return n};function xK(t){return/^-?0x[a-f0-9]+$/i.test(t)}function u6e(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!function(n){let i=typeof n=="number",s=typeof n=="bigint",o=typeof n=="string"&&xK(n);return i||s||o}(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function lR(t,e,r){if(e.chainId=Number(e.chainId),u6e(e),e.from||(e.from=t),!e.nonce){let n=new K$(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await l6e(e,r)),typeof e.type=="string"&&xK(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=bK(e.chainId)?await o6e(e):mK(e.chainId)?await Z5e(e,r):wK(e.chainId)?await Q5e(e,r):yK(e.chainId)?await J5e(e,r):await a6e(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function d6e({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function EK(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let h6e=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function f6e(t,e,r,n,i=!1,s,o){var u,h,f;let a=i,l=async p=>{var g;if(a){p===(i?0:1)?n():(g=r.current)==null||g.reject(new cb("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((w,y)=>{e.current={resolve:w,reject:y},setTimeout(()=>{var v;let b=new cb("mfa_timeout","Timed out waiting for MFA code");(v=r.current)==null||v.reject(b),y(b)},o)});return await t(m)}return await t()},c=null;for(let p=0;p<s;p++)try{c=await l(p),(u=r.current)==null||u.resolve(void 0);break}catch(g){if(g.type!=="missing_or_invalid_mfa")throw(h=r.current)==null||h.resolve(void 0),g;a=!0}if(c===null){let p=new cb("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=r.current)==null||f.reject(p),p}return c}var cR;let p6e=(cR=0,()=>"id-"+cR++),g6e=(t,e)=>typeof e=="bigint"?e.toString():e,$u=(t,{ms:e,msg:r})=>Promise.race([t,EK(e??15e3).then(()=>Promise.reject(Error(r)))]),uR=new h6e,dR=class{invokeWithMfa(e,r){return $u(f6e(n=>$u(this.waitForReady().then(()=>e(n)),{msg:r.timeoutMsg,ms:r.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),r.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return $u(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return $u(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(r=>this.invoke("privy:wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return $u(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(r=>this.invoke("privy:delegated-actions:consent",{...r,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:verify",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:init-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:submit-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:unenroll",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return $u(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(r=>this.invoke("privy:user-signer:sign",{...r,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return $u(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:set-recovery",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return $u(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:recover",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:r,resolve:n}=uR.dequeue(e.event,e.id);return e.error!==void 0?r(new cb(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,r)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(r),await EK(150)})}invoke(e,r){let n=((s,o)=>`${s}${JSON.stringify(o,g6e)}`)(e,r);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(n);if(s)return s}let i=new Promise((s,o)=>{let a=p6e();uR.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:r}),"*")}).finally(()=>{this.cache.delete(n)});return this.cache.set(n,i),i}constructor(e,r){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=r}};var CK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},a.prototype.listenerCount=function(c){var u=r?r+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var w=this._events[m],y=arguments.length,b,v;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,f),!0;case 5:return w.fn.call(w.context,u,h,f,p),!0;case 6:return w.fn.call(w.context,u,h,f,p,g),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];w.fn.apply(w.context,b)}else{var A=w.length,E;for(v=0;v<A;v++)switch(w[v].once&&this.removeListener(c,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,h);break;case 4:w[v].fn.call(w[v].context,u,h,f);break;default:if(!b)for(E=1,b=new Array(y-1);E<y;E++)b[E-1]=arguments[E];w[v].fn.apply(w[v].context,b)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var m=0,w=[],y=g.length;m<y;m++)(g[m].fn!==u||f&&!g[m].once||h&&g[m].context!==h)&&w.push(g[m]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(CK);var m6e=CK.exports;const Tf=mo(m6e);let y6e=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const w6e=t=>y6e.includes(t),P3=t=>/^0x[0-9a-fA-F]*$/.test(t),N3=t=>Buffer.from(t,"utf8"),ew=t=>`0x${t.toString("hex")}`;var v6e=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(i)}:${t(e[i])}`},"")}}`};const b6e=mo(v6e);async function x6e(t,e){let r=b6e(e);if(r===void 0)throw new or({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=Buffer.from(r).toString("base64"),{signature:i}=await t({message:n});return{signature:i}}async function Ki(t,e,{wallet_id:r,...n}){let i={version:1,url:t.getCompiledPath(Yx,{params:{wallet_id:r}}),method:Yx.method,headers:{"privy-app-id":t.app.appId},body:{...n}},{signature:s}=await x6e(e,i);return await t.fetchPrivyRoute(Yx,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}function E6e(t){return{from:t.from,to:t.to,nonce:ih(t.nonce),chain_id:ih(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?P3(e)?e:ew(N3(e)):ew(Buffer.from(Uint8Array.from(e)))}(t.data),value:ih(t.value),type:t.type,gas_limit:ih(t.gasLimit),gas_price:ih(t.gasPrice),max_fee_per_gas:ih(t.maxFeePerGas),max_priority_fee_per_gas:ih(t.maxPriorityFeePerGas)}}function ih(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return P3(t)?t:ew(N3(t))}function C6e(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function _K({context:t,account:e,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:n,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Ki(n,n.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Ki(n,n.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:E6e(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Ki(n,n.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:C6e(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Ki(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:P3(o)?o:ew(N3(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Ki(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:P3(o)?o:ew(N3(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:r.request});case"solana":return async function({context:n,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Ki(n,n.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:r.request})}}let P8=class extends Tf{async request(e){var r,n;if(w6e(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(r=e.params)==null?void 0:r[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(n=e.params)==null?void 0:n[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let r={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(r.chainId),r}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=aR(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let r=this.ensureChainId(e);return lR(this._account.address,r,this._jsonRpcProvider)}async handleSendTransaction(e){let r=this.ensureChainId(e),n=await lR(this._account.address,r,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(r.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new yO(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new yO(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.internalSwitchEthereumChain(r)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if(Xu(n)){let{data:i}=await _K({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r})}catch(i){let s=G$(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,l)=>{var c;o=setTimeout(()=>l(new or({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((c=this._onNeedsRecovery)==null?void 0:c.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new or({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=aR(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function IC(t){return"version"in t}function hR(t,e){let r=(IC(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}let _6e=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new or({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let n=G$(r);if(n&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw r;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new or({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,r){let n=this._account;if(!Xu(n))return(await this._proxy.rpcWallet({accessToken:r,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await _K({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r),await this.signMessageRpc(e,r)}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new or({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n,connection:i,options:s}=e.params,o=hR(n,this._account.address),a=IC(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},r);return n.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(n.serialize(),s)}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new or({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n}=e.params,i=hR(n,this._account.address),s=IC(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},r);return n.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:n}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new or({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},A6e=class{setMessagePoster(e){this._proxy=new dR(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessToken();if(!r)throw new or({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:r,message:e.message});return{signature:n}}async add(e){var n;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await h8({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new or({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:r}=await this._privyInternal.refreshSession();return{user:r}}async getBitcoinProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Xu(e)||await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new eve({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n})}async create({password:e,recoveryMethod:r,recoveryToken:n,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){var c,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((c=this._privyInternal.config)==null?void 0:c.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(r&&!r.startsWith("privy"))throw new or({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await h8({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=r||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let f=await this._privyInternal.getAccessToken();if(!f)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:f,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var r,n;if(!this._proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await h8({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new or({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(n=e==null?void 0:e.ethereumAccount)==null?void 0:n.address});if(!s)throw new or({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:r}){if(!this._proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessToken();if(!n)throw new or({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:r})}async getProvider(e,r,n,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Xu(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:r,recoveryKey:s,recoveryAccessToken:n,recoverySecretOverride:i}),new P8({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Xu(e)||(!l||i||s||o||a)&&await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new P8({account:e,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,r,n,i,s,o,a){if(!this._proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Xu(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new _6e({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:r,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Xu(r))throw new or({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});d6e({currentRecoveryMethod:r.recovery_method,upgradeToRecoveryMethod:n.recoveryMethod==="icloud-native"?"icloud":n.recoveryMethod}),await this._load(r.chain_type==="solana"?{wallet:r,entropyId:r.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=r.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});try{let o;if(n.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if(n.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if(n.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if(n.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${n.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:r.address,entropyIdVerifier:r.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:r.chain_type!=="ethereum"?null:new P8({account:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(r){return console.error(r),!1}}async _load({entropyId:e,entropyIdVerifier:r,wallet:n,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:r}),e}catch(c){if(G$(c))try{if(n.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),u.entropyId}if(n.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,r,n,i,s,o){if(this._chains=Array.from(Kw),this._privyInternal=e,r&&(this._proxy=new dR(r,s),i.setProxy(this._proxy)),n){let a=dG(n);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},k6e=class extends Tf{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},iv;const $6e=new Uint8Array(16);function S6e(){if(!iv&&(iv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!iv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iv($6e)}const Jn=[];for(let t=0;t<256;++t)Jn.push((t+256).toString(16).slice(1));function I6e(t,e=0){return Jn[t[e+0]]+Jn[t[e+1]]+Jn[t[e+2]]+Jn[t[e+3]]+"-"+Jn[t[e+4]]+Jn[t[e+5]]+"-"+Jn[t[e+6]]+Jn[t[e+7]]+"-"+Jn[t[e+8]]+Jn[t[e+9]]+"-"+Jn[t[e+10]]+Jn[t[e+11]]+Jn[t[e+12]]+Jn[t[e+13]]+Jn[t[e+14]]+Jn[t[e+15]]}const T6e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fR={randomUUID:T6e};function O3(t,e,r){if(fR.randomUUID&&!t)return fR.randomUUID();t=t||{};const n=t.random||(t.rng||S6e)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,I6e(n)}/*! js-cookie v3.0.5 | MIT */function sv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var P6e={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function TC(t,e){function r(i,s,o){if(!(typeof document>"u")){o=sv({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",sv({},s,{expires:-1}))},withAttributes:function(i){return TC(this.converter,sv({},this.attributes,i))},withConverter:function(i){return TC(sv({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var on=TC(P6e,{path:"/"});const pR=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(r=>({status:"fulfilled",value:r})).catch(r=>({status:"rejected",reason:r})))));let Xf="privy:token",N8="privy-token",ov="privy:refresh_token",O8="privy-refresh-token",ep="privy:id-token",R8="privy-id-token",av="privy-session",AK=class extends Tf{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(Xf);try{return typeof e=="string"?new Zm(e).value:null}catch(r){return console.error(r),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(ov);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(ep);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=on.get(av);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,r){return this.mightHaveServerCookies||typeof e=="string"&&typeof r=="string"}tokenIsActive(e){if(!e)return!1;let r=Zm.parse(e);return r!==null&&!r.isExpired(30)}async destroyLocalState(e){await pR([this._storage.del(Xf),this._storage.del(ov),this._storage.del(ep),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),on.remove(N8),on.remove(O8),on.remove(R8),on.remove(av),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(Xf);if(await this._storage.put(Xf,e),!this._isUsingServerCookies){let i=(r=Zm.parse(e))==null?void 0:r.expiration;on.set(N8,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Xf);await this._storage.del(Xf),on.remove(N8),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(ov,e),this._isUsingServerCookies||(on.set(av,"t",{sameSite:"Strict",secure:!0,expires:30}),on.set(O8,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(ov),on.remove(O8),on.remove(av),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let r=(await pR([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(n=>n.status==="rejected");r.length>0&&this.emit("error_storing_tokens",r.map(n=>String(n.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(ep);if(await this._storage.put(ep,e),!this._isUsingServerCookies){let i=(r=Zm.parse(e))==null?void 0:r.expiration;on.set(R8,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(ep);await this._storage.del(ep),on.remove(R8),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let r=af(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,r),r}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};AK.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var N6e=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function O6e(t){let e=new URLSearchParams;for(let r in t)t[r]!=null&&e.append(r,String(t[r]));return Array.from(e).length?"?"+e.toString():""}const lv=()=>{};let Su={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const R6e=({level:t}={level:"ERROR"})=>({get level(){return t},error:Su[t]>=Su.ERROR?console.error:lv,warn:Su[t]>=Su.WARN?console.warn:lv,info:Su[t]>=Su.INFO?console.info:lv,debug:Su[t]>=Su.DEBUG?console.debug:lv});let j8="privy:caid",j6e=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,r,n,i,s;if(this.isReady)(r=(e=this.callbacks)==null?void 0:e.setIsReady)==null||r.call(e,!0);else{if(!await this.isStorageAccessible())throw new or({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(n=this._config)!=null&&n.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:r,query:n}){return`${this.baseUrl}${P0e(e.path,r)}${O6e(n)}`}async fetch(e,{body:r,params:n,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:n,query:i}),{method:e.method,body:JSON.stringify(r),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new d8(u);return u}async _beforeRequestWithoutInitialize(e){let r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:N6e(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(qpe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(j8);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=O3()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(j8,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(j8)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,r){try{await this.fetch(Hpe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:r},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new or({code:"storage_error",error:"Unable to access storage"});let r=await this.session.getRefreshToken()??void 0,n=r??"key",i=this._cache.get(n);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(r,e);this._cache.set(n,s);try{return await s}finally{this._cache.delete(n)}}async _refreshSession(e,r){var i,s,o,a,l,c;let n=await this.session.getToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new d8({code:_N.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${CN.path}`);let u=await this.fetch(CN,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),r||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),r||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof d8&&u.code===_N.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),r||((c=(l=this.callbacks)==null?void 0:l.setUser)==null||c.call(l,null))),u}}async getAccessToken(){let[e,r]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,r)){let n=await this.refreshSession(),i=await this.session.getToken();return n.token||this.logger.debug("[privy:getAccessToken] expected token received null"),n.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),n.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${O3()}`,r="blobby";await this._storage.put(e,r);let n=await this._storage.get(e);return await this._storage.del(e),n===r}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=R6e({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new AK({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=aS(globalThis.fetch,{retries:3,retryDelay:r=>3**r*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",r=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:r})})}},M6e=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(z0e,{})}}constructor(e){this._privyInternal=e}};const kK=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",$K=t=>t?t.linked_accounts.filter(kK).filter(e=>e.chain_type==="ethereum").sort((e,r)=>e.wallet_index-r.wallet_index):[],gR=t=>$K(t).find(e=>e.wallet_index===0)??null,SK=t=>t?t.linked_accounts.filter(kK).filter(e=>e.chain_type==="solana").sort((e,r)=>e.wallet_index-r.wallet_index):[],D6e=t=>SK(t).find(e=>e.wallet_index===0)??null,F6e=(t,e)=>!(e==="off"||$K(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="ethereum").length>0&&e!=="all-users"),L6e=(t,e)=>!(e==="off"||SK(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="solana").length>0&&e!=="all-users"),Xa=async(t,e,r)=>{var s,o;let n=F6e(e.user,((s=r==null?void 0:r.ethereum)==null?void 0:s.createOnLogin)??"off"),i=L6e(e.user,((o=r==null?void 0:r.solana)==null?void 0:o.createOnLogin)??"off");if(n&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:gR(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return n?{...await t.create({recoveryMethod:"privy",solanaAccount:D6e(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:gR(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let B6e=class{async syncWithToken(e,r,n){var o,a;let i=await this._privyInternal.fetch(Ype,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Xa(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,r){this._privyInternal=e,this._embedded=r}},U6e=class{async sendCode(e,r){return this._privyInternal.fetch(y0e,{body:{email:e,token:r}})}async loginWithCode(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(m0e,{body:{email:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Xa(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(w0e,{body:{email:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:r,code:n}){await this._privyInternal.fetch(b0e,{body:{oldAddress:e,newAddress:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(v0e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},z6e=class{async initializeAuth({relyingParty:e,redirectUrl:r,token:n}){return await this._privyInternal.fetch(Zpe,{body:{relying_party:e,redirect_url:r,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(e0e,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:r,signature:n,fid:i,mode:s},o){var c,u;let a=await this._privyInternal.fetch(Jpe,{body:{channel_token:e,message:r,signature:n,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Xa(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async link({channel_token:e,message:r,signature:n,fid:i}){await this._privyInternal.fetch(Qpe,{body:{channel_token:e,message:r,signature:n,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(Xpe,{body:{fid:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},W6e=class{async initializeAuth(){return await this._privyInternal.fetch(t0e,{body:{}})}async authenticate({message:e,signature:r,fid:n},i){var a,l;let s=await this._privyInternal.fetch(r0e,{body:{message:e,signature:r,fid:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Xa(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}constructor(e,r){this._privyInternal=e,this._embedded=r}},H6e=class{async create(e){var s,o;let r=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(n0e,{body:{guest_credential:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await Xa(this._embedded,n,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,r){this._privyInternal=e,this._embedded=r}};const ed="privy:state_code",td="privy:code_verifier";async function q6e(t,e){let r=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",r))}function V6e(t){return crypto.getRandomValues(new Uint8Array(t))}function lS(){return af(V6e(36))}function IK(){return lS()}async function TK({codeVerifier:t,method:e="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let n=await q6e(t,r);return af(n)}}let G6e=class{async generateURL(e,r){var o;let n=lS(),i=IK(),s=await TK({codeVerifier:n,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(td,n),this._storage.put(ed,i)]),this._privyInternal.fetch(a0e,{body:{redirect_to:r,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,r,n,i,s,o){var h,f;let[a,l]=await Promise.all([this._storage.get(td),this._storage.get(ed)]);if(l!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:l??"",returnedStateCode:r??""}),new or({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(o0e,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await Xa(this._embedded,c,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(td),this._storage.del(ed)]),(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async linkWithCode(e,r,n,i){let[s,o]=await Promise.all([this._storage.get(td),this._storage.get(ed)]);if(o!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:o??"",returnedStateCode:r??""}),new or({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(l0e,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(td),this._storage.del(ed)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,r){await this._privyInternal.fetch(c0e,{body:{provider:e,subject:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,r,n,i){this._privyInternal=e,this._embedded=r,this._storage=n,this._crypto=i}},K6e=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(g0e,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(f0e,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(p0e,{body:{relying_party:e}})}async loginWithPasskey(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(d0e,{body:{relying_party:n,challenge:r,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Xa(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async signupWithPasskey(e,r,n){var o,a;let i=await this._privyInternal.fetch(h0e,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Xa(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,r){await this._privyInternal.fetch(u0e,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Y6e=class{async sendCode(e,r){return this._privyInternal.fetch(E0e,{body:{phoneNumber:e,token:r}})}async loginWithCode(e,r,n,i){var a,l;let s=await this._privyInternal.fetch(x0e,{body:{phoneNumber:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await Xa(this._embedded,s,i==null?void 0:i.embedded);return(l=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||l.call(a,o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(C0e,{body:{phoneNumber:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:r,code:n}){await this._privyInternal.fetch(A0e,{body:{old_phone_number:e,new_phone_number:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(_0e,{body:{phoneNumber:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Z6e=class{async unlinkWallet(e){await this._privyInternal.fetch(D0e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async linkWithSiwe(e,r,n){let i=r||this._wallet,s=n||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(j0e,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,r,n,i,s){var u,h;let o=r||this._wallet,a=n||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(R0e,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await Xa(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,c.user),c}async init(e,r,n){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Zq,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:r,nonce:s,uri:n}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,r){this._wallet=void 0,this._privyInternal=e,this._embedded=r}},J6e=class{async unlink({address:e}){await this._privyInternal.fetch(U0e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async link({message:e,signature:r,walletClientType:n,connectorType:i}){await this._privyInternal.fetch(B0e,{body:{message:e,signature:r,walletClientType:n,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:r,signature:n,walletClientType:i,connectorType:s,opts:o}){var c,u;let a=await this._privyInternal.fetch(L0e,{body:{signature:n,message:r,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await Xa(this._embedded,a,o==null?void 0:o.embedded);return(u=(c=this._privyInternal.callbacks)==null?void 0:c.setUser)==null||u.call(c,l.user),l}async fetchNonce({address:e}){let{nonce:r}=await this._privyInternal.fetch(F0e,{body:{address:e}});return{nonce:r}}constructor(e,r){this._privyInternal=e,this._embedded=r}},Q6e=class{async link(e,r,n,i){await this._privyInternal.fetch(M0e,{body:{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var r;let{nonce:n}=await this._privyInternal.fetch(Zq,{body:{address:e.address}});return{nonce:n,message:`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:
${r.address}

${r.statement}

URI: ${r.uri}
Version: 1
Chain ID: ${r.chainId}
Nonce: ${r.nonce}
Issued At: ${r.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},X6e=class{async logout(){var e,r;try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(N0e,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(r=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||r.call(e,null)}constructor(e,r,n,i){this._privyInternal=e,this.customProvider=new B6e(this._privyInternal,r),this.phone=new Y6e(this._privyInternal,r),this.email=new U6e(this._privyInternal,r),this.oauth=new G6e(this._privyInternal,r,n,i),this.guest=new H6e(this._privyInternal,r),this.siwe=new Z6e(this._privyInternal,r),this.siws=new J6e(this._privyInternal,r),this.smartWallet=new Q6e(this._privyInternal),this.passkey=new K6e(this._privyInternal,r),this.farcaster=new z6e(this._privyInternal,r),this.farcasterV2=new W6e(this._privyInternal,r)}},e4e=class{async initOnRampSession(e){return await this._privyInternal.fetch(Vpe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(Gpe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const t4e={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let r4e=new Set([ua.id,la.id,ca.id,Bs.id,$g.id,A6.id]),n4e=new Set([ua.id,la.id,ic.id,ca.id,Bs.id]);function i4e(t,e){switch(e){case"native-currency":return r4e.has(t);case"USDC":return n4e.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function s4e(t,e){switch(t){case la.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case $g.id:return"AVAX_CCHAIN";case ca.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case A6.id:return"CELO_CELO";case Bs.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case ua.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let o4e=class{async sign(e){return await this._privyInternal.fetch(W0e,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:r}){let{url:n,key:i}=t4e[r?"sandbox":"prod"],s=await aS(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new X2e({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},a4e=class{constructor(e){this.moonpay=new o4e(e),this.coinbase=new e4e(e)}},l4e=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(i0e,{body:e})}constructor(e){this._privyInternal=e}},c4e=class{async sendCode(e){return await this._privyInternal.fetch(s0e,{body:e})}constructor(e){this._privyInternal=e}},u4e=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new or({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async unenrollMfa(e){if(!this.proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async clearMfa(e){if(!this.proxy)throw new or({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,r){this.proxy=r,this.privyInternal=e,this.sms=new c4e(e),this.passkey=new l4e(e)}},d4e=class{async init(e){return this._privyInternal.fetch(I0e,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(T0e,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},h4e=class{async generateURL(e){var s;let r=lS(),n=IK(),i=await TK({codeVerifier:r,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(td,r),this._storage.put(ed,n)]),this._privyInternal.fetch($0e,{body:{redirect_to:e,code_challenge:i,state_code:n}})}async authorize(e,r){let[n,i]=await Promise.all([this._storage.get(td),this._storage.get(ed)]);if(i!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:r??""}),new or({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(S0e,{body:{authorization_code:e,state_code:i,code_verifier:n}});return await Promise.all([this._storage.del(td),this._storage.del(ed)]),s}constructor(e,r,n){this._privyInternal=e,this._storage=r,this._crypto=n}},f4e=class{async getRecoveryKeyMaterial(e,r){return this._privyInternal.fetch(k0e,{body:{chain_type:r},params:{address:e}})}constructor(e,r,n){this._privyInternal=e,this.auth=new h4e(this._privyInternal,r,n),this.icloudAuth=new d4e(this._privyInternal)}},p4e=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,r){return this._privyInternal.getPath(e,r)}async fetchPrivyRoute(e,r){return this._privyInternal.fetch(e,r)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...r}){this._privyInternal=new j6e({...r,appClientId:e}),this.mfa=new u4e(this._privyInternal),this.mfaPromises=new k6e,this.app=new N2e(this._privyInternal),this.embeddedWallet=new A6e(this._privyInternal,r.embeddedWalletMessagePoster,r.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new M6e(this._privyInternal),this.auth=new X6e(this._privyInternal,this.embeddedWallet,r.storage,r.crypto),this.recovery=new f4e(this._privyInternal,r.storage,r.crypto),this.funding=new a4e(this._privyInternal),this.delegated=new z2e(this._privyInternal),this.crossApp=new oG(this._privyInternal,r.storage)}};const g4e={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},PK={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function D6(t,e){var r=Array.prototype.slice.call(e);return r.push(PK),t.apply(this,r)}function m4e(){return D6(Jme,arguments)}function tw(t){return dV.call(this,t,PK)}tw.prototype=Object.create(dV.prototype,{});tw.prototype.constructor=tw;function y4e(){return D6(gye,arguments)}function cS(){return D6(h6,arguments)}function w4e(){return D6(mye,arguments)}const cv=(t,e)=>m4e(String(t),e),M8=(t,e)=>`+${cS(e)} ${t}`,v4e=t=>`*${t.replaceAll("-","").slice(-4)}`,b4e=t=>new tw(t),x4e=y4e().map(t=>({code:t,callCode:cS(t)})),E4e=t=>{var r;let e=(r=w4e(t,g4e))==null?void 0:r.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},C4e=t=>{let e=new tw;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},_4e=(t,e=!0)=>t.reduce((r,n)=>({...r,[n]:e}),{}),A4e={[ua.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[H$.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ic.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[k6.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Bs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Gw.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ca.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[_6.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[$g.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[W$.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[la.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[C6.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},gb={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let k4e=new Set([ua.id,ca.id,ic.id,Bs.id,la.id]),$4e=new Set([ua.id,ca.id,Bs.id,ic.id,la.id]),S4e={buy:"CARD",send:"CRYPTO_ACCOUNT"},I4e={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};ua.id+"",ca.id+"",ic.id+"",Bs.id+"",la.id+"";function T4e({appId:t,input:e,amount:r,blockchain:n,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),o.searchParams.set("defaultNetwork",n),o.searchParams.set("defaultPaymentMethod",S4e[s]),o.searchParams.set("defaultAsset",I4e[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const P4e=(t,e)=>{switch(e){case"native-currency":return k4e.has(t);case"USDC":return $4e.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function N4e(t,e){return t===Bs.id?"POL":"ETH"}let O4e=class{async invokeRpc({method:e,params:r}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:O3(),method:e,params:r})})).json()}async getBalance(e){try{let r=await this.invokeRpc({method:"getBalance",params:[e]});return r.error?null:BigInt(r.result.value)}catch{return null}}async getTokenAccountsByOwner(e,r){var n,i,s,o,a;try{let l=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:r},{encoding:"jsonParsed"}]});if(l.error)return null;let c=(a=(o=(s=(i=(n=l.result.value.at(0))==null?void 0:n.account)==null?void 0:i.data)==null?void 0:s.parsed)==null?void 0:o.info)==null?void 0:a.tokenAmount;return c?{amount:BigInt(c.amount),decimals:c.decimals}:null}catch{return null}}async getAccountInfo(e){var r,n,i;try{let s=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(s.error)return null;let o=(i=(n=(r=s.result.value)==null?void 0:r.data)==null?void 0:n.parsed)==null?void 0:i.info;return o?{decimals:o.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function mR(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function R4e({wei:t,precision:e=3}){return parseFloat(kf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function Wi({amount:t,decimals:e}){return ai(BigInt(t),e)}const j4e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,M4e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,D4e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function F4e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){L4e(t);return}return e}function L4e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Xm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!D4e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(j4e.test(t)||M4e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,F4e)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const B4e=/#/g,U4e=/&/g,z4e=/\//g,W4e=/=/g,uS=/\+/g,H4e=/%5e/gi,q4e=/%60/gi,V4e=/%7c/gi,G4e=/%20/gi;function K4e(t){return encodeURI(""+t).replace(V4e,"|")}function PC(t){return K4e(typeof t=="string"?t:JSON.stringify(t)).replace(uS,"%2B").replace(G4e,"+").replace(B4e,"%23").replace(U4e,"%26").replace(q4e,"`").replace(H4e,"^").replace(z4e,"%2F")}function D8(t){return PC(t).replace(W4e,"%3D")}function NK(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Y4e(t){return NK(t.replace(uS," "))}function Z4e(t){return NK(t.replace(uS," "))}function J4e(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=Y4e(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=Z4e(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Q4e(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${D8(t)}=${PC(r)}`).join("&"):`${D8(t)}=${PC(e)}`:D8(t)}function X4e(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Q4e(e,t[e])).filter(Boolean).join("&")}const exe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,txe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,rxe=/^([/\\]\s*){2,}[^/\\]/,nxe=/^\.?\//;function OK(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?exe.test(t):txe.test(t)||(e.acceptRelative?rxe.test(t):!1)}function ixe(t="",e){return t.endsWith("/")}function sxe(t="",e){return(ixe(t)?t.slice(0,-1):t)||"/"}function oxe(t="",e){return t.endsWith("/")?t:t+"/"}function axe(t,e){if(cxe(e)||OK(t))return t;const r=sxe(e);return t.startsWith(r)?t:dxe(r,t)}function lxe(t,e){const r=hxe(t),n={...J4e(r.search),...e};return r.search=X4e(n),fxe(r)}function cxe(t){return!t||t==="/"}function uxe(t){return t&&t!=="/"}function dxe(t,...e){let r=t||"";for(const n of e.filter(i=>uxe(i)))if(r){const i=n.replace(nxe,"");r=oxe(r)+i}else r=n;return r}const RK=Symbol.for("ufo:protocolRelative");function hxe(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,f=""]=r;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!OK(t,{acceptRelative:!0}))return yR(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=yR(a);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[RK]:!n}}function yR(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function fxe(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[RK]?(t.protocol||"")+"//":"")+i+s+e+r+n}class jK extends Error{constructor(e,r){super(e,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function pxe(t){var l,c,u,h,f;const e=((l=t.error)==null?void 0:l.message)||((c=t.error)==null?void 0:c.toString())||"",r=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",n=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new jK(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[g]}});return a}const gxe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function wR(t="GET"){return gxe.has(t.toUpperCase())}function mxe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const yxe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),wxe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function vxe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return wxe.test(e)?"json":yxe.has(e)||e.startsWith("text/")?"text":"blob"}function bxe(t,e,r,n){const i=xxe((e==null?void 0:e.headers)??(t==null?void 0:t.headers),r==null?void 0:r.headers,n);let s;return(r!=null&&r.query||r!=null&&r.params||e!=null&&e.params||e!=null&&e.query)&&(s={...r==null?void 0:r.params,...r==null?void 0:r.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...r,...e,query:s,params:s,headers:i}}function xxe(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function uv(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const Exe=new Set([408,409,425,429,500,502,503,504]),Cxe=new Set([101,204,205,304]);function MK(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=wR(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):Exe.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=pxe(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:bxe(l,c,t.defaults,r),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await uv(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=axe(u.request,u.options.baseURL)),u.options.query&&(u.request=lxe(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&wR(u.options.method)&&(mxe(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new r(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new n;h=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,p.abort(g)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await uv(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!Cxe.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||vxe(u.response.headers.get("content-type")||"");switch(p){case"json":{const g=await u.response.text(),m=u.options.parseResponse||Xm;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await uv(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await uv(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>MK({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const R3=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),_xe=R3.fetch?(...t)=>R3.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Axe=R3.Headers,kxe=R3.AbortController,DK=MK({fetch:_xe,Headers:Axe,AbortController:kxe});var gt;let Li=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},to=class extends Li{constructor(e,r,n,i,s,o){super(n,i,s),this.type=e,this.status=r,this.data=o}},Q=class extends Li{constructor(e,r,n){super(e,r,n),this.type="client_error"}},$xe=class extends Q{constructor(){super("Request timed out",void 0,"client_request_timeout")}},_r=class extends Li{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const zt=t=>{if(t instanceof Li)return t;if(!(t instanceof jK))return Rr(t);if(!t.response)return new to("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new to(e||"ApiError",t.response.status,r||n,t,i,t.data)},Rr=t=>t instanceof Li?t:t instanceof Error?new Q(t.message,t):new Q(`Internal error: ${t}`);var ee=((gt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",gt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",gt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",gt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",gt.INVALID_DATA="invalid_data",gt.INVALID_CAPTCHA="invalid_captcha",gt.LINKED_TO_ANOTHER_USER="linked_to_another_user",gt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",gt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",gt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",gt.USER_EXITED_UPDATE_FLOW="exited_update_flow",gt.ALLOWLIST_REJECTED="allowlist_rejected",gt.OAUTH_USER_DENIED="oauth_user_denied",gt.OAUTH_UNEXPECTED="oauth_unexpected",gt.UNKNOWN_AUTH_ERROR="unknown_auth_error",gt.USER_EXITED_AUTH_FLOW="exited_auth_flow",gt.USER_EXITED_LINK_FLOW="exited_link_flow",gt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",gt.MUST_BE_AUTHENTICATED="must_be_authenticated",gt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",gt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",gt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",gt.INVALID_CREDENTIALS="invalid_credentials",gt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",gt.UNKNOWN_MFA_ERROR="unknown_mfa_error",gt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",gt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",gt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",gt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",gt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",gt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",gt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",gt.TRANSACTION_FAILURE="transaction_failure",gt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",gt.NOT_SUPPORTED="not_supported",gt.CAPTCHA_TIMEOUT="captcha_timeout",gt.INVALID_MESSAGE="invalid_message",gt.UNABLE_TO_SIGN="unable_to_sign",gt.CAPTCHA_FAILURE="captcha_failure",gt.CAPTCHA_DISABLED="captcha_disabled",gt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",gt.TOO_MANY_REQUESTS="too_many_requests",gt.USER_LIMIT_REACHED="max_accounts_reached",gt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",gt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",gt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",gt.USER_DOES_NOT_EXIST="user_does_not_exist",gt.INSUFFICIENT_BALANCE="insufficient_balance",gt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",gt.BUFFER_NOT_DEFINED="buffer_not_defined",gt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",gt);let sh=class extends Q{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},xd=class extends Q{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},Sxe=class extends Q{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},Jw=class extends Q{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const FK="/api/v1/sessions",LK="/api/v1/sessions/logout",Ixe="/api/v1/siwe/init",Txe="/api/v1/siwe/authenticate",Pxe="/api/v1/siwe/link",Nxe="/api/v1/siwe/link_smart_wallet",Oxe="/api/v1/siwe/unlink",Rxe="/api/v1/siwe/transfer",jxe="/api/v1/siws/init",Mxe="/api/v1/siws/authenticate",Dxe="/api/v1/siws/link",Fxe="/api/v1/siws/unlink",Lxe="/api/v1/siws/transfer",Bxe="/api/v1/farcaster/init",Uxe="/api/v1/farcaster/authenticate",zxe="/api/v1/farcaster/link",Wxe="/api/v1/farcaster/status",Hxe="/api/v1/farcaster/unlink",qxe="/api/v1/farcaster/transfer",Vxe="/api/v1/passwordless/init",Gxe="/api/v1/passwordless/authenticate",Kxe="/api/v1/passwordless/link",Yxe="/api/v1/passwordless/unlink",Zxe="/api/v1/passwordless/update",Jxe="/api/v1/passwordless/transfer",Qxe="/api/v1/passwordless_sms/init",Xxe="/api/v1/passwordless_sms/link",e8e="/api/v1/passwordless_sms/unlink",t8e="/api/v1/passwordless_sms/authenticate",r8e="/api/v1/passwordless_sms/update",n8e="/api/v1/passwordless_sms/transfer",BK="/api/v1/oauth/init",UK="/api/v1/oauth/authenticate",zK="/api/v1/oauth/link",i8e="/api/v1/oauth/unlink",s8e="/api/v1/oauth/transfer",o8e="/api/v1/recovery/oauth/init",a8e="/api/v1/recovery/oauth/init_icloud",l8e="/api/v1/recovery/oauth/authenticate",c8e="/api/v1/passkeys/link/init",u8e="/api/v1/passkeys/authenticate/init",d8e="/api/v1/passkeys/register/init",h8e="/api/v1/passkeys/link",f8e="/api/v1/passkeys/authenticate",p8e="/api/v1/passkeys/register",g8e="/api/v1/telegram/authenticate",m8e="/api/v1/telegram/link",y8e="/api/v1/telegram/unlink",w8e="/api/v1/telegram/transfer",v8e="/api/v1/mfa/passwordless_sms/init",b8e="/api/v1/mfa/passkeys/init",x8e="/api/v1/users/me/accept_terms",WK="/api/v1/analytics_events",E8e="/api/v1/custom_jwt_account/authenticate",C8e="/api/v1/custom_jwt_account/link",_8e="/api/v1/guest/authenticate",A8e="/api/v1/plugins/moonpay_on_ramp/sign",k8e="/api/v1/funding/coinbase_on_ramp/init",$8e="/api/v1/funding/coinbase_on_ramp/status",S8e="/api/v1/wallets/revoke",I8e="/api/v1/users/me",T8e="/api/v1/scan/transaction",oe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},vm=t=>()=>{throw Error(t.trim())},HK=x.createContext({setAuthenticated:oe,setUser:oe,setIsNewUser:oe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:oe,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:oe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:oe,initializeWalletProxy:oe,getAuthMeta:oe,getAuthFlow:oe,closePrivyModal:oe,openPrivyModal:oe,connectWallet:oe,initLoginWithWallet:oe,loginWithWallet:oe,initLoginWithFarcaster:oe,loginWithFarcaster:oe,loginWithCode:oe,initLoginWithEmail:oe,initLoginWithSms:oe,initUpdateEmail:oe,initUpdatePhone:oe,resendEmailCode:oe,resendSmsCode:oe,initLoginWithHeadlessOAuth:oe,loginWithHeadlessOAuth:oe,crossAppAuthFlow:oe,initLoginWithOAuth:oe,loginWithOAuth:oe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:oe,initSignupWithPasskey:oe,signupWithPasskey:oe,initLoginWithPasskey:oe,loginWithPasskey:oe,initLinkWithPasskey:oe,linkWithPasskey:oe,refreshSessionAndUser:oe,walletProxy:null,createAnalyticsEvent:oe,acceptTerms:oe,getUsdTokenPrice:oe,getUsdPriceForSol:oe,getSplTokenMetadata:oe,recoverEmbeddedWallet:oe,updateWallets:oe,fundWallet:oe,openModal:oe,setReadyToTrue:oe,requestFarcasterSignerStatus:oe,initLoginWithTelegram:oe,loginWithTelegram:oe,generateSiweMessage:oe,generateSiweMessageForSmartWallet:oe,loginWithSiwe:oe,linkWithSiwe:oe,linkSmartWallet:oe,delegateWallet:oe,revokeDelegatedWallets:oe,exportSolanaWallet:oe,connectCoinbaseSmartWallet:oe,connectBaseAccount:oe,initiateAccountTransfer:oe,emailOtpState:{status:"initial"},setEmailOtpState:oe,smsOtpState:{status:"initial"},setSmsOtpState:oe,siweState:{status:"initial"},setSiweState:oe,oAuthState:{status:"initial"},setOAuthState:oe,telegramAuthState:{status:"initial"},setTelegramAuthState:oe,isHeadlessOAuthLoading:!1,isHeadlessSigning:oe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:oe}),Te=()=>x.useContext(HK);function ct(t){return t?new Date(1e3*t):null}function vi(t,e){return t.slice().sort((r,n)=>(r.firstVerifiedAt??r.verifiedAt).getTime()-(n.firstVerifiedAt??n.verifiedAt).getTime()).find(r=>r.type===e)}const Sl=t=>t?qK(t).find(e=>e.walletIndex===0)??null:null,qK=t=>t?VK(t,"ethereum"):[],VK=(t,e)=>t.linkedAccounts.filter(r=>r.type==="wallet"&&r.walletClientType==="privy"&&!r.imported&&r.chainType===e),GK=t=>t?VK(t,"solana"):[],Pf=t=>t?GK(t).find(e=>e.walletIndex===0)??null:null,NC=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,F6=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let KK=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&an(t)===an(e);const Lo=(t,e)=>(t==null?void 0:t.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&KK(r.address,e)))||null,F8=(t,e)=>t.find(r=>KK(r.address,e))||null,ea=t=>Sl(t)??Pf(t);function Xn(t){if(!t)return null;let e=function(v){let A=[];for(let E of v){let O=E.type;switch(E.type){case"wallet":let N={id:E.id,address:E.address,type:E.type,imported:E.imported,delegated:E.delegated,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at),chainType:E.chain_type,walletClientType:E.wallet_client_type,connectorType:E.connector_type,recoveryMethod:E.recovery_method,walletIndex:E.wallet_index};A.push(N);break;case"smart_wallet":let R={address:E.address,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at),smartWalletType:E.smart_wallet_type,smartWalletVersion:E.smart_wallet_version};A.push(R);break;case"cross_app":let T={type:E.type,subject:E.subject,embeddedWallets:E.embedded_wallets,smartWallets:E.smart_wallets,providerApp:{id:E.provider_app_id},verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(T);break;case"email":let L={address:E.address,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(L);break;case"phone":let B={number:E.phoneNumber,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(B);break;case"google_oauth":let W={subject:E.subject,email:E.email,name:E.name,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(W);break;case"spotify_oauth":let j={subject:E.subject,email:E.email,name:E.name,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(j);break;case"instagram_oauth":let _={subject:E.subject,username:E.username,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(_);break;case"twitter_oauth":let C={subject:E.subject,username:E.username,name:E.name,type:E.type,profilePictureUrl:E.profile_picture_url,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(C);break;case"discord_oauth":let $={subject:E.subject,username:E.username,email:E.email,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push($);break;case"github_oauth":let P={subject:E.subject,username:E.username,name:E.name,email:E.email,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(P);break;case"tiktok_oauth":let S={subject:E.subject,username:E.username,name:E.name,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(S);break;case"line_oauth":let I={subject:E.subject,name:E.name,email:E.email,profilePictureUrl:E.profile_picture_url,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(I);break;case"linkedin_oauth":let D={subject:E.subject,name:E.name,email:E.email,vanityName:E.vanity_name,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(D);break;case"apple_oauth":let F={subject:E.subject,email:E.email,type:E.type,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(F);break;case"custom_auth":A.push({type:E.type,customUserId:E.custom_user_id,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)});break;case"farcaster":let k={type:E.type,fid:E.fid,ownerAddress:E.owner_address,displayName:E.display_name,username:E.username,bio:E.bio,pfp:E.profile_picture_url,url:E.homepage_url,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at),signerPublicKey:E.signer_public_key};A.push(k);break;case"passkey":let z={type:E.type,enrolledInMfa:E.enrolled_in_mfa,credentialId:E.credential_id,publicKey:E.public_key,authenticatorName:E.authenticator_name,createdWithDevice:E.created_with_device,createdWithOs:E.created_with_os,createdWithBrowser:E.created_with_browser,verifiedAt:ct(E.verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(z);break;case"telegram":let V={type:E.type,telegramUserId:E.telegram_user_id,firstName:E.first_name,lastName:E.last_name,username:E.username,photoUrl:E.photo_url,verifiedAt:ct(E.first_verified_at),firstVerifiedAt:ct(E.first_verified_at),latestVerifiedAt:ct(E.latest_verified_at)};A.push(V);break;default:console.warn(`Unrecognized account type: ${O}. Please consider upgrading the Privy SDK.`)}}return A}(t.linked_accounts),r=vi(e,"wallet"),n=vi(e,"smart_wallet"),i=vi(e,"email"),s=vi(e,"phone"),o=vi(e,"google_oauth"),a=vi(e,"twitter_oauth"),l=vi(e,"discord_oauth"),c=vi(e,"github_oauth"),u=vi(e,"spotify_oauth"),h=vi(e,"instagram_oauth"),f=vi(e,"tiktok_oauth"),p=vi(e,"line_oauth"),g=vi(e,"linkedin_oauth"),m=vi(e,"apple_oauth"),w=vi(e,"farcaster"),y=vi(e,"telegram"),b=t.mfa_methods.map(({type:v,verified_at:A})=>({type:v,verifiedAt:ct(A)}));return{id:t.id,createdAt:ct(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:g&&{subject:g.subject,name:g.name,email:g.email,vanityName:g.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:w&&{fid:w.fid,ownerAddress:w.ownerAddress,displayName:w.displayName,username:w.username,bio:w.bio,pfp:w.pfp,url:w.url,signerPublicKey:w.signerPublicKey},telegram:y&&{telegramUserId:y.telegramUserId,firstName:y.firstName,lastName:y.lastName,username:y.username,photoUrl:y.photoUrl},delegatedWallets:[],mfaMethods:b.map(v=>v.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Fn=t=>!!t.id&&t.recoveryMethod==="privy-v2",Og=x.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:oe,login:oe,connectOrCreateWallet:oe,linkEmail:oe,linkPhone:oe,linkFarcaster:oe,linkWallet:oe,startCrossAppAuthFlow:oe,linkGoogle:oe,linkTwitter:oe,linkDiscord:oe,linkGithub:oe,linkSpotify:oe,linkInstagram:oe,linkTelegram:oe,linkTiktok:oe,linkLine:oe,linkLinkedIn:oe,linkApple:oe,linkPasskey:oe,updateEmail:oe,updatePhone:oe,logout:oe,getAccessToken:oe,unlinkEmail:oe,unlinkPhone:oe,unlinkWallet:oe,unlinkGoogle:oe,unlinkTwitter:oe,unlinkDiscord:oe,unlinkGithub:oe,unlinkSpotify:oe,unlinkInstagram:oe,unlinkTiktok:oe,unlinkLine:oe,unlinkLinkedIn:oe,unlinkApple:oe,unlinkCrossAppAccount:oe,unlinkFarcaster:oe,unlinkTelegram:oe,unlinkPasskey:oe,signMessage:oe,signTypedData:oe,enrollInMfa:oe,initEnrollmentWithSms:oe,initEnrollmentWithTotp:oe,initEnrollmentWithPasskey:oe,promptMfa:oe,init:oe,submitEnrollmentWithSms:oe,submitEnrollmentWithTotp:oe,submitEnrollmentWithPasskey:oe,unenroll:oe,submit:oe,cancel:oe,sendTransaction:oe,signTransaction:oe,exportWallet:oe,setWalletPassword:oe,setWalletRecovery:oe,requestFarcasterSignerFromWarpcast:oe,getFarcasterSignerPublicKey:oe,signFarcasterMessage:oe,signMessageWithCrossAppWallet:oe,signTypedDataWithCrossAppWallet:oe,sendTransactionWithCrossAppWallet:oe,signTransactionWithCrossAppWallet:oe,isModalOpen:!1,mfaMethods:[]}),Dt=()=>x.useContext(Og),dS=()=>{let{walletProxy:t,client:e}=Te();return x.useMemo(()=>({signWithUserSigner:async({message:r})=>{if(!t)throw Error("Wallet proxy not initialized");let n=await e.getAccessToken();if(!n)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:n,message:r});return{signature:i}}}),[t,e])};class ec{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new ec("CBWSDK").clear(),new ec("walletlink").clear()}}const sn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},OC={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},YK="Unspecified error message.",P8e="Unspecified server error.";function hS(t,e=YK){if(t&&Number.isInteger(t)){const r=t.toString();if(RC(OC,r))return OC[r].message;if(ZK(t))return P8e}return e}function N8e(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(OC[e]||ZK(t))}function O8e(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&RC(t,"code")&&N8e(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,RC(n,"data")&&(r.data=n.data)):(r.message=hS(r.code),r.data={originalError:vR(t)})}else r.code=sn.rpc.internal,r.message=bR(t,"message")?t.message:YK,r.data={originalError:vR(t)};return e&&(r.stack=bR(t,"stack")?t.stack:void 0),r}function ZK(t){return t>=-32099&&t<=-32e3}function vR(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function RC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bR(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const tr={rpc:{parse:t=>$o(sn.rpc.parse,t),invalidRequest:t=>$o(sn.rpc.invalidRequest,t),invalidParams:t=>$o(sn.rpc.invalidParams,t),methodNotFound:t=>$o(sn.rpc.methodNotFound,t),internal:t=>$o(sn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return $o(e,t)},invalidInput:t=>$o(sn.rpc.invalidInput,t),resourceNotFound:t=>$o(sn.rpc.resourceNotFound,t),resourceUnavailable:t=>$o(sn.rpc.resourceUnavailable,t),transactionRejected:t=>$o(sn.rpc.transactionRejected,t),methodNotSupported:t=>$o(sn.rpc.methodNotSupported,t),limitExceeded:t=>$o(sn.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>tp(sn.provider.userRejectedRequest,t),unauthorized:t=>tp(sn.provider.unauthorized,t),unsupportedMethod:t=>tp(sn.provider.unsupportedMethod,t),disconnected:t=>tp(sn.provider.disconnected,t),chainDisconnected:t=>tp(sn.provider.chainDisconnected,t),unsupportedChain:t=>tp(sn.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new XK(e,r,n)}}};function $o(t,e){const[r,n]=JK(e);return new QK(t,r||hS(t),n)}function tp(t,e){const[r,n]=JK(e);return new XK(t,r||hS(t),n)}function JK(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class QK extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class XK extends QK{constructor(e,r,n){if(!R8e(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function R8e(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function fS(){return t=>t}const rw=fS(),j8e=fS(),M8e=fS();function Pc(t){return Math.floor(t)}const eY=/^[0-9]*$/,tY=/^[a-f0-9]*$/;function mh(t){return pS(crypto.getRandomValues(new Uint8Array(t)))}function pS(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function mb(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function k1(t,e=!1){const r=t.toString("hex");return rw(e?`0x${r}`:r)}function L8(t){return k1(jC(t),!0)}function dl(t){return M8e(t.toString(10))}function ld(t){return rw(`0x${BigInt(t).toString(16)}`)}function rY(t){return t.startsWith("0x")||t.startsWith("0X")}function gS(t){return rY(t)?t.slice(2):t}function nY(t){return rY(t)?`0x${t.slice(2)}`:`0x${t}`}function L6(t){if(typeof t!="string")return!1;const e=gS(t).toLowerCase();return tY.test(e)}function D8e(t,e=!1){if(typeof t=="string"){const r=gS(t).toLowerCase();if(tY.test(r))return rw(e?`0x${r}`:r)}throw tr.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function mS(t,e=!1){let r=D8e(t,!1);return r.length%2===1&&(r=rw(`0${r}`)),e?rw(`0x${r}`):r}function Iu(t){if(typeof t=="string"){const e=gS(t).toLowerCase();if(L6(e)&&e.length===40)return j8e(nY(e))}throw tr.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function jC(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(L6(t)){const e=mS(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw tr.rpc.invalidParams(`Not binary data: ${String(t)}`)}function $1(t){if(typeof t=="number"&&Number.isInteger(t))return Pc(t);if(typeof t=="string"){if(eY.test(t))return Pc(Number(t));if(L6(t))return Pc(Number(BigInt(mS(t,!0))))}throw tr.rpc.invalidParams(`Not an integer: ${String(t)}`)}function bm(t){if(t!==null&&(typeof t=="bigint"||L8e(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt($1(t));if(typeof t=="string"){if(eY.test(t))return BigInt(t);if(L6(t))return BigInt(mS(t,!0))}throw tr.rpc.invalidParams(`Not an integer: ${String(t)}`)}function F8e(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw tr.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function L8e(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function B8e(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function U8e(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function z8e(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function W8e(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function iY(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function sY(t,e){const r=iY(t),n=await crypto.subtle.exportKey(r,e);return pS(new Uint8Array(n))}async function oY(t,e){const r=iY(t),n=mb(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function H8e(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return z8e(e,r)}async function q8e(t,e){return JSON.parse(await W8e(e,t))}const B8={storageKey:"ownPrivateKey",keyType:"private"},U8={storageKey:"ownPublicKey",keyType:"public"},z8={storageKey:"peerPublicKey",keyType:"public"};class V8e{constructor(){this.storage=new ec("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(z8,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(U8.storageKey),this.storage.removeItem(B8.storageKey),this.storage.removeItem(z8.storageKey)}async generateKeyPair(){const e=await B8e();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(B8,e.privateKey),await this.storeKey(U8,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(B8)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(U8)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(z8)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await U8e(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?oY(e.keyType,r):null}async storeKey(e,r){const n=await sY(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const Qw="4.3.2",aY="@coinbase/wallet-sdk";async function yS(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Qw,"X-Cbw-Sdk-Platform":aY}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function G8e(){return globalThis.coinbaseWalletExtension}function K8e(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Y8e({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=G8e();if(l)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,o,e),l}const a=K8e();if(a!=null&&a.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,i,s,o,e),a}function Z8e(t){if(!t||typeof t!="object"||Array.isArray(t))throw tr.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw tr.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw tr.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw tr.provider.unsupportedMethod()}}const xR="accounts",ER="activeChain",CR="availableChains",_R="walletCapabilities";class J8e{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new V8e,this.storage=new ec("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(xR))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(ER)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n,i,s;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await oY("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(xR,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var r;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw tr.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:ld(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return ld(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(_R);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw tr.rpc.internal("No RPC URL set for chain");return yS(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw tr.rpc.invalidParams();const i=$1(n[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw tr.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await H8e({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await sY("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw tr.provider.unauthorized("Invalid session");const o=await q8e(i.encrypted,s),a=(r=o.data)===null||r===void 0?void 0:r.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(CR,c),this.updateChain(this.chain.id,c)}const l=(n=o.data)===null||n===void 0?void 0:n.capabilities;return l&&this.storage.storeObject(_R,l),o}updateChain(e,r){var n;const i=r??this.storage.loadObject(CR),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(ER,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",ld(s.id))),!0):!1}}const Q8e=ZA(bue),{keccak_256:X8e}=Q8e;function lY(t){return Buffer.allocUnsafe(t).fill(0)}function e9e(t){return t.toString(2).length}function cY(t,e){let r=t.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;n.length<e;)n.unshift(0);return Buffer.from(n)}function t9e(t,e){const r=t<0n;let n;if(r){const i=(1n<<BigInt(e))-1n;n=(~t&i)+1n}else n=t;return n&=(1n<<BigInt(e))-1n,n}function uY(t,e,r){const n=lY(e);return t=B6(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function r9e(t,e){return uY(t,e,!0)}function B6(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")dY(t)?t=Buffer.from(s9e(hY(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=cY(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function n9e(t){return t=B6(t),"0x"+t.toString("hex")}function i9e(t,e){if(t=B6(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(X8e(new Uint8Array(t)))}function s9e(t){return t.length%2?"0"+t:t}function dY(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function hY(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var fY={zeros:lY,setLength:uY,setLengthRight:r9e,isHexString:dY,stripHexPrefix:hY,toBuffer:B6,bufferToHex:n9e,keccak:i9e,bitLengthFromBigInt:e9e,bufferBEFromBigInt:cY,twosFromBigInt:t9e};const Vi=fY;function pY(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function v0(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function AR(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function gY(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function yh(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function _l(t,e){var r,n,i,s;if(t==="address")return _l("uint160",yh(e));if(t==="bool")return _l("uint8",e?1:0);if(t==="string")return _l("bytes",new Buffer(e,"utf8"));if(a9e(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=gY(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(_l(t,e[s]));if(r==="dynamic"){var o=_l("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([_l("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Vi.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=v0(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Vi.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=v0(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=yh(e);const a=Vi.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+a);if(n<0)throw new Error("Supplied uint is negative");return Vi.bufferBEFromBigInt(n,32)}else if(t.startsWith("int")){if(r=v0(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=yh(e);const a=Vi.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied int exceeds width: "+r+" vs "+a);const l=Vi.twosFromBigInt(n,256);return Vi.bufferBEFromBigInt(l,32)}else if(t.startsWith("ufixed")){if(r=AR(t),n=yh(e),n<0)throw new Error("Supplied ufixed is negative");return _l("uint256",n*BigInt(2)**BigInt(r[1]))}else if(t.startsWith("fixed"))return r=AR(t),_l("int256",yh(e)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+t)}function o9e(t){return t==="string"||t==="bytes"||gY(t)==="dynamic"}function a9e(t){return t.lastIndexOf("]")===t.length-1}function l9e(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=pY(t[s]),a=e[s],l=_l(o,a);o9e(o)?(r.push(_l("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function mY(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=pY(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Vi.setLength(a,20));else if(o.startsWith("bytes")){if(r=v0(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Vi.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=v0(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=yh(a);const l=Vi.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+l);i.push(Vi.bufferBEFromBigInt(n,r/8))}else if(o.startsWith("int")){if(r=v0(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=yh(a);const l=Vi.bitLengthFromBigInt(n);if(l>r)throw new Error("Supplied int exceeds width: "+r+" vs "+l);const c=Vi.twosFromBigInt(n,r);i.push(Vi.bufferBEFromBigInt(c,r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function c9e(t,e){return Vi.keccak(mY(t,e))}var u9e={rawEncode:l9e,solidityPack:mY,soliditySHA3:c9e};const Ea=fY,S1=u9e,yY={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},W8={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,l,c)=>{if(r[l]!==void 0)return["bytes32",c==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ea.keccak(this.encodeData(l,c,r,n))];if(c===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Ea.keccak(c)];if(l==="string")return typeof c=="string"&&(c=Buffer.from(c,"utf8")),["bytes32",Ea.keccak(c)];if(l.lastIndexOf("]")===l.length-1){const u=l.slice(0,l.lastIndexOf("[")),h=c.map(f=>o(a,u,f));return["bytes32",Ea.keccak(S1.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[l,c]};for(const a of r[t]){const[l,c]=o(a.name,a.type,e[a.name]);i.push(l),s.push(c)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ea.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Ea.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ea.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return S1.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ea.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ea.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in yY.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ea.keccak(Buffer.concat(n))}};var d9e={TYPED_MESSAGE_SCHEMA:yY,TypedDataUtils:W8,hashForSignTypedDataLegacy:function(t){return h9e(t.data)},hashForSignTypedData_v3:function(t){return W8.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return W8.hash(t.data)}};function h9e(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ea.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return S1.soliditySHA3(["bytes32","bytes32"],[S1.soliditySHA3(new Array(t.length).fill("string"),i),S1.soliditySHA3(n,r)])}const dv=mo(d9e),f9e="walletUsername",MC="Addresses",p9e="AppVersion";function ri(t){return t.errorMessage!==void 0}class g9e{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",mb(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...n,...u,...h]);return pS(f)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",mb(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=mb(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;n(p.decode(f))}catch(f){i(f)}})()})}}class m9e{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}var Fc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Fc||(Fc={}));class y9e{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Fc.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Fc.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Fc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Fc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const kR=1e4,w9e=6e4;class v9e{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Pc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(f9e,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(p9e,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new g9e(e.secret),this.listener=n;const i=new y9e(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case Fc.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case Fc.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},kR),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Fc.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new m9e(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Pc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Pc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>kR*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:w9e}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Pc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Pc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Pc(this.nextReqId++),sessionId:this.session.id}),!0)}}class b9e{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=nY(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}const $R="session:id",SR="session:secret",IR="session:linked";class b0{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=Xce(WH(`${r}, ${n} WalletLink`)),this._linked=!!i}static create(e){const r=mh(16),n=mh(32);return new b0(e,r,n).save()}static load(e){const r=e.getItem($R),n=e.getItem(IR),i=e.getItem(SR);return r&&i?new b0(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem($R,this.id),this.storage.setItem(SR,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(IR,this._linked?"1":"0")}}function x9e(){try{return window.frameElement!==null}catch{return!1}}function E9e(){try{return x9e()&&window.top?window.top.location:window.location}catch{return window.location}}function C9e(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function wY(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const _9e='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function vY(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(_9e)),document.documentElement.appendChild(t)}function bY(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=bY(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function I1(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=bY(t))&&(n&&(n+=" "),n+=e);return n}var U6,Fr,xY,wh,TR,EY,CY,_Y,wS,DC,FC,nw={},AY=[],A9e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z6=Array.isArray;function Lc(t,e){for(var r in e)t[r]=e[r];return t}function vS(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function wr(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?U6.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return yb(t,o,n,i,null)}function yb(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++xY,__i:-1,__u:0};return i==null&&Fr.vnode!=null&&Fr.vnode(s),s}function W6(t){return t.children}function wb(t,e){this.props=t,this.context=e}function Z0(t,e){if(e==null)return t.__?Z0(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Z0(t):null}function kY(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kY(t)}}function PR(t){(!t.__d&&(t.__d=!0)&&wh.push(t)&&!j3.__r++||TR!=Fr.debounceRendering)&&((TR=Fr.debounceRendering)||EY)(j3)}function j3(){for(var t,e,r,n,i,s,o,a=1;wh.length;)wh.length>a&&wh.sort(CY),t=wh.shift(),a=wh.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,s=[],o=[],e.__P&&((r=Lc({},n)).__v=n.__v+1,Fr.vnode&&Fr.vnode(r),bS(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??Z0(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,IY(s,r,o),n.__e=n.__=null,r.__e!=i&&kY(r)));j3.__r=0}function $Y(t,e,r,n,i,s,o,a,l,c,u){var h,f,p,g,m,w,y,b=n&&n.__k||AY,v=e.length;for(l=k9e(r,e,b,l,v),h=0;h<v;h++)(p=r.__k[h])!=null&&(f=p.__i==-1?nw:b[p.__i]||nw,p.__i=h,w=bS(t,p,f,i,s,o,a,l,c,u),g=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&xS(f.ref,null,p),u.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),(y=!!(4&p.__u))||f.__k===p.__k?l=SY(p,l,t,y):typeof p.type=="function"&&w!==void 0?l=w:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=m,l}function k9e(t,e,r,n,i){var s,o,a,l,c,u=r.length,h=u,f=0;for(t.__k=new Array(i),s=0;s<i;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(l=s+f,(o=t.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?yb(null,o,null,null,null):z6(o)?yb(W6,{children:o},null,null,null):o.constructor==null&&o.__b>0?yb(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(c=o.__i=$9e(o,r,l,h))!=-1&&(h--,(a=r[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?f--:i<u&&f++),typeof o.type!="function"&&(o.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,o.__u|=4))):t.__k[s]=null;if(h)for(s=0;s<u;s++)(a=r[s])!=null&&!(2&a.__u)&&(a.__e==n&&(n=Z0(a)),PY(a,a));return n}function SY(t,e,r,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=SY(i[s],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=Z0(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function $9e(t,e,r,n){var i,s,o,a=t.key,l=t.type,c=e[r],u=c!=null&&(2&c.__u)==0;if(c===null&&t.key==null||u&&a==c.key&&l==c.type)return r;if(n>(u?1:0)){for(i=r-1,s=r+1;i>=0||s<e.length;)if((c=e[o=i>=0?i--:s++])!=null&&!(2&c.__u)&&a==c.key&&l==c.type)return o}return-1}function NR(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||A9e.test(e)?r:r+"px"}function hv(t,e,r,n,i){var s,o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||NR(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||NR(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(_Y,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=wS,t.addEventListener(e,s?FC:DC,s)):t.removeEventListener(e,s?FC:DC,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function OR(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=wS++;else if(e.t<r.u)return;return r(Fr.event?Fr.event(e):e)}}}function bS(t,e,r,n,i,s,o,a,l,c){var u,h,f,p,g,m,w,y,b,v,A,E,O,N,R,T,L,B=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(u=Fr.__b)&&u(e);e:if(typeof B=="function")try{if(y=e.props,b="prototype"in B&&B.prototype.render,v=(u=B.contextType)&&n[u.__c],A=u?v?v.props.value:u.__:n,r.__c?w=(h=e.__c=r.__c).__=h.__E:(b?e.__c=h=new B(y,A):(e.__c=h=new wb(y,A),h.constructor=B,h.render=I9e),v&&v.sub(h),h.props=y,h.state||(h.state={}),h.context=A,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),b&&h.__s==null&&(h.__s=h.state),b&&B.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Lc({},h.__s)),Lc(h.__s,B.getDerivedStateFromProps(y,h.__s))),p=h.props,g=h.state,h.__v=e,f)b&&B.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),b&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(b&&B.getDerivedStateFromProps==null&&y!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,A),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,A)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(W){W&&(W.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,A),b&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,g,m)})}if(h.context=A,h.props=y,h.__P=t,h.__e=!1,O=Fr.__r,N=0,b){for(h.state=h.__s,h.__d=!1,O&&O(e),u=h.render(h.props,h.state,h.context),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[]}else do h.__d=!1,O&&O(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++N<25);h.state=h.__s,h.getChildContext!=null&&(n=Lc(Lc({},n),h.getChildContext())),b&&!f&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(p,g)),T=u,u!=null&&u.type===W6&&u.key==null&&(T=TY(u.props.children)),a=$Y(t,z6(T)?T:[T],e,r,n,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),w&&(h.__E=h.__=null)}catch(W){if(e.__v=null,l||s!=null)if(W.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else{for(L=s.length;L--;)vS(s[L]);LC(e)}else e.__e=r.__e,e.__k=r.__k,W.then||LC(e);Fr.__e(W,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=S9e(r.__e,e,r,n,i,s,o,l,c);return(u=Fr.diffed)&&u(e),128&e.__u?void 0:a}function LC(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(LC)}function IY(t,e,r){for(var n=0;n<r.length;n++)xS(r[n],r[++n],r[++n]);Fr.__c&&Fr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Fr.__e(s,i.__v)}})}function TY(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:z6(t)?t.map(TY):Lc({},t)}function S9e(t,e,r,n,i,s,o,a,l){var c,u,h,f,p,g,m,w=r.props,y=e.props,b=e.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!b&&(b?p.localName==b:p.nodeType==3)){t=p,s[c]=null;break}}if(t==null){if(b==null)return document.createTextNode(y);t=document.createElementNS(i,b,y.is&&y),a&&(Fr.__m&&Fr.__m(e,s),a=!1),s=null}if(b==null)w===y||a&&t.data==y||(t.data=y);else{if(s=s&&U6.call(t.childNodes),w=r.props||nw,!a&&s!=null)for(w={},c=0;c<t.attributes.length;c++)w[(p=t.attributes[c]).name]=p.value;for(c in w)if(p=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;hv(t,c,null,p,i)}}for(c in y)p=y[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?g=p:c=="checked"?m=p:a&&typeof p!="function"||w[c]===p||hv(t,c,p,w[c],i);if(u)a||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),$Y(e.type=="template"?t.content:t,z6(f)?f:[f],e,r,n,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&Z0(r,0),a,l),s!=null)for(c=s.length;c--;)vS(s[c]);a||(c="value",b=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[c]||b=="progress"&&!g||b=="option"&&g!=w[c])&&hv(t,c,g,w[c],i),c="checked",m!=null&&m!=t[c]&&hv(t,c,m,w[c],i))}return t}function xS(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Fr.__e(i,r)}}function PY(t,e,r){var n,i;if(Fr.unmount&&Fr.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||xS(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Fr.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&PY(n[i],e,r||typeof t.type!="function");r||vS(t.__e),t.__c=t.__=t.__e=void 0}function I9e(t,e,r){return this.constructor(t,r)}function BC(t,e,r){var n,i,s,o;e==document&&(e=document.documentElement),Fr.__&&Fr.__(t,e),i=(n=!1)?null:e.__k,s=[],o=[],bS(e,t=e.__k=wr(W6,null,[t]),i||nw,nw,e.namespaceURI,i?null:e.firstChild?U6.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,o),IY(s,t,o)}U6=AY.slice,Fr={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},xY=0,wb.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Lc({},this.state),typeof t=="function"&&(t=t(Lc({},r),this.props)),t&&Lc(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),PR(this))},wb.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),PR(this))},wb.prototype.render=W6,wh=[],EY=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,CY=function(t,e){return t.__v.__b-e.__v.__b},j3.__r=0,_Y=/(PointerCapture)$|Capture$/i,wS=0,DC=OR(!1),FC=OR(!0);var M3,un,H8,RR,UC=0,NY=[],yn=Fr,jR=yn.__b,MR=yn.__r,DR=yn.diffed,FR=yn.__c,LR=yn.unmount,BR=yn.__;function OY(t,e){yn.__h&&yn.__h(un,t,UC||e),UC=0;var r=un.__H||(un.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function UR(t){return UC=1,T9e(RY,t)}function T9e(t,e,r){var n=OY(M3++,2);if(n.t=t,!n.__c&&(n.__=[RY(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=un,!un.__f)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=n.__c.props!==a;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),s&&s.call(this,a,l,c)||h};un.__f=!0;var s=un.shouldComponentUpdate,o=un.componentWillUpdate;un.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},un.shouldComponentUpdate=i}return n.__N||n.__}function P9e(t,e){var r=OY(M3++,3);!yn.__s&&R9e(r.__H,e)&&(r.__=t,r.u=e,un.__H.__h.push(r))}function N9e(){for(var t;t=NY.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(vb),t.__H.__h.forEach(zC),t.__H.__h=[]}catch(e){t.__H.__h=[],yn.__e(e,t.__v)}}yn.__b=function(t){un=null,jR&&jR(t)},yn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),BR&&BR(t,e)},yn.__r=function(t){MR&&MR(t),M3=0;var e=(un=t.__c).__H;e&&(H8===un?(e.__h=[],un.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(vb),e.__h.forEach(zC),e.__h=[],M3=0)),H8=un},yn.diffed=function(t){DR&&DR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(NY.push(e)!==1&&RR===yn.requestAnimationFrame||((RR=yn.requestAnimationFrame)||O9e)(N9e)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),H8=un=null},yn.__c=function(t,e){e.some(function(r){try{r.__h.forEach(vb),r.__h=r.__h.filter(function(n){return!n.__||zC(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],yn.__e(n,r.__v)}}),FR&&FR(t,e)},yn.unmount=function(t){LR&&LR(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{vb(n)}catch(i){e=i}}),r.__H=void 0,e&&yn.__e(e,r.__v))};var zR=typeof requestAnimationFrame=="function";function O9e(t){var e,r=function(){clearTimeout(n),zR&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);zR&&(e=requestAnimationFrame(r))}function vb(t){var e=un,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),un=e}function zC(t){var e=un;t.__c=t.__(),un=e}function R9e(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function RY(t,e){return typeof e=="function"?e(t):e}const j9e=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",M9e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",D9e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class jY{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=wY()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&BC(wr("div",null,wr(MY,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>wr(F9e,Object.assign({},r,{key:e}))))),this.root)}}const MY=t=>wr("div",{class:I1("-cbwsdk-snackbar-container")},wr("style",null,j9e),wr("div",{class:"-cbwsdk-snackbar"},t.children)),F9e=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=UR(!0),[s,o]=UR(t??!1);P9e(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return wr("div",{class:I1("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},wr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},wr("img",{src:M9e,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",wr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),wr("div",{class:"-gear-container"},!s&&wr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),wr("img",{src:D9e,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&wr("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((l,c)=>wr("div",{class:I1("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},wr("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wr("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),wr("span",{class:I1("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},DY="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class L9e{constructor(){this.attached=!1,this.snackbar=new jY}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,vY()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:DY,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}const B9e=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class U9e{constructor(){this.root=null,this.darkMode=wY()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),vY()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(BC(null,this.root),e&&BC(wr(z9e,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const z9e=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return wr(MY,{darkMode:r},wr("div",{class:"-cbwsdk-redirect-dialog"},wr("style",null,B9e),wr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),wr("div",{class:I1("-cbwsdk-redirect-dialog-box",s)},wr("p",null,t),wr("button",{onClick:n},e))))},W9e="https://keys.coinbase.com/connect",H9e="https://rpc.wallet.coinbase.com",WR="https://www.walletlink.org",q9e="https://go.cb-w.com/walletlink";class HR{constructor(){this.attached=!1,this.redirectDialog=new U9e}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(q9e);r.searchParams.append("redirect_url",E9e().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Nc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=C9e(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(MC);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Nc.accountRequestCallbackIds.size>0&&(Array.from(Nc.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),Nc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new b9e,this.ui=n,this.ui.attach()}subscribe(){const e=b0.load(this.storage)||b0.create(this.storage),{linkAPIUrl:r}=this,n=new v9e({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new HR:new L9e;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=b0.load(this.storage);(e==null?void 0:e.id)===this._session.id&&ec.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:dl(e.weiValue),data:k1(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?dl(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?dl(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?dl(e.gasPriceInWei):null,gasLimit:e.gasLimit?dl(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:dl(e.weiValue),data:k1(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?dl(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?dl(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?dl(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?dl(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:k1(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=mh(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r==null||r(),ri(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof HR)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){Nc.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),Nc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=mh(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(ri(a))return o(new Error(a.errorMessage));s(a)}),Nc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const c=mh(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),ri(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const c=mh(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l==null||l(),ri(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=mh(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i==null||i(),ri(c)&&c.errorCode)return l(tr.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ri(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,n)})}}Nc.accountRequestCallbackIds=new Set;const qR="DefaultChainId",VR="DefaultJsonRpcUrl";class FY{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new ec("walletlink",WR),this.callback=e.callback||null;const r=this._storage.getItem(MC);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>Iu(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(VR))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(VR,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(qR,r.toString(10)),$1(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",ld(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw tr.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw tr.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw tr.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw tr.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,c=await this.initializeRelay().watchAsset(r.type,i,s,a,o,n==null?void 0:n.toString());return ri(c)?!1:!!c.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw tr.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw tr.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw tr.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(ri(f))return!1;if(((n=f.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw tr.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(ri(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Iu(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(MC,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return ld(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw tr.rpc.internal("No RPC URL set for chain");return yS(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=Iu(e);if(!this._addresses.map(i=>Iu(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?Iu(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?Iu(e.to):null,i=e.value!=null?bm(e.value):BigInt(0),s=e.data?jC(e.data):Buffer.alloc(0),o=e.nonce!=null?$1(e.nonce):null,a=e.gasPrice!=null?bm(e.gasPrice):null,l=e.maxFeePerGas!=null?bm(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?bm(e.maxPriorityFeePerGas):null,u=e.gas!=null?bm(e.gas):null,h=e.chainId?$1(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw tr.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:L8(n[0]),signature:L8(n[1]),addPrefix:r==="personal_ecRecover"}});if(ri(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(qR))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:ld(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ri(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:ld(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw tr.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Iu(r),message:L8(n),addPrefix:!0,typedDataJson:null}});if(ri(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(ri(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=jC(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(ri(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(ri(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw tr.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:dv.hashForSignTypedDataLegacy,eth_signTypedData_v3:dv.hashForSignTypedData_v3,eth_signTypedData_v4:dv.hashForSignTypedData_v4,eth_signTypedData:dv.hashForSignTypedData_v4};return k1(u[r]({data:F8e(c)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],o=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Iu(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(ri(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Nc({linkAPIUrl:WR,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const LY="SignerType",BY=new ec("CBWSDK","SignerConfigurator");function V9e(){return BY.getItem(LY)}function G9e(t){BY.setItem(LY,t)}async function K9e(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;Z9e(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function Y9e(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new J8e({metadata:r,callback:i,communicator:n});case"walletlink":return new FY({metadata:r,callback:i})}}async function Z9e(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new FY({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const J9e=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Q9e=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(J9e)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:X9e,getCrossOriginOpenerPolicy:eEe}=Q9e(),GR=420,KR=540,tEe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:DY,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},rEe="Popup was blocked. Try again.";let fv=null;function nEe(t){const e=(window.innerWidth-GR)/2+window.screenX,r=(window.innerHeight-KR)/2+window.screenY;sEe(t);function n(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${GR}, height=${KR}, left=${e}, top=${r}`);return o==null||o.focus(),o||null}let i=n();if(!i){const s=oEe();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:rEe,menuItems:[Object.assign(Object.assign({},tEe),{onClick:()=>{i=n(),i?o(i):a(tr.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function iEe(t){t&&!t.closed&&t.close()}function sEe(t){const e={sdkName:aY,sdkVersion:Qw,origin:window.location.origin,coop:eEe()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}function oEe(){if(!fv){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),fv=new jY,fv.attach(t)}return fv}class aEe{constructor({url:e=W9e,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{iEe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(tr.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await nEe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Qw,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw tr.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function lEe(t){const e=O8e(cEe(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Qw),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function cEe(t){var e;if(typeof t=="string")return{message:t,code:sn.rpc.internal};if(ri(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?sn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class uEe extends Tf{}var dEe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class hEe extends uEe{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=dEe(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new aEe({url:i,metadata:r,preference:s});const o=V9e();o&&(this.signer=this.initSigner(o))}async request(e){try{if(Z8e(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,G9e(r);break}case"wallet_sendCalls":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const n=await r.request(e);return await r.cleanup(),n}case"wallet_getCallsStatus":return yS(e,H9e);case"net_version":return 1;case"eth_chainId":return ld(1);default:throw tr.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){const{code:n}=r;return n===sn.provider.unauthorized&&this.disconnect(),Promise.reject(lEe(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,ec.clearAll(),this.emit("disconnect",tr.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return K9e({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Y9e({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function fEe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function pEe(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=Y8e(r))!==null&&e!==void 0?e:new hEe(r)}const gEe={options:"all"};function YR(t){var e;new ec("CBWSDK").setItem("VERSION",Qw),X9e();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(gEe,(e=t.preference)!==null&&e!==void 0?e:{})};fEe(n.preference);let i=null;return{getProvider:()=>(i||(i=pEe(n)),i)}}let q8={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const mEe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let rp=t=>t!==void 0?BigInt(t):void 0;function UY(t){let e,{type:r=2,...n}=typeof t=="string"?JSON.parse(t):t;n.accessList&&Array.isArray(n.accessList)?e=n.accessList.map(c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c):n.accessList&&(e=Object.entries(n.accessList).map(c=>({address:c[0],storageKeys:c[1]})));let i=Number(n.chainId??1),s=Mi(n.data)?n.data:n.data?cn(Uint8Array.from(n.data)):void 0,o=n.nonce?Number(n.nonce):void 0,a={chainId:i,data:s,nonce:o,value:rp(n.value),gas:rp(n.gas??n.gasLimit)},l=Number(r);if(l===0)return{...n,type:q8[l],...a,gasPrice:rp(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...n,type:q8[l],...a,gasPrice:rp(n.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...n,type:q8[l],...a,nonce:o,accessList:e,maxFeePerGas:rp(n.maxFeePerGas),maxPriorityFeePerGas:rp(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}const yEe=({as:t="div",...e},r)=>d.jsx(t,{...e,ref:r}),wEe=x.forwardRef(yEe),vEe="https://challenges.cloudflare.com/turnstile/v0/api.js",D3="cf-turnstile-script",bEe="cf-turnstile",zY="onloadTurnstileCallback",F3=t=>!!document.getElementById(t),xEe=({render:t="explicit",onLoadCallbackName:e=zY,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||D3;if(F3(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${vEe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!n,u.async=!!i,r&&(u.nonce=r),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},hl={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function EEe(t){let e;return t!=="invisible"&&(e=t),e}function CEe(t=D3){const[e,r]=x.useState(!1);return x.useEffect(()=>{const n=()=>{F3(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const WY=x.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:g,as:m="div",injectScript:w=!0,...y}=t,b=n.size??"normal",[v,A]=x.useState(n.execution==="execute"?hl.invisible:n.appearance==="interaction-only"?hl.interactionOnly:hl[b]),E=x.useRef(null),O=x.useRef(!1),[N,R]=x.useState(),[T,L]=x.useState(!1),B=p??bEe,W=w?(r==null?void 0:r.id)||`${D3}__${B}`:(r==null?void 0:r.id)||D3,j=CEe(W),_=r!=null&&r.onLoadCallbackName?`${r.onLoadCallbackName}__${B}`:`${zY}__${B}`,C=x.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:EEe(b),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,o,l,a,b,c,u,h]),$=x.useMemo(()=>JSON.stringify(C),[C]);return x.useImperativeHandle(e,()=>{if(typeof window>"u"||!j)return;const{turnstile:P}=window;return{getResponse(){if(!(P!=null&&P.getResponse)||!N){console.warn("Turnstile has not been loaded");return}return P.getResponse(N)},reset(){if(!(P!=null&&P.reset)||!N){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&A(hl.invisible);try{P.reset(N)}catch(S){console.warn(`Failed to reset Turnstile widget ${N}`,S)}},remove(){if(!(P!=null&&P.remove)||!N){console.warn("Turnstile has not been loaded");return}R(""),A(hl.invisible),P.remove(N)},render(){if(!(P!=null&&P.render)||!E.current||N){console.warn("Turnstile has not been loaded or widget already rendered");return}const S=P.render(E.current,C);return R(S),n.execution!=="execute"&&A(hl[b]),S},execute(){if(n.execution==="execute"){if(!(P!=null&&P.execute)||!E.current||!N){console.warn("Turnstile has not been loaded or widget has not been rendered");return}P.execute(E.current,C),A(hl[b])}},isExpired(){if(!(P!=null&&P.isExpired)||!N){console.warn("Turnstile has not been loaded");return}return P.isExpired(N)}}},[j,N,n.execution,b,C,E]),x.useEffect(()=>(window[_]=()=>L(!0),()=>{delete window[_]}),[_]),x.useEffect(()=>{w&&!T&&xEe({onLoadCallbackName:_,scriptOptions:{...r,id:W}})},[w,T,_,r,W]),x.useEffect(()=>{j&&!T&&window.turnstile&&L(!0)},[T,j]),x.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!j||!E.current||!T||O.current)return;const P=window.turnstile.render(E.current,C);R(P),O.current=!0},[j,i,C,O,T]),x.useEffect(()=>{if(window.turnstile&&E.current&&N){F3(N)&&window.turnstile.remove(N);const P=window.turnstile.render(E.current,C);R(P),O.current=!0}},[$,i]),x.useEffect(()=>{if(window.turnstile&&N&&F3(N))return s==null||s(N),()=>{window.turnstile.remove(N)}},[N,s]),x.useEffect(()=>{A(n.execution==="execute"?hl.invisible:C.appearance==="interaction-only"?hl.interactionOnly:hl[b])},[n.execution,b,C.appearance]),x.useEffect(()=>{!j||typeof f!="function"||f()},[j,f]),d.jsx(wEe,{ref:E,as:m,id:B,style:{...v,...g},...y})});WY.displayName="Turnstile";var Oi=function(){return Oi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Oi.apply(this,arguments)};function J0(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Or="-ms-",T1="-moz-",lr="-webkit-",HY="comm",H6="rule",ES="decl",_Ee="@import",qY="@keyframes",AEe="@layer",VY=Math.abs,CS=String.fromCharCode,WC=Object.assign;function kEe(t,e){return zn(t,0)^45?(((e<<2^zn(t,0))<<2^zn(t,1))<<2^zn(t,2))<<2^zn(t,3):0}function GY(t){return t.trim()}function $c(t,e){return(t=e.exec(t))?t[0]:t}function Ot(t,e,r){return t.replace(e,r)}function bb(t,e,r){return t.indexOf(e,r)}function zn(t,e){return t.charCodeAt(e)|0}function Q0(t,e,r){return t.slice(e,r)}function Il(t){return t.length}function KY(t){return t.length}function e1(t,e){return e.push(t),t}function $Ee(t,e){return t.map(e).join("")}function ZR(t,e){return t.filter(function(r){return!$c(r,e)})}var q6=1,X0=1,YY=0,ta=0,xn=0,Rg="";function V6(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:q6,column:X0,length:o,return:"",siblings:a}}function zu(t,e){return WC(V6("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function np(t){for(;t.root;)t=zu(t.root,{children:[t]});e1(t,t.siblings)}function SEe(){return xn}function IEe(){return xn=ta>0?zn(Rg,--ta):0,X0--,xn===10&&(X0=1,q6--),xn}function Ua(){return xn=ta<YY?zn(Rg,ta++):0,X0++,xn===10&&(X0=1,q6++),xn}function zh(){return zn(Rg,ta)}function xb(){return ta}function G6(t,e){return Q0(Rg,t,e)}function HC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TEe(t){return q6=X0=1,YY=Il(Rg=t),ta=0,[]}function PEe(t){return Rg="",t}function V8(t){return GY(G6(ta-1,qC(t===91?t+2:t===40?t+1:t)))}function NEe(t){for(;(xn=zh())&&xn<33;)Ua();return HC(t)>2||HC(xn)>3?"":" "}function OEe(t,e){for(;--e&&Ua()&&!(xn<48||xn>102||xn>57&&xn<65||xn>70&&xn<97););return G6(t,xb()+(e<6&&zh()==32&&Ua()==32))}function qC(t){for(;Ua();)switch(xn){case t:return ta;case 34:case 39:t!==34&&t!==39&&qC(xn);break;case 40:t===41&&qC(t);break;case 92:Ua();break}return ta}function REe(t,e){for(;Ua()&&t+xn!==57;)if(t+xn===84&&zh()===47)break;return"/*"+G6(e,ta-1)+"*"+CS(t===47?t:Ua())}function jEe(t){for(;!HC(zh());)Ua();return G6(t,ta)}function MEe(t){return PEe(Eb("",null,null,null,[""],t=TEe(t),0,[0],t))}function Eb(t,e,r,n,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,g=0,m=1,w=1,y=1,b=0,v="",A=i,E=s,O=n,N=v;w;)switch(g=b,b=Ua()){case 40:if(g!=108&&zn(N,h-1)==58){bb(N+=Ot(V8(b),"&","&\f"),"&\f",VY(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:N+=V8(b);break;case 9:case 10:case 13:case 32:N+=NEe(g);break;case 92:N+=OEe(xb()-1,7);continue;case 47:switch(zh()){case 42:case 47:e1(DEe(REe(Ua(),xb()),e,r,l),l);break;default:N+="/"}break;case 123*m:a[c++]=Il(N)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+u:y==-1&&(N=Ot(N,/\f/g,"")),p>0&&Il(N)-h&&e1(p>32?QR(N+";",n,r,h-1,l):QR(Ot(N," ","")+";",n,r,h-2,l),l);break;case 59:N+=";";default:if(e1(O=JR(N,e,r,c,u,i,a,v,A=[],E=[],h,s),s),b===123)if(u===0)Eb(N,e,O,O,A,s,h,a,E);else switch(f===99&&zn(N,3)===110?100:f){case 100:case 108:case 109:case 115:Eb(t,O,O,n&&e1(JR(t,O,O,0,0,i,a,v,i,A=[],h,E),E),i,E,h,a,n?A:E);break;default:Eb(N,O,O,O,[""],E,0,a,E)}}c=u=p=0,m=y=1,v=N="",h=o;break;case 58:h=1+Il(N),p=g;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&IEe()==125)continue}switch(N+=CS(b),b*m){case 38:y=u>0?1:(N+="\f",-1);break;case 44:a[c++]=(Il(N)-1)*y,y=1;break;case 64:zh()===45&&(N+=V8(Ua())),f=zh(),u=h=Il(v=N+=jEe(xb())),b++;break;case 45:g===45&&Il(N)==2&&(m=0)}}return s}function JR(t,e,r,n,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],g=KY(p),m=0,w=0,y=0;m<n;++m)for(var b=0,v=Q0(t,f+1,f=VY(w=o[m])),A=t;b<g;++b)(A=GY(w>0?p[b]+" "+v:Ot(v,/&\f/g,p[b])))&&(l[y++]=A);return V6(t,e,r,i===0?H6:a,l,c,u,h)}function DEe(t,e,r,n){return V6(t,e,r,HY,CS(SEe()),Q0(t,2,-2),0,n)}function QR(t,e,r,n,i){return V6(t,e,r,ES,Q0(t,0,n),Q0(t,n+1,-1),n,i)}function ZY(t,e,r){switch(kEe(t,e)){case 5103:return lr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lr+t+t;case 4789:return T1+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lr+t+T1+t+Or+t+t;case 5936:switch(zn(t,e+11)){case 114:return lr+t+Or+Ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lr+t+Or+Ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lr+t+Or+Ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return lr+t+Or+t+t;case 6165:return lr+t+Or+"flex-"+t+t;case 5187:return lr+t+Ot(t,/(\w+).+(:[^]+)/,lr+"box-$1$2"+Or+"flex-$1$2")+t;case 5443:return lr+t+Or+"flex-item-"+Ot(t,/flex-|-self/g,"")+($c(t,/flex-|baseline/)?"":Or+"grid-row-"+Ot(t,/flex-|-self/g,""))+t;case 4675:return lr+t+Or+"flex-line-pack"+Ot(t,/align-content|flex-|-self/g,"")+t;case 5548:return lr+t+Or+Ot(t,"shrink","negative")+t;case 5292:return lr+t+Or+Ot(t,"basis","preferred-size")+t;case 6060:return lr+"box-"+Ot(t,"-grow","")+lr+t+Or+Ot(t,"grow","positive")+t;case 4554:return lr+Ot(t,/([^-])(transform)/g,"$1"+lr+"$2")+t;case 6187:return Ot(Ot(Ot(t,/(zoom-|grab)/,lr+"$1"),/(image-set)/,lr+"$1"),t,"")+t;case 5495:case 3959:return Ot(t,/(image-set\([^]*)/,lr+"$1$`$1");case 4968:return Ot(Ot(t,/(.+:)(flex-)?(.*)/,lr+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lr+t+t;case 4200:if(!$c(t,/flex-|baseline/))return Or+"grid-column-align"+Q0(t,e)+t;break;case 2592:case 3360:return Or+Ot(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,$c(n.props,/grid-\w+-end/)})?~bb(t+(r=r[e].value),"span",0)?t:Or+Ot(t,"-start","")+t+Or+"grid-row-span:"+(~bb(r,"span",0)?$c(r,/\d+/):+$c(r,/\d+/)-+$c(t,/\d+/))+";":Or+Ot(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return $c(n.props,/grid-\w+-start/)})?t:Or+Ot(Ot(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ot(t,/(.+)-inline(.+)/,lr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Il(t)-1-e>6)switch(zn(t,e+1)){case 109:if(zn(t,e+4)!==45)break;case 102:return Ot(t,/(.+:)(.+)-([^]+)/,"$1"+lr+"$2-$3$1"+T1+(zn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~bb(t,"stretch",0)?ZY(Ot(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ot(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,c){return Or+i+":"+s+c+(o?Or+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(zn(t,e+6)===121)return Ot(t,":",":"+lr)+t;break;case 6444:switch(zn(t,zn(t,14)===45?18:11)){case 120:return Ot(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+lr+(zn(t,14)===45?"inline-":"")+"box$3$1"+lr+"$2$3$1"+Or+"$2box$3")+t;case 100:return Ot(t,":",":"+Or)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ot(t,"scroll-","scroll-snap-")+t}return t}function L3(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function FEe(t,e,r,n){switch(t.type){case AEe:if(t.children.length)break;case _Ee:case ES:return t.return=t.return||t.value;case HY:return"";case qY:return t.return=t.value+"{"+L3(t.children,n)+"}";case H6:if(!Il(t.value=t.props.join(",")))return""}return Il(r=L3(t.children,n))?t.return=t.value+"{"+r+"}":""}function LEe(t){var e=KY(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function BEe(t){return function(e){e.root||(e=e.return)&&t(e)}}function UEe(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case ES:t.return=ZY(t.value,t.length,r);return;case qY:return L3([zu(t,{value:Ot(t.value,"@","@"+lr)})],n);case H6:if(t.length)return $Ee(r=t.props,function(i){switch($c(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":np(zu(t,{props:[Ot(i,/:(read-\w+)/,":"+T1+"$1")]})),np(zu(t,{props:[i]})),WC(t,{props:ZR(r,n)});break;case"::placeholder":np(zu(t,{props:[Ot(i,/:(plac\w+)/,":"+lr+"input-$1")]})),np(zu(t,{props:[Ot(i,/:(plac\w+)/,":"+T1+"$1")]})),np(zu(t,{props:[Ot(i,/:(plac\w+)/,Or+"input-$1")]})),np(zu(t,{props:[i]})),WC(t,{props:ZR(r,n)});break}return""})}}var zEe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zs={},eg=typeof process<"u"&&Zs!==void 0&&(Zs.REACT_APP_SC_ATTR||Zs.SC_ATTR)||"data-styled",JY="active",QY="data-styled-version",K6="6.1.19",_S=`/*!sc*/
`,B3=typeof window<"u"&&typeof document<"u",WEe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Zs!==void 0&&Zs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Zs.REACT_APP_SC_DISABLE_SPEEDY!==""?Zs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Zs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Zs!==void 0&&Zs.SC_DISABLE_SPEEDY!==void 0&&Zs.SC_DISABLE_SPEEDY!==""&&Zs.SC_DISABLE_SPEEDY!=="false"&&Zs.SC_DISABLE_SPEEDY),HEe={},Y6=Object.freeze([]),tg=Object.freeze({});function XY(t,e,r){return r===void 0&&(r=tg),t.theme!==r.theme&&t.theme||e||r.theme}var eZ=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qEe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,VEe=/(^-|-$)/g;function XR(t){return t.replace(qEe,"-").replace(VEe,"")}var GEe=/(a)(d)/gi,pv=52,ej=function(t){return String.fromCharCode(t+(t>25?39:97))};function VC(t){var e,r="";for(e=Math.abs(t);e>pv;e=e/pv|0)r=ej(e%pv)+r;return(ej(e%pv)+r).replace(GEe,"$1-$2")}var G8,tZ=5381,Yp=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},rZ=function(t){return Yp(tZ,t)};function AS(t){return VC(rZ(t)>>>0)}function KEe(t){return t.displayName||t.name||"Component"}function K8(t){return typeof t=="string"&&!0}var nZ=typeof Symbol=="function"&&Symbol.for,iZ=nZ?Symbol.for("react.memo"):60115,YEe=nZ?Symbol.for("react.forward_ref"):60112,ZEe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JEe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},QEe=((G8={})[YEe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G8[iZ]=sZ,G8);function tj(t){return("type"in(e=t)&&e.type.$$typeof)===iZ?sZ:"$$typeof"in t?QEe[t.$$typeof]:ZEe;var e}var XEe=Object.defineProperty,e7e=Object.getOwnPropertyNames,rj=Object.getOwnPropertySymbols,t7e=Object.getOwnPropertyDescriptor,r7e=Object.getPrototypeOf,nj=Object.prototype;function oZ(t,e,r){if(typeof e!="string"){if(nj){var n=r7e(e);n&&n!==nj&&oZ(t,n,r)}var i=e7e(e);rj&&(i=i.concat(rj(e)));for(var s=tj(t),o=tj(e),a=0;a<i.length;++a){var l=i[a];if(!(l in JEe||r&&r[l]||o&&l in o||s&&l in s)){var c=t7e(e,l);try{XEe(t,l,c)}catch{}}}}return t}function rg(t){return typeof t=="function"}function kS(t){return typeof t=="object"&&"styledComponentId"in t}function Ih(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function U3(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function iw(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function GC(t,e,r){if(r===void 0&&(r=!1),!r&&!iw(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=GC(t[n],e[n]);else if(iw(e))for(var n in e)t[n]=GC(t[n],e[n]);return t}function $S(t,e){Object.defineProperty(t,"toString",{value:e})}function Xw(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var n7e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw Xw(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(_S);return r},t}(),Cb=new Map,z3=new Map,_b=1,gv=function(t){if(Cb.has(t))return Cb.get(t);for(;z3.has(_b);)_b++;var e=_b++;return Cb.set(t,e),z3.set(e,t),e},i7e=function(t,e){_b=e+1,Cb.set(t,e),z3.set(e,t)},s7e="style[".concat(eg,"][").concat(QY,'="').concat(K6,'"]'),o7e=new RegExp("^".concat(eg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),a7e=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},l7e=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(_S),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(o7e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(i7e(u,c),a7e(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},ij=function(t){for(var e=document.querySelectorAll(s7e),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(eg)!==JY&&(l7e(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function c7e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var aZ=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(eg,"]")));return l[l.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(eg,JY),n.setAttribute(QY,K6);var o=c7e();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},u7e=function(){function t(e){this.element=aZ(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw Xw(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),d7e=function(){function t(e){this.element=aZ(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),h7e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),sj=B3,f7e={isServer:!B3,useCSSOMInjection:!WEe},W3=function(){function t(e,r,n){e===void 0&&(e=tg),r===void 0&&(r={});var i=this;this.options=Oi(Oi({},f7e),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&B3&&sj&&(sj=!1,ij(this)),$S(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(y){return z3.get(y)}(h);if(f===void 0)return"continue";var p=s.names.get(f),g=o.getGroup(h);if(p===void 0||!p.size||g.length===0)return"continue";var m="".concat(eg,".g").concat(h,'[id="').concat(f,'"]'),w="";p!==void 0&&p.forEach(function(y){y.length>0&&(w+="".concat(y,","))}),l+="".concat(g).concat(m,'{content:"').concat(w,'"}').concat(_S)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return gv(e)},t.prototype.rehydrate=function(){!this.server&&B3&&ij(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Oi(Oi({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new h7e(i):n?new u7e(i):new d7e(i)}(this.options),new n7e(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(gv(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(gv(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(gv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),p7e=/&/g,g7e=/^\s*\/\/.*$/gm;function lZ(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=lZ(r.children,e)),r})}function m7e(t){var e,r,n,i=tg,s=i.options,o=s===void 0?tg:s,a=i.plugins,l=a===void 0?Y6:a,c=function(f,p,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===H6&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(p7e,r).replace(n,c))}),o.prefix&&u.push(UEe),u.push(FEe);var h=function(f,p,g,m){p===void 0&&(p=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var w=f.replace(g7e,""),y=MEe(g||p?"".concat(g," ").concat(p," { ").concat(w," }"):w);o.namespace&&(y=lZ(y,o.namespace));var b=[];return L3(y,LEe(u.concat(BEe(function(v){return b.push(v)})))),b};return h.hash=l.length?l.reduce(function(f,p){return p.name||Xw(15),Yp(f,p.name)},tZ).toString():"",h}var y7e=new W3,KC=m7e(),cZ=Pe.createContext({shouldForwardProp:void 0,styleSheet:y7e,stylis:KC});cZ.Consumer;Pe.createContext(void 0);function YC(){return x.useContext(cZ)}var uZ=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=KC);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,$S(this,function(){throw Xw(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=KC),this.name+e.hash},t}(),w7e=function(t){return t>="A"&&t<="Z"};function oj(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;w7e(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var dZ=function(t){return t==null||t===!1||t===""},hZ=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!dZ(s)&&(Array.isArray(s)&&s.isCss||rg(s)?n.push("".concat(oj(i),":"),s,";"):iw(s)?n.push.apply(n,J0(J0(["".concat(i," {")],hZ(s),!1),["}"],!1)):n.push("".concat(oj(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in zEe||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Ed(t,e,r,n){if(dZ(t))return[];if(kS(t))return[".".concat(t.styledComponentId)];if(rg(t)){if(!rg(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ed(i,e,r,n)}var s;return t instanceof uZ?r?(t.inject(r,n),[t.getName(n)]):[t]:iw(t)?hZ(t):Array.isArray(t)?Array.prototype.concat.apply(Y6,t.map(function(o){return Ed(o,e,r,n)})):[t.toString()]}function fZ(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(rg(r)&&!kS(r))return!1}return!0}var v7e=rZ(K6),b7e=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&fZ(e),this.componentId=r,this.baseHash=Yp(v7e,r),this.baseStyle=n,W3.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=Ih(i,this.staticRulesId);else{var s=U3(Ed(this.rules,e,r,n)),o=VC(Yp(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=Ih(i,o),this.staticRulesId=o}else{for(var l=Yp(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=U3(Ed(h,e,r,n));l=Yp(l,f+u),c+=f}}if(c){var p=VC(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(c,".".concat(p),void 0,this.componentId)),i=Ih(i,p)}}return i},t}(),SS=Pe.createContext(void 0);SS.Consumer;var Y8={};function x7e(t,e,r){var n=kS(t),i=t,s=!K8(t),o=e.attrs,a=o===void 0?Y6:o,l=e.componentId,c=l===void 0?function(A,E){var O=typeof A!="string"?"sc":XR(A);Y8[O]=(Y8[O]||0)+1;var N="".concat(O,"-").concat(AS(K6+O+Y8[O]));return E?"".concat(E,"-").concat(N):N}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(A){return K8(A)?"styled.".concat(A):"Styled(".concat(KEe(A),")")}(t):u,f=e.displayName&&e.componentId?"".concat(XR(e.displayName),"-").concat(e.componentId):e.componentId||c,p=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(n&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;g=function(A,E){return m(A,E)&&w(A,E)}}else g=m}var y=new b7e(r,f,n?i.componentStyle:void 0);function b(A,E){return function(O,N,R){var T=O.attrs,L=O.componentStyle,B=O.defaultProps,W=O.foldedComponentIds,j=O.styledComponentId,_=O.target,C=Pe.useContext(SS),$=YC(),P=O.shouldForwardProp||$.shouldForwardProp,S=XY(N,C,B)||tg,I=function(M,G,Z){for(var K,re=Oi(Oi({},G),{className:void 0,theme:Z}),le=0;le<M.length;le+=1){var ne=rg(K=M[le])?K(re):K;for(var ae in ne)re[ae]=ae==="className"?Ih(re[ae],ne[ae]):ae==="style"?Oi(Oi({},re[ae]),ne[ae]):ne[ae]}return G.className&&(re.className=Ih(re.className,G.className)),re}(T,N,S),D=I.as||_,F={};for(var k in I)I[k]===void 0||k[0]==="$"||k==="as"||k==="theme"&&I.theme===S||(k==="forwardedAs"?F.as=I.forwardedAs:P&&!P(k,D)||(F[k]=I[k]));var z=function(M,G){var Z=YC(),K=M.generateAndInjectStyles(G,Z.styleSheet,Z.stylis);return K}(L,I),V=Ih(W,j);return z&&(V+=" "+z),I.className&&(V+=" "+I.className),F[K8(D)&&!eZ.has(D)?"class":"className"]=V,R&&(F.ref=R),x.createElement(D,F)}(v,A,E)}b.displayName=h;var v=Pe.forwardRef(b);return v.attrs=p,v.componentStyle=y,v.displayName=h,v.shouldForwardProp=g,v.foldedComponentIds=n?Ih(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=f,v.target=n?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=n?function(E){for(var O=[],N=1;N<arguments.length;N++)O[N-1]=arguments[N];for(var R=0,T=O;R<T.length;R++)GC(E,T[R],!0);return E}({},i.defaultProps,A):A}}),$S(v,function(){return".".concat(v.styledComponentId)}),s&&oZ(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function aj(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var lj=function(t){return Object.assign(t,{isCss:!0})};function jn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(rg(t)||iw(t))return lj(Ed(aj(Y6,J0([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Ed(n):lj(Ed(aj(n,e)))}function ZC(t,e,r){if(r===void 0&&(r=tg),!e)throw Xw(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,jn.apply(void 0,J0([i],s,!1)))};return n.attrs=function(i){return ZC(t,e,Oi(Oi({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return ZC(t,e,Oi(Oi({},r),i))},n}var pZ=function(t){return ZC(x7e,t)},q=pZ;eZ.forEach(function(t){q[t]=pZ(t)});var E7e=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=fZ(e),W3.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(U3(Ed(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&W3.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function C7e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=jn.apply(void 0,J0([t],e,!1)),i="sc-global-".concat(AS(JSON.stringify(n))),s=new E7e(n,i),o=function(l){var c=YC(),u=Pe.useContext(SS),h=Pe.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),Pe.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,HEe,u,f);else{var p=Oi(Oi({},c),{theme:XY(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return Pe.memo(o)}function gZ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=U3(jn.apply(void 0,J0([t],e,!1))),i=AS(n);return new uZ(i,n)}function H3(t){"@babel/helpers - typeof";return H3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H3(t)}var _7e=/^\s+/,A7e=/\s+$/;function Ge(t,e){if(t=t||"",e=e||{},t instanceof Ge)return t;if(!(this instanceof Ge))return new Ge(t,e);var r=k7e(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Ge.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,o,a;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=mZ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=uj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=uj(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=cj(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=cj(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return dj(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return T7e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zr(this._r,255)*100)+"%",g:Math.round(zr(this._g,255)*100)+"%",b:Math.round(zr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%)":"rgba("+Math.round(zr(this._r,255)*100)+"%, "+Math.round(zr(this._g,255)*100)+"%, "+Math.round(zr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z7e[dj(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+hj(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ge(e);n="#"+hj(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Ge(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(R7e,arguments)},brighten:function(){return this._applyModification(j7e,arguments)},darken:function(){return this._applyModification(M7e,arguments)},desaturate:function(){return this._applyModification(P7e,arguments)},saturate:function(){return this._applyModification(N7e,arguments)},greyscale:function(){return this._applyModification(O7e,arguments)},spin:function(){return this._applyModification(D7e,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(B7e,arguments)},complement:function(){return this._applyCombination(F7e,arguments)},monochromatic:function(){return this._applyCombination(U7e,arguments)},splitcomplement:function(){return this._applyCombination(L7e,arguments)},triad:function(){return this._applyCombination(fj,[3])},tetrad:function(){return this._applyCombination(fj,[4])}};Ge.fromRatio=function(t,e){if(H3(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=t1(t[n]));t=r}return Ge(t,e)};function k7e(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=V7e(t)),H3(t)=="object"&&(pc(t.r)&&pc(t.g)&&pc(t.b)?(e=$7e(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):pc(t.h)&&pc(t.s)&&pc(t.v)?(n=t1(t.s),i=t1(t.v),e=I7e(t.h,n,i),o=!0,a="hsv"):pc(t.h)&&pc(t.s)&&pc(t.l)&&(n=t1(t.s),s=t1(t.l),e=S7e(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=mZ(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function $7e(t,e,r){return{r:zr(t,255)*255,g:zr(e,255)*255,b:zr(r,255)*255}}function cj(t,e,r){t=zr(t,255),e=zr(e,255),r=zr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=(n+i)/2;if(n==i)s=o=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function S7e(t,e,r){var n,i,s;t=zr(t,360),e=zr(e,100),r=zr(r,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function uj(t,e,r){t=zr(t,255),e=zr(e,255),r=zr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=n,l=n-i;if(o=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function I7e(t,e,r){t=zr(t,360)*6,e=zr(e,100),r=zr(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,c=[r,o,s,s,a,r][l],u=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:c*255,g:u*255,b:h*255}}function dj(t,e,r,n){var i=[Da(Math.round(t).toString(16)),Da(Math.round(e).toString(16)),Da(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function T7e(t,e,r,n,i){var s=[Da(Math.round(t).toString(16)),Da(Math.round(e).toString(16)),Da(Math.round(r).toString(16)),Da(yZ(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function hj(t,e,r,n){var i=[Da(yZ(n)),Da(Math.round(t).toString(16)),Da(Math.round(e).toString(16)),Da(Math.round(r).toString(16))];return i.join("")}Ge.equals=function(t,e){return!t||!e?!1:Ge(t).toRgbString()==Ge(e).toRgbString()};Ge.random=function(){return Ge.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function P7e(t,e){e=e===0?0:e||10;var r=Ge(t).toHsl();return r.s-=e/100,r.s=Z6(r.s),Ge(r)}function N7e(t,e){e=e===0?0:e||10;var r=Ge(t).toHsl();return r.s+=e/100,r.s=Z6(r.s),Ge(r)}function O7e(t){return Ge(t).desaturate(100)}function R7e(t,e){e=e===0?0:e||10;var r=Ge(t).toHsl();return r.l+=e/100,r.l=Z6(r.l),Ge(r)}function j7e(t,e){e=e===0?0:e||10;var r=Ge(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Ge(r)}function M7e(t,e){e=e===0?0:e||10;var r=Ge(t).toHsl();return r.l-=e/100,r.l=Z6(r.l),Ge(r)}function D7e(t,e){var r=Ge(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Ge(r)}function F7e(t){var e=Ge(t).toHsl();return e.h=(e.h+180)%360,Ge(e)}function fj(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ge(t).toHsl(),n=[Ge(t)],i=360/e,s=1;s<e;s++)n.push(Ge({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function L7e(t){var e=Ge(t).toHsl(),r=e.h;return[Ge(t),Ge({h:(r+72)%360,s:e.s,l:e.l}),Ge({h:(r+216)%360,s:e.s,l:e.l})]}function B7e(t,e,r){e=e||6,r=r||30;var n=Ge(t).toHsl(),i=360/r,s=[Ge(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(Ge(n));return s}function U7e(t,e){e=e||6;for(var r=Ge(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(Ge({h:n,s:i,v:s})),s=(s+a)%1;return o}Ge.mix=function(t,e,r){r=r===0?0:r||50;var n=Ge(t).toRgb(),i=Ge(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return Ge(o)};Ge.readability=function(t,e){var r=Ge(t),n=Ge(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Ge.isReadable=function(t,e,r){var n=Ge.readability(t,e),i,s;switch(s=!1,i=G7e(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};Ge.mostReadable=function(t,e,r){var n=null,i=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var c=0;c<e.length;c++)s=Ge.readability(t,e[c]),s>i&&(i=s,n=Ge(e[c]));return Ge.isReadable(t,n,{level:a,size:l})||!o?n:(r.includeFallbackColors=!1,Ge.mostReadable(t,["#fff","#000"],r))};var JC=Ge.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z7e=Ge.hexNames=W7e(JC);function W7e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function mZ(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zr(t,e){H7e(t)&&(t="100%");var r=q7e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Z6(t){return Math.min(1,Math.max(0,t))}function Gs(t){return parseInt(t,16)}function H7e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function q7e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Da(t){return t.length==1?"0"+t:""+t}function t1(t){return t<=1&&(t=t*100+"%"),t}function yZ(t){return Math.round(parseFloat(t)*255).toString(16)}function pj(t){return Gs(t)/255}var Ca=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function pc(t){return!!Ca.CSS_UNIT.exec(t)}function V7e(t){t=t.replace(_7e,"").replace(A7e,"").toLowerCase();var e=!1;if(JC[t])t=JC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Ca.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Ca.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ca.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Ca.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ca.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Ca.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ca.hex8.exec(t))?{r:Gs(r[1]),g:Gs(r[2]),b:Gs(r[3]),a:pj(r[4]),format:e?"name":"hex8"}:(r=Ca.hex6.exec(t))?{r:Gs(r[1]),g:Gs(r[2]),b:Gs(r[3]),format:e?"name":"hex"}:(r=Ca.hex4.exec(t))?{r:Gs(r[1]+""+r[1]),g:Gs(r[2]+""+r[2]),b:Gs(r[3]+""+r[3]),a:pj(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Ca.hex3.exec(t))?{r:Gs(r[1]+""+r[1]),g:Gs(r[2]+""+r[2]),b:Gs(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function G7e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function K7e({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const J6=x.forwardRef(K7e);function Y7e({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const IS=x.forwardRef(Y7e);function Z7e({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Pd=x.forwardRef(Z7e);function J7e({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const uf=x.forwardRef(J7e);function Q7e({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const X7e=x.forwardRef(Q7e);function eCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const tCe=x.forwardRef(eCe);function rCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const x0=x.forwardRef(rCe);function nCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const iCe=x.forwardRef(nCe);function sCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const oCe=x.forwardRef(sCe);function aCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Nf=x.forwardRef(aCe);function lCe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Q6=x.forwardRef(lCe),gj=t=>{let e;const r=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,a);return a},cCe=t=>t?gj(t):gj,uCe=t=>t;function dCe(t,e=uCe){const r=Pe.useSyncExternalStore(t.subscribe,Pe.useCallback(()=>e(t.getState()),[t,e]),Pe.useCallback(()=>e(t.getInitialState()),[t,e]));return Pe.useDebugValue(r),r}const mj=t=>{const e=cCe(t),r=n=>dCe(e,n);return Object.assign(r,e),r},jg=t=>t?mj(t):mj,wZ=typeof document<"u"?Pe.useLayoutEffect:()=>{};var Z8;const hCe=(Z8=Pe.useInsertionEffect)!==null&&Z8!==void 0?Z8:wZ;function fCe(t){const e=x.useRef(null);return hCe(()=>{e.current=t},[t]),x.useCallback((...r)=>{const n=e.current;return n==null?void 0:n(...r)},[])}const Gd=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Th=t=>t&&"window"in t&&t.window===t?t:Gd(t).defaultView||window;function pCe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function gCe(t){return pCe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let mCe=!1;function TS(){return mCe}function vZ(t,e){if(!TS())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:gCe(r)?r=r.host:r=r.parentNode}return!1}const QC=(t=document)=>{var e;if(!TS())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function bZ(t){return TS()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function yCe(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function wCe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function xZ(t){let e=null;return()=>(e==null&&(e=t()),e)}const vCe=xZ(function(){return wCe(/^Mac/i)}),bCe=xZ(function(){return yCe(/Android/i)});function EZ(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),r=x.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),n=x.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function xCe(t){return t.pointerType===""&&t.isTrusted?!0:bCe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function CZ(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function ECe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function _Z(t){let e=x.useRef({isFocused:!1,observer:null});wZ(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=fCe(n=>{t==null||t(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=CZ(o);r(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let CCe=!1,e2=null,XC=new Set,P1=new Map,df=!1,e_=!1;const _Ce={Tab:!0,Escape:!0};function PS(t,e){for(let r of XC)r(t,e)}function ACe(t){return!(t.metaKey||!vCe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function q3(t){df=!0,ACe(t)&&(e2="keyboard",PS("keyboard",t))}function E0(t){e2="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(df=!0,PS("pointer",t))}function AZ(t){xCe(t)&&(df=!0,e2="virtual")}function kZ(t){t.target===window||t.target===document||CCe||!t.isTrusted||(!df&&!e_&&(e2="virtual",PS("virtual",t)),df=!1,e_=!1)}function $Z(){df=!1,e_=!0}function t_(t){if(typeof window>"u"||typeof document>"u"||P1.get(Th(t)))return;const e=Th(t),r=Gd(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){df=!0,n.apply(this,arguments)},r.addEventListener("keydown",q3,!0),r.addEventListener("keyup",q3,!0),r.addEventListener("click",AZ,!0),e.addEventListener("focus",kZ,!0),e.addEventListener("blur",$Z,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",E0,!0),r.addEventListener("pointermove",E0,!0),r.addEventListener("pointerup",E0,!0)),e.addEventListener("beforeunload",()=>{SZ(t)},{once:!0}),P1.set(e,{focus:n})}const SZ=(t,e)=>{const r=Th(t),n=Gd(t);e&&n.removeEventListener("DOMContentLoaded",e),P1.has(r)&&(r.HTMLElement.prototype.focus=P1.get(r).focus,n.removeEventListener("keydown",q3,!0),n.removeEventListener("keyup",q3,!0),n.removeEventListener("click",AZ,!0),r.removeEventListener("focus",kZ,!0),r.removeEventListener("blur",$Z,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",E0,!0),n.removeEventListener("pointermove",E0,!0),n.removeEventListener("pointerup",E0,!0)),P1.delete(r))};function kCe(t){const e=Gd(t);let r;return e.readyState!=="loading"?t_(t):(r=()=>{t_(t)},e.addEventListener("DOMContentLoaded",r)),()=>SZ(t,r)}typeof document<"u"&&kCe();function IZ(){return e2!=="pointer"}const $Ce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function SCe(t,e,r){let n=Gd(r==null?void 0:r.target);const i=typeof window<"u"?Th(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Th(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Th(r==null?void 0:r.target).HTMLElement:HTMLElement,a=typeof window<"u"?Th(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!$Ce.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof a&&!_Ce[r.key])}function ICe(t,e,r){t_(),x.useEffect(()=>{let n=(i,s)=>{SCe(!!(r!=null&&r.isTextInput),i,s)&&t(IZ())};return XC.add(n),()=>{XC.delete(n)}},e)}function TCe(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),o=_Z(s),a=x.useCallback(l=>{const c=Gd(l.target),u=c?QC(c):QC();l.target===l.currentTarget&&u===bZ(l.nativeEvent)&&(r&&r(l),i&&i(!0),o(l))},[i,r,o]);return{focusProps:{onFocus:!e&&(r||i||n)?a:void 0,onBlur:!e&&(n||i)?s:void 0}}}function PCe(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=EZ(),l=x.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),r&&r(h),i&&i(!1))},[r,i,s,a]),c=_Z(l),u=x.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=Gd(h.target),p=QC(f);if(!s.current.isFocusWithin&&p===bZ(h.nativeEvent)){n&&n(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let g=h.currentTarget;o(f,"focus",m=>{if(s.current.isFocusWithin&&!vZ(g,m.target)){let w=new f.defaultView.FocusEvent("blur",{relatedTarget:m.target});ECe(w,g);let y=CZ(w);l(y)}},{capture:!0})}},[n,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let r_=!1,mv=0;function NCe(){r_=!0,setTimeout(()=>{r_=!1},50)}function yj(t){t.pointerType==="touch"&&NCe()}function OCe(){if(!(typeof document>"u"))return mv===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",yj),mv++,()=>{mv--,!(mv>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",yj)}}function RCe(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(OCe,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=EZ(),{hoverProps:u,triggerHoverEnd:h}=x.useMemo(()=>{let f=(m,w)=>{if(a.pointerType=w,i||w==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let y=m.currentTarget;a.target=y,l(Gd(m.target),"pointerover",b=>{a.isHovered&&a.target&&!vZ(a.target,b.target)&&p(b,b.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:w}),r&&r(!0),o(!0)},p=(m,w)=>{let y=a.target;a.pointerType="",a.target=null,!(w==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,c(),n&&n({type:"hoverend",target:y,pointerType:w}),r&&r(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{r_&&m.pointerType==="mouse"||f(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&p(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[e,r,n,i,a,l,c]);return x.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function jCe(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||IZ()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=x.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);ICe(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:h}=TCe({isDisabled:n,onFocusChange:u}),{focusWithinProps:f}=PCe({isDisabled:!n,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:n?f:h}}var MCe=Object.defineProperty,DCe=(t,e,r)=>e in t?MCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,J8=(t,e,r)=>(DCe(t,typeof e!="symbol"?e+"":e,r),r);let FCe=class{constructor(){J8(this,"current",this.detect()),J8(this,"handoffState","pending"),J8(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Wl=new FCe;function Of(t){var e;return Wl.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function V3(t){var e,r;return Wl.isServer?null:t==null?document:(r=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?r:document}function NS(t){var e,r;return(r=(e=V3(t))==null?void 0:e.activeElement)!=null?r:null}function TZ(t){return NS(t)===t}function X6(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Us(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return X6(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Us();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function Rf(){let[t]=x.useState(Us);return x.useEffect(()=>()=>t.dispose(),[t]),t}let Lr=(t,e)=>{Wl.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function jf(t){let e=x.useRef(t);return Lr(()=>{e.current=t},[t]),e}let mt=function(t){let e=jf(t);return Pe.useCallback((...r)=>e.current(...r),[e])};function LCe(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function BCe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function UCe({disabled:t=!1}={}){let e=x.useRef(null),[r,n]=x.useState(!1),i=Rf(),s=mt(()=>{e.current=null,n(!1),i.dispose()}),o=mt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,n(!0);{let l=Of(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=LCe(c);n(BCe(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function oc(t){return x.useMemo(()=>t,Object.values(t))}let zCe=x.createContext(void 0);function PZ(){return x.useContext(zCe)}function n_(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function el(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,el),n}var ng=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ng||{}),cd=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(cd||{});function Cn(){let t=HCe();return x.useCallback(e=>WCe({mergeRefs:t,...e}),[t])}function WCe({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??qCe;let l=NZ(e,t);if(s)return yv(l,r,n,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return yv(h,r,n,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return el(u?0:1,{0(){return null},1(){return yv({...h,hidden:!0,style:{display:"none"}},r,n,o,a)}})}return yv(l,r,n,o,a)}function yv(t,e={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=Q8(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[g,m]of Object.entries(e))typeof m=="boolean"&&(f=!0),m===!0&&p.push(g.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let g of p)h[`data-${g}`]=""}}if(N1(s)&&(Object.keys(hh(l)).length>0||Object.keys(hh(h)).length>0))if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1||GCe(u)){if(Object.keys(hh(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(hh(l)).concat(Object.keys(hh(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...y)=>n_(p(...y),l.className):n_(p,l.className),m=g?{className:g}:{},w=NZ(u.props,hh(Q8(l,["ref"])));for(let y in h)y in w&&delete h[y];return x.cloneElement(u,Object.assign({},w,h,c,{ref:i(VCe(u),c.ref)},m))}return x.createElement(s,Object.assign({},Q8(l,["ref"]),!N1(s)&&c,!N1(s)&&h),u)}function HCe(){let t=x.useRef([]),e=x.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function qCe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function NZ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function OZ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let o of s)o==null||o(...i)}});return e}function rn(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function hh(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function Q8(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function VCe(t){return Pe.version.split(".")[0]>="19"?t.props.ref:t.ref}function N1(t){return t===x.Fragment||t===Symbol.for("react.fragment")}function GCe(t){return N1(t.type)}let KCe="span";var G3=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(G3||{});function YCe(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Cn()({ourProps:s,theirProps:i,slot:{},defaultTag:KCe,name:"Hidden"})}let i_=rn(YCe),ZCe=x.createContext(void 0);function JCe(){return x.useContext(ZCe)}function RZ(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function qc(t){return RZ(t)&&"tagName"in t}function fo(t){return qc(t)&&"accessKey"in t}function Rl(t){return qc(t)&&"tabIndex"in t}function QCe(t){return qc(t)&&"style"in t}function XCe(t){return fo(t)&&t.nodeName==="IFRAME"}function jZ(t){return fo(t)&&t.nodeName==="INPUT"}function wj(t){return fo(t)&&t.nodeName==="LABEL"}function e_e(t){return fo(t)&&t.nodeName==="FIELDSET"}function MZ(t){return fo(t)&&t.nodeName==="LEGEND"}function t_e(t){return qc(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function vj(t){let e=t.parentElement,r=null;for(;e&&!e_e(e);)MZ(e)&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&r_e(r)?!1:n}function r_e(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(MZ(e))return!1;e=e.previousElementSibling}return!0}let DZ=Symbol();function n_e(t,e=!0){return Object.assign(t,{[DZ]:e})}function as(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let r=mt(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[DZ]))?void 0:r}let OS=x.createContext(null);OS.displayName="DescriptionContext";function FZ(){let t=x.useContext(OS);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,FZ),e}return t}function LZ(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(r){let n=mt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Pe.createElement(OS.Provider,{value:i},r.children)},[e])]}let i_e="p";function s_e(t,e){let r=x.useId(),n=PZ(),{id:i=`headlessui-description-${r}`,...s}=t,o=FZ(),a=as(e);Lr(()=>o.register(i),[i,o.register]);let l=oc({...o.slot,disabled:n||!1}),c={ref:a,...o.props,id:i};return Cn()({ourProps:c,theirProps:s,slot:l,defaultTag:i_e,name:o.name||"Description"})}let o_e=rn(s_e),a_e=Object.assign(o_e,{});var Bn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Bn||{});let e4=x.createContext(null);e4.displayName="LabelContext";function RS(){let t=x.useContext(e4);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RS),e}return t}function l_e(t){var e,r,n;let i=(r=(e=x.useContext(e4))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function BZ({inherit:t=!1}={}){let e=l_e(),[r,n]=x.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,x.useMemo(()=>function(s){let o=mt(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=x.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Pe.createElement(e4.Provider,{value:a},s.children)},[n])]}let c_e="label";function u_e(t,e){var r;let n=x.useId(),i=RS(),s=JCe(),o=PZ(),{id:a=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=t,h=as(e);Lr(()=>i.register(a),[a,i.register]);let f=mt(m=>{let w=m.currentTarget;if(!(m.target!==m.currentTarget&&t_e(m.target))&&(wj(w)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),wj(w))){let y=document.getElementById(w.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let v=y.getAttribute("aria-disabled");if(v==="true"||v==="")return;(jZ(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=oc({...i.slot,disabled:o||!1}),g={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in u&&delete u.onClick),Cn()({ourProps:g,theirProps:u,slot:p,defaultTag:l?c_e:"div",name:i.name||"Label"})}let d_e=rn(u_e);Object.assign(d_e,{});let h_e=x.createContext(()=>{});function f_e({value:t,children:e}){return Pe.createElement(h_e.Provider,{value:t},e)}function ip(t,e,r){let n=r.initialDeps??[],i;function s(){var o,a,l,c;let u;r.key&&((o=r.debug)!=null&&o.call(r))&&(u=Date.now());const h=t();if(!(h.length!==n.length||h.some((g,m)=>n[m]!==g)))return i;n=h;let p;if(r.key&&((a=r.debug)!=null&&a.call(r))&&(p=Date.now()),i=e(...h),r.key&&((l=r.debug)!=null&&l.call(r))){const g=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-p)*100)/100,w=m/16,y=(b,v)=>{for(b=String(b);b.length<v;)b=" "+b;return b};console.info(`%c ${y(m,5)} /${y(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(c=r==null?void 0:r.onChange)==null||c.call(r,i),i}return s.updateDeps=o=>{n=o},s}function bj(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const p_e=(t,e)=>Math.abs(t-e)<1.01,g_e=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},xj=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},m_e=t=>t,y_e=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},w_e=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(xj(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(xj(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},Ej={passive:!0},Cj=typeof window>"u"?!0:"onscrollend"in window,v_e=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=t.options.useScrollendEvent&&Cj?()=>{}:g_e(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?r.scrollLeft*(f&&-1||1):r.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);l(),r.addEventListener("scroll",a,Ej);const c=t.options.useScrollendEvent&&Cj;return c&&r.addEventListener("scrollend",l,Ej),()=>{r.removeEventListener("scroll",a),c&&r.removeEventListener("scrollend",l)}},b_e=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},x_e=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const o=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class E_e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:m_e,rangeExtractor:y_e,onChange:()=>{},measureElement:b_e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=ip(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let o=n-1;o>=0;o--){const a=r[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=ip(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=ip(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<r;u++){const h=s(u),f=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=f?f.end+this.options.gap:n+i,g=a.get(h),m=typeof g=="number"?g:this.options.estimateSize(u),w=p+m,y=f?f.lane:u%this.options.lanes;c[u]={index:u,start:p,size:m,end:w,key:h,lane:y}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ip(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,s)=>this.range=r.length>0&&n>0?C_e({measurements:r,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ip(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,s,o)=>s===null||o===null?[]:r({startIndex:s,endIndex:o,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==r&&(a&&this.observer.unobserve(a),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=n-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=ip(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=n[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return bj(n[UZ(0,n.length-1,i=>bj(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+s?"end":"start"),n==="center"?r+=(i-s)/2:n==="end"&&(r-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const a=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(r,c);if(!u){console.warn("Failed to get offset for index:",r);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),g=this.getOffsetForIndex(r,f);if(!g){console.warn("Failed to get offset for index:",r);return}p_e(g[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${r} after ${o} attempts.`))};a(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&s.some(a=>a===null);){const a=n[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const UZ=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function C_e({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const i=t.length-1,s=l=>t[l].start;if(t.length<=n)return{startIndex:0,endIndex:i};let o=UZ(0,i,s,r),a=o;if(n===1)for(;a<i&&t[a].end<r+e;)a++;else if(n>1){const l=Array(n).fill(0);for(;a<i&&l.some(u=>u<r+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(n).fill(r+e);for(;o>=0&&c.some(u=>u>=r);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%n),a=Math.min(i,a+(n-1-a%n))}return{startIndex:o,endIndex:a}}const _j=typeof document<"u"?x.useLayoutEffect:x.useEffect;function __e(t){const e=x.useReducer(()=>({}),{})[1],r={...t,onChange:(i,s)=>{var o;s?Zl.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[n]=x.useState(()=>new E_e(r));return n.setOptions(r),_j(()=>n._didMount(),[]),_j(()=>n._willUpdate()),n}function A_e(t){return __e({observeElementRect:w_e,observeElementOffset:v_e,scrollToFn:x_e,...t})}function Aj(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function k_e(t,e,r=!1){let[n,i]=x.useState(()=>Aj(e));return Lr(()=>{if(!e||!t)return;let s=Us();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=Aj(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}var zZ=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(zZ||{});function $_e(t){let e=x.useRef(null),r=mt(i=>{e.current=i.pointerType,!vj(i.currentTarget)&&i.pointerType==="mouse"&&i.button===zZ.Left&&(i.preventDefault(),t(i))}),n=mt(i=>{e.current!=="mouse"&&(vj(i.currentTarget)||t(i))});return{onPointerDown:r,onClick:n}}let WZ=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var S_e=Object.defineProperty,I_e=(t,e,r)=>e in t?S_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T_e=(t,e,r)=>(I_e(t,e+"",r),r),HZ=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},So=(t,e,r)=>(HZ(t,e,"read from private field"),r?r.call(t):e.get(t)),X8=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},kj=(t,e,r,n)=>(HZ(t,e,"write to private field"),e.set(t,r),r),bl,r1,n1;let qZ=class{constructor(e){X8(this,bl,{}),X8(this,r1,new WZ(()=>new Set)),X8(this,n1,new Set),T_e(this,"disposables",Us()),kj(this,bl,e),Wl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return So(this,bl)}subscribe(e,r){if(Wl.isServer)return()=>{};let n={selector:e,callback:r,current:e(So(this,bl))};return So(this,n1).add(n),this.disposables.add(()=>{So(this,n1).delete(n)})}on(e,r){return Wl.isServer?()=>{}:(So(this,r1).get(e).add(r),this.disposables.add(()=>{So(this,r1).get(e).delete(r)}))}send(e){let r=this.reduce(So(this,bl),e);if(r!==So(this,bl)){kj(this,bl,r);for(let n of So(this,n1)){let i=n.selector(So(this,bl));VZ(n.current,i)||(n.current=i,n.callback(i))}for(let n of So(this,r1).get(e.type))n(So(this,bl),e)}}};bl=new WeakMap,r1=new WeakMap,n1=new WeakMap;function VZ(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:e9(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:e9(t.entries(),e.entries()):$j(t)&&$j(e)?e9(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function e9(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function $j(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function Sj(t){let[e,r]=t(),n=Us();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var P_e=Object.defineProperty,N_e=(t,e,r)=>e in t?P_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ij=(t,e,r)=>(N_e(t,typeof e!="symbol"?e+"":e,r),r),GZ=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(GZ||{});let O_e={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},R_e=class KZ extends qZ{constructor(){super(...arguments),Ij(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Ij(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new KZ({stack:[]})}reduce(e,r){return el(r.type,O_e,e,r)}};const t4=new WZ(()=>R_e.new());var YZ={exports:{}},ZZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=x;function j_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M_e=typeof Object.is=="function"?Object.is:j_e,D_e=t2.useSyncExternalStore,F_e=t2.useRef,L_e=t2.useEffect,B_e=t2.useMemo,U_e=t2.useDebugValue;ZZ.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=F_e(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=B_e(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,M_e(u,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(u=p,g):(u=p,h=m)}var c=!1,u,h,f=r===void 0?null:r;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,r,n,i]);var a=D_e(t,s[0],s[1]);return L_e(function(){o.hasValue=!0,o.value=a},[a]),U_e(a),a};YZ.exports=ZZ;var z_e=YZ.exports;function Wo(t,e,r=VZ){return z_e.useSyncExternalStoreWithSelector(mt(n=>t.subscribe(W_e,n)),mt(()=>t.state),mt(()=>t.state),mt(e),r)}function W_e(t){return t}function r2(t,e){let r=x.useId(),n=t4.get(e),[i,s]=Wo(n,x.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return Lr(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let s_=new Map,O1=new Map;function Tj(t){var e;let r=(e=O1.get(t))!=null?e:0;return O1.set(t,r+1),r!==0?()=>Pj(t):(s_.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Pj(t))}function Pj(t){var e;let r=(e=O1.get(t))!=null?e:1;if(r===1?O1.delete(t):O1.set(t,r-1),r!==1)return;let n=s_.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,s_.delete(t))}function JZ(t,{allowed:e,disallowed:r}={}){let n=r2(t,"inert-others");Lr(()=>{var i,s;if(!n)return;let o=Us();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&o.add(Tj(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=Of(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(Tj(h));u=u.parentElement}}return o.dispose},[n,e,r])}function QZ(t,e,r){let n=jf(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!t)return;let i=e===null?null:fo(e)?e:e.current;if(!i)return;let s=Us();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,t])}let K3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),H_e=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ja=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(ja||{}),o_=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(o_||{}),q_e=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(q_e||{});function XZ(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(K3)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function V_e(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(H_e)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var jS=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(jS||{});function MS(t,e=0){var r;return t===((r=Of(t))==null?void 0:r.body)?!1:el(e,{0(){return t.matches(K3)},1(){let n=t;for(;n!==null;){if(n.matches(K3))return!0;n=n.parentElement}return!1}})}function eJ(t){Us().nextFrame(()=>{let e=NS(t);e&&Rl(e)&&!MS(e,0)&&Hl(t)})}var G_e=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(G_e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Hl(t){t==null||t.focus({preventScroll:!0})}let K_e=["textarea","input"].join(",");function Y_e(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,K_e))!=null?r:!1}function tJ(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Z_e(t,e,r=t===null?document.body:V3(t)){return C0(XZ(r),e,{relativeTo:t})}function C0(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?V3(t[0]):document:V3(t),o=Array.isArray(t)?r?tJ(t):t:e&64?V_e(t):XZ(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),n=n??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(c),u+=a}while(f!==NS(f));return e&6&&Y_e(f)&&f.select(),2}function rJ(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function J_e(){return/Android/gi.test(window.navigator.userAgent)}function Nj(){return rJ()||J_e()}function Zp(t,e,r,n){let i=jf(r);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function nJ(t,e,r,n){let i=jf(r);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const Oj=30;function iJ(t,e,r){let n=jf(r),i=x.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!MS(c,jS.Loose)&&c.tabIndex!==-1&&a.preventDefault(),n.current(a,c)},[n,e]),s=x.useRef(null);Zp(t,"pointerdown",a=>{var l,c;Nj()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Zp(t,"pointerup",a=>{if(Nj()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=x.useRef({x:0,y:0});Zp(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Zp(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Oj||Math.abs(l.y-o.current.y)>=Oj))return i(a,()=>Rl(a.target)?a.target:null)},!0),nJ(t,"blur",a=>i(a,()=>XCe(window.document.activeElement)?window.document.activeElement:null),!0)}function sw(...t){return x.useMemo(()=>Of(...t),[...t])}var Q_e=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Q_e||{});const wv={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},X_e=200,Rj=5;function eAe(t,{trigger:e,action:r,close:n,select:i}){let s=x.useRef(null),o=x.useRef(null),a=x.useRef(null);Zp(t&&e!==null,"pointerdown",l=>{RZ(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),Zp(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Rl(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<Rj&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<Rj)return;let f=r(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>X_e&&(i(f.target),n());break}case 2:{n();break}}},{capture:!0})}function sJ(t,e,r,n){let i=jf(r);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function tAe(t,e){return x.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function rAe(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function nAe(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(a=>a()))}}}function iAe(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function sAe(){return rJ()?{before({doc:t,d:e,meta:r}){function n(i){for(let s of r().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Us();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Rl(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Rl(u)&&!n(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Rl(l.target)&&QCe(l.target))if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Rl(a.target)){if(jZ(a.target))return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function oAe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function jj(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ph=nAe(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Us(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(e),n.computedMeta=jj(n.meta),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e),r.computedMeta=jj(r.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},r=[sAe(),iAe(),oAe()];r.forEach(({before:n})=>n==null?void 0:n(e)),r.forEach(({after:n})=>n==null?void 0:n(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ph.subscribe(()=>{let t=Ph.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Ph.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ph.dispatch("TEARDOWN",r)}});function aAe(t,e,r=()=>({containers:[]})){let n=rAe(Ph),i=e?n.get(e):void 0,s=i?i.count>0:!1;return Lr(()=>{if(!(!e||!t))return Ph.dispatch("PUSH",e,r),()=>Ph.dispatch("POP",e,r)},[t,e]),s}function oJ(t,e,r=()=>[document.body]){let n=r2(t,"scroll-lock");aAe(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function Mj(t){return[t.screenX,t.screenY]}function lAe(){let t=x.useRef([-1,-1]);return{wasMoved(e){let r=Mj(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=Mj(e)}}}function cAe(t=0){let[e,r]=x.useState(t),n=x.useCallback(l=>r(l),[]),i=x.useCallback(l=>r(c=>c|l),[]),s=x.useCallback(l=>(e&l)===l,[e]),o=x.useCallback(l=>r(c=>c&~l),[]),a=x.useCallback(l=>r(c=>c^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var uAe={},Dj,Fj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Dj=process==null?void 0:uAe)==null?void 0:Dj.NODE_ENV)==="test"&&typeof((Fj=Element==null?void 0:Element.prototype)==null?void 0:Fj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var dAe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(dAe||{});function aJ(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function lJ(t,e,r,n){let[i,s]=x.useState(r),{hasFlag:o,addFlag:a,removeFlag:l}=cAe(t&&i?3:0),c=x.useRef(!1),u=x.useRef(!1),h=Rf();return Lr(()=>{var f;if(t){if(r&&s(!0),!e){r&&a(3);return}return(f=n==null?void 0:n.start)==null||f.call(n,r),hAe(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(a(3),l(4)):(a(4),l(2)))},run(){u.current?r?(l(3),a(4)):(l(4),a(3)):r?l(1):a(1)},done(){var p;u.current&&gAe(e)||(c.current=!1,l(7),r||s(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[t,r,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function hAe(t,{prepare:e,run:r,done:n,inFlight:i}){let s=Us();return pAe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(fAe(t,n))})}),s.dispose}function fAe(t,e){var r,n;let i=Us();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(a=>a instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function pAe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function gAe(t){var e,r;return((r=(e=t.getAnimations)==null?void 0:e.call(t))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function mAe(t,{container:e,accept:r,walk:n}){let i=x.useRef(r),s=x.useRef(n);x.useEffect(()=>{i.current=r,s.current=n},[r,n]),Lr(()=>{if(!e||!t)return;let o=Of(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function DS(t,e){let r=x.useRef([]),n=mt(t);x.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let a=n(e,i);return r.current=e,a}},[n,...e])}function r4(){return typeof window<"u"}function Mg(t){return cJ(t)?(t.nodeName||"").toLowerCase():"#document"}function lo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ac(t){var e;return(e=(cJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cJ(t){return r4()?t instanceof Node||t instanceof lo(t).Node:!1}function Ji(t){return r4()?t instanceof Element||t instanceof lo(t).Element:!1}function tc(t){return r4()?t instanceof HTMLElement||t instanceof lo(t).HTMLElement:!1}function Lj(t){return!r4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lo(t).ShadowRoot}const yAe=new Set(["inline","contents"]);function n2(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=tl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!yAe.has(i)}const wAe=new Set(["table","td","th"]);function vAe(t){return wAe.has(Mg(t))}const bAe=[":popover-open",":modal"];function n4(t){return bAe.some(e=>{try{return t.matches(e)}catch{return!1}})}const xAe=["transform","translate","scale","rotate","perspective"],EAe=["transform","translate","scale","rotate","perspective","filter"],CAe=["paint","layout","strict","content"];function FS(t){const e=LS(),r=Ji(t)?tl(t):t;return xAe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||EAe.some(n=>(r.willChange||"").includes(n))||CAe.some(n=>(r.contain||"").includes(n))}function _Ae(t){let e=Nd(t);for(;tc(e)&&!ig(e);){if(FS(e))return e;if(n4(e))return null;e=Nd(e)}return null}function LS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AAe=new Set(["html","body","#document"]);function ig(t){return AAe.has(Mg(t))}function tl(t){return lo(t).getComputedStyle(t)}function i4(t){return Ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nd(t){if(Mg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lj(t)&&t.host||ac(t);return Lj(e)?e.host:e}function uJ(t){const e=Nd(t);return ig(e)?t.ownerDocument?t.ownerDocument.body:t.body:tc(e)&&n2(e)?e:uJ(e)}function ow(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=uJ(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=lo(i);if(s){const a=a_(o);return e.concat(o,o.visualViewport||[],n2(i)?i:[],a&&r?ow(a):[])}return e.concat(i,ow(i,[],r))}function a_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kAe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const hf=Math.min,Ni=Math.max,aw=Math.round,vv=Math.floor,ql=t=>({x:t,y:t}),$Ae={left:"right",right:"left",bottom:"top",top:"bottom"},SAe={start:"end",end:"start"};function Bj(t,e,r){return Ni(t,hf(e,r))}function Dg(t,e){return typeof t=="function"?t(e):t}function Od(t){return t.split("-")[0]}function i2(t){return t.split("-")[1]}function dJ(t){return t==="x"?"y":"x"}function hJ(t){return t==="y"?"height":"width"}const IAe=new Set(["top","bottom"]);function Bc(t){return IAe.has(Od(t))?"y":"x"}function fJ(t){return dJ(Bc(t))}function TAe(t,e,r){r===void 0&&(r=!1);const n=i2(t),i=fJ(t),s=hJ(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Y3(o)),[o,Y3(o)]}function PAe(t){const e=Y3(t);return[l_(t),e,l_(e)]}function l_(t){return t.replace(/start|end/g,e=>SAe[e])}const Uj=["left","right"],zj=["right","left"],NAe=["top","bottom"],OAe=["bottom","top"];function RAe(t,e,r){switch(t){case"top":case"bottom":return r?e?zj:Uj:e?Uj:zj;case"left":case"right":return e?NAe:OAe;default:return[]}}function jAe(t,e,r,n){const i=i2(t);let s=RAe(Od(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(l_)))),s}function Y3(t){return t.replace(/left|right|bottom|top/g,e=>$Ae[e])}function MAe(t){return{top:0,right:0,bottom:0,left:0,...t}}function DAe(t){return typeof t!="number"?MAe(t):{top:t,right:t,bottom:t,left:t}}function Z3(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Wj(t,e,r){let{reference:n,floating:i}=t;const s=Bc(e),o=fJ(e),a=hJ(o),l=Od(e),c=s==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(i2(e)){case"start":p[o]-=f*(r&&c?-1:1);break;case"end":p[o]+=f*(r&&c?-1:1);break}return p}const FAe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Wj(c,n,l),f=n,p={},g=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:b,y:v,data:A,reset:E}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,h=v??h,p={...p,[w]:{...p[w],...A}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:h}=Wj(c,f,l)),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function s4(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Dg(e,t),g=DAe(p),w=a[f?h==="floating"?"reference":"floating":h],y=Z3(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Z3(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:l}):b);return{top:(y.top-E.top+g.top)/A.y,bottom:(E.bottom-y.bottom+g.bottom)/A.y,left:(y.left-E.left+g.left)/A.x,right:(E.right-y.right+g.right)/A.x}}const LAe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Dg(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Od(i),b=Bc(a),v=Od(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(v||!m?[Y3(a)]:PAe(a)),O=g!=="none";!f&&O&&E.push(...jAe(a,m,g,A));const N=[a,...E],R=await s4(e,w),T=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&T.push(R[y]),h){const _=TAe(i,o,A);T.push(R[_[0]],R[_[1]])}if(L=[...L,{placement:i,overflows:T}],!T.every(_=>_<=0)){var B,W;const _=(((B=s.flip)==null?void 0:B.index)||0)+1,C=N[_];if(C&&(!(h==="alignment"?b!==Bc(C):!1)||L.every(S=>Bc(S.placement)===b?S.overflows[0]>0:!0)))return{data:{index:_,overflows:L},reset:{placement:C}};let $=(W=L.filter(P=>P.overflows[0]<=0).sort((P,S)=>P.overflows[1]-S.overflows[1])[0])==null?void 0:W.placement;if(!$)switch(p){case"bestFit":{var j;const P=(j=L.filter(S=>{if(O){const I=Bc(S.placement);return I===b||I==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(I=>I>0).reduce((I,D)=>I+D,0)]).sort((S,I)=>S[1]-I[1])[0])==null?void 0:j[0];P&&($=P);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}},BAe=new Set(["left","top"]);async function UAe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Od(r),a=i2(r),l=Bc(r)==="y",c=BAe.has(o)?-1:1,u=s&&l?-1:1,h=Dg(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const zAe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await UAe(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},WAe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...l}=Dg(t,e),c={x:r,y:n},u=await s4(e,l),h=Bc(Od(i)),f=dJ(h);let p=c[f],g=c[h];if(s){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+u[w],v=p-u[y];p=Bj(b,p,v)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=g+u[w],v=g-u[y];g=Bj(b,g,v)}const m=a.fn({...e,[f]:p,[h]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:s,[h]:o}}}}}},HAe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Dg(t,e),u=await s4(e,c),h=Od(i),f=i2(i),p=Bc(i)==="y",{width:g,height:m}=s.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=g-u.left-u.right,A=hf(m-u[w],b),E=hf(g-u[y],v),O=!e.middlewareData.shift;let N=A,R=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=b),O&&!f){const L=Ni(u.left,0),B=Ni(u.right,0),W=Ni(u.top,0),j=Ni(u.bottom,0);p?R=g-2*(L!==0||B!==0?L+B:Ni(u.left,u.right)):N=m-2*(W!==0||j!==0?W+j:Ni(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:N});const T=await o.getDimensions(a.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function pJ(t){const e=tl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=tc(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=aw(r)!==s||aw(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function BS(t){return Ji(t)?t:t.contextElement}function _0(t){const e=BS(t);if(!tc(e))return ql(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=pJ(e);let o=(s?aw(r.width):r.width)/n,a=(s?aw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qAe=ql(0);function gJ(t){const e=lo(t);return!LS()||!e.visualViewport?qAe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VAe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==lo(t)?!1:e}function ff(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=BS(t);let o=ql(1);e&&(n?Ji(n)&&(o=_0(n)):o=_0(t));const a=VAe(s,r,n)?gJ(s):ql(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=lo(s),p=n&&Ji(n)?lo(n):n;let g=f,m=a_(g);for(;m&&n&&p!==g;){const w=_0(m),y=m.getBoundingClientRect(),b=tl(m),v=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,A=y.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=v,c+=A,g=lo(m),m=a_(g)}}return Z3({width:u,height:h,x:l,y:c})}function o4(t,e){const r=i4(t).scrollLeft;return e?e.left+r:ff(ac(t)).left+r}function mJ(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-o4(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function GAe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=ac(n),a=e?n4(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=ql(1);const u=ql(0),h=tc(n);if((h||!h&&!s)&&((Mg(n)!=="body"||n2(o))&&(l=i4(n)),tc(n))){const p=ff(n);c=_0(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!h&&!s?mJ(o,l):ql(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function KAe(t){return Array.from(t.getClientRects())}function YAe(t){const e=ac(t),r=i4(t),n=t.ownerDocument.body,i=Ni(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ni(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+o4(t);const a=-r.scrollTop;return tl(n).direction==="rtl"&&(o+=Ni(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Hj=25;function ZAe(t,e){const r=lo(t),n=ac(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=LS();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=o4(n);if(c<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-p);g<=Hj&&(s-=g)}else c<=Hj&&(s+=c);return{width:s,height:o,x:a,y:l}}const JAe=new Set(["absolute","fixed"]);function QAe(t,e){const r=ff(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=tc(t)?_0(t):ql(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function qj(t,e,r){let n;if(e==="viewport")n=ZAe(t,r);else if(e==="document")n=YAe(ac(t));else if(Ji(e))n=QAe(e,r);else{const i=gJ(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Z3(n)}function yJ(t,e){const r=Nd(t);return r===e||!Ji(r)||ig(r)?!1:tl(r).position==="fixed"||yJ(r,e)}function XAe(t,e){const r=e.get(t);if(r)return r;let n=ow(t,[],!1).filter(a=>Ji(a)&&Mg(a)!=="body"),i=null;const s=tl(t).position==="fixed";let o=s?Nd(t):t;for(;Ji(o)&&!ig(o);){const a=tl(o),l=FS(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&JAe.has(i.position)||n2(o)&&!l&&yJ(t,o))?n=n.filter(u=>u!==o):i=a,o=Nd(o)}return e.set(t,n),n}function eke(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?n4(e)?[]:XAe(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const h=qj(e,u,i);return c.top=Ni(h.top,c.top),c.right=hf(h.right,c.right),c.bottom=hf(h.bottom,c.bottom),c.left=Ni(h.left,c.left),c},qj(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tke(t){const{width:e,height:r}=pJ(t);return{width:e,height:r}}function rke(t,e,r){const n=tc(e),i=ac(e),s=r==="fixed",o=ff(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ql(0);function c(){l.x=o4(i)}if(n||!n&&!s)if((Mg(e)!=="body"||n2(i))&&(a=i4(e)),n){const p=ff(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?mJ(i,a):ql(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function t9(t){return tl(t).position==="static"}function Vj(t,e){if(!tc(t)||tl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ac(t)===r&&(r=r.ownerDocument.body),r}function wJ(t,e){const r=lo(t);if(n4(t))return r;if(!tc(t)){let i=Nd(t);for(;i&&!ig(i);){if(Ji(i)&&!t9(i))return i;i=Nd(i)}return r}let n=Vj(t,e);for(;n&&vAe(n)&&t9(n);)n=Vj(n,e);return n&&ig(n)&&t9(n)&&!FS(n)?r:n||_Ae(t)||r}const nke=async function(t){const e=this.getOffsetParent||wJ,r=this.getDimensions,n=await r(t.floating);return{reference:rke(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ike(t){return tl(t).direction==="rtl"}const ske={convertOffsetParentRelativeRectToViewportRelativeRect:GAe,getDocumentElement:ac,getClippingRect:eke,getOffsetParent:wJ,getElementRects:nke,getClientRects:KAe,getDimensions:tke,getScale:_0,isElement:Ji,isRTL:ike};function vJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oke(t,e){let r=null,n;const i=ac(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const g=vv(h),m=vv(i.clientWidth-(u+f)),w=vv(i.clientHeight-(h+p)),y=vv(u),v={rootMargin:-g+"px "+-m+"px "+-w+"px "+-y+"px",threshold:Ni(0,hf(1,l))||1};let A=!0;function E(O){const N=O[0].intersectionRatio;if(N!==l){if(!A)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!vJ(c,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,v)}r.observe(t)}return o(!0),s}function ake(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=BS(t),u=i||s?[...c?ow(c):[],...ow(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const h=c&&a?oke(c,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?ff(t):null;l&&w();function w(){const y=ff(t);m&&!vJ(m,y)&&r(),m=y,g=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const r9=s4,lke=zAe,cke=WAe,uke=LAe,dke=HAe,hke=(t,e,r)=>{const n=new Map,i={platform:ske,...r},s={...i.platform,_c:n};return FAe(t,e,{...i,platform:s})};var fke=typeof document<"u",pke=function(){},Ab=fke?x.useLayoutEffect:pke;function J3(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!J3(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!J3(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Gj(t,e){const r=bJ(t);return Math.round(e*r)/r}function n9(t){const e=x.useRef(t);return Ab(()=>{e.current=t}),e}function gke(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(n);J3(f,n)||p(n);const[g,m]=x.useState(null),[w,y]=x.useState(null),b=x.useCallback(S=>{S!==O.current&&(O.current=S,m(S))},[]),v=x.useCallback(S=>{S!==N.current&&(N.current=S,y(S))},[]),A=s||g,E=o||w,O=x.useRef(null),N=x.useRef(null),R=x.useRef(u),T=l!=null,L=n9(l),B=n9(i),W=n9(c),j=x.useCallback(()=>{if(!O.current||!N.current)return;const S={placement:e,strategy:r,middleware:f};B.current&&(S.platform=B.current),hke(O.current,N.current,S).then(I=>{const D={...I,isPositioned:W.current!==!1};_.current&&!J3(R.current,D)&&(R.current=D,Zl.flushSync(()=>{h(D)}))})},[f,e,r,B,W]);Ab(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(S=>({...S,isPositioned:!1})))},[c]);const _=x.useRef(!1);Ab(()=>(_.current=!0,()=>{_.current=!1}),[]),Ab(()=>{if(A&&(O.current=A),E&&(N.current=E),A&&E){if(L.current)return L.current(A,E,j);j()}},[A,E,j,L,T]);const C=x.useMemo(()=>({reference:O,floating:N,setReference:b,setFloating:v}),[b,v]),$=x.useMemo(()=>({reference:A,floating:E}),[A,E]),P=x.useMemo(()=>{const S={position:r,left:0,top:0};if(!$.floating)return S;const I=Gj($.floating,u.x),D=Gj($.floating,u.y);return a?{...S,transform:"translate("+I+"px, "+D+"px)",...bJ($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:D}},[r,a,$.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:j,refs:C,elements:$,floatingStyles:P}),[u,j,C,$,P])}const xJ=(t,e)=>({...lke(t),options:[t,e]}),mke=(t,e)=>({...cke(t),options:[t,e]}),yke=(t,e)=>({...uke(t),options:[t,e]}),wke=(t,e)=>({...dke(t),options:[t,e]}),EJ={...AE},vke=EJ.useInsertionEffect,bke=vke||(t=>t());function CJ(t){const e=x.useRef(()=>{});return bke(()=>{e.current=t}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var c_=typeof document<"u"?x.useLayoutEffect:x.useEffect;let Kj=!1,xke=0;const Yj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xke++;function Eke(){const[t,e]=x.useState(()=>Kj?Yj():void 0);return c_(()=>{t==null&&e(Yj())},[]),x.useEffect(()=>{Kj=!0},[]),t}const Cke=EJ.useId,_ke=Cke||Eke;function Ake(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const kke=x.createContext(null),$ke=x.createContext(null),Ske=()=>{var t;return((t=x.useContext(kke))==null?void 0:t.id)||null},Ike=()=>x.useContext($ke),Tke="data-floating-ui-focusable";function Pke(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=_ke(),s=x.useRef({}),[o]=x.useState(()=>Ake()),a=Ske()!=null,[l,c]=x.useState(n.reference),u=CJ((p,g,m)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:m,nested:a}),r==null||r(p,g,m)}),h=x.useMemo(()=>({setPositionReference:c}),[]),f=x.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return x.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function Nke(t){t===void 0&&(t={});const{nodeId:e}=t,r=Pke({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,o]=x.useState(null),[a,l]=x.useState(null),u=(i==null?void 0:i.domReference)||s,h=x.useRef(null),f=Ike();c_(()=>{u&&(h.current=u)},[u]);const p=gke({...t,elements:{...i,...a&&{reference:a}}}),g=x.useCallback(v=>{const A=Ji(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l(A),p.refs.setReference(A)},[p.refs]),m=x.useCallback(v=>{(Ji(v)||v===null)&&(h.current=v,o(v)),(Ji(p.refs.reference.current)||p.refs.reference.current===null||v!==null&&!Ji(v))&&p.refs.setReference(v)},[p.refs]),w=x.useMemo(()=>({...p.refs,setReference:m,setPositionReference:g,domReference:h}),[p.refs,m,g]),y=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),b=x.useMemo(()=>({...p,...n,refs:w,elements:y,nodeId:e}),[p,w,y,e,n]);return c_(()=>{n.dataRef.current.floatingContext=b;const v=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);v&&(v.context=b)}),x.useMemo(()=>({...p,context:b,refs:w,elements:y}),[p,w,y,b])}const Zj="active",Jj="selected";function i9(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[Zj]:o,[Jj]:a,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[Tke]:""},...s,...e.map(o=>{const a=o?o[r]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[Zj,Jj].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var h;(h=n.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];return(f=n.get(c))==null?void 0:f.map(w=>w(...g)).find(w=>w!==void 0)}}}else o[c]=u}),o),{})}}function Oke(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),r=t.map(a=>a==null?void 0:a.floating),n=t.map(a=>a==null?void 0:a.item),i=x.useCallback(a=>i9(a,t,"reference"),e),s=x.useCallback(a=>i9(a,t,"floating"),r),o=x.useCallback(a=>i9(a,t,"item"),n);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function Qj(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Rke=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Dg(t,e),{rects:h,elements:{floating:f}}=e,p=r.current[o],g=(c==null?void 0:c.current)||f,m=f.clientTop||g.clientTop,w=f.clientTop!==0,y=g.clientTop!==0,b=f===g;if(!p)return{};const v={...e,...await xJ(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},A=await r9(Qj(v,g.scrollHeight+m+f.clientTop),u),E=await r9(v,{...u,elementContext:"reference"}),O=Ni(0,A.top),N=v.y+O,L=(g.scrollHeight>g.clientHeight?B=>B:aw)(Ni(0,g.scrollHeight+(w&&b||y?m*2:0)-O-Ni(0,A.bottom)));if(g.style.maxHeight=L+"px",g.scrollTop=O,i){const B=g.offsetHeight<p.offsetHeight*hf(a,r.current.length)-1||E.top>=-l||E.bottom>=-l;Zl.flushSync(()=>i(B))}return n&&(n.current=await r9(Qj({...v,y:N},g.offsetHeight+m+f.clientTop),u)),{y:N}}});function jke(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=CJ(a),c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{if(!i)return;function p(m){if(m.ctrlKey||!g||s.current==null)return;const w=m.deltaY,y=s.current.top>=-.5,b=s.current.bottom>=-.5,v=g.scrollHeight-g.clientHeight,A=w<0?-1:1,E=w<0?"max":"min";g.scrollHeight<=g.clientHeight||(!y&&w>0||!b&&w<0?(m.preventDefault(),Zl.flushSync(()=>{l(O=>O+Math[E](w,v*A))})):/firefox/i.test(kAe())&&(g.scrollTop+=w))}const g=(o==null?void 0:o.current)||n.floating;if(r&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,g.removeEventListener("wheel",p)}},[i,r,n.floating,s,o,l]);const f=x.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||n.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&Zl.flushSync(()=>l(m=>m+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[n.floating,l,s,o]);return x.useMemo(()=>i?{floating:f}:{},[i,f])}let Fg=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Fg.displayName="FloatingContext";let US=x.createContext(null);US.displayName="PlacementContext";function Mke(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Dke(){return x.useContext(Fg).setReference}function Fke(){return x.useContext(Fg).getReferenceProps}function Lke(){let{getFloatingProps:t,slot:e}=x.useContext(Fg);return x.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function Bke(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(US),r=x.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);Lr(()=>{e==null||e(r??null)},[e,r]);let n=x.useContext(Fg);return x.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let Xj=4;function Uke({children:t,enabled:e=!0}){let[r,n]=x.useState(null),[i,s]=x.useState(0),o=x.useRef(null),[a,l]=x.useState(null);zke(a);let c=e&&r!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:g}=Wke(r,a),[m,w="center"]=u.split(" ");Lr(()=>{c&&s(0)},[c]);let{refs:y,floatingStyles:b,context:v}=Nke({open:c,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[xJ({mainAxis:m==="selection"?0:h,crossAxis:f}),mke({padding:p}),m!=="selection"&&yke({padding:p}),m==="selection"&&g?Rke({...g,padding:p,overflowRef:o,offset:i,minItemsVisible:Xj,referenceOverflowThreshold:p,onFallbackChange(B){var W,j;if(!B)return;let _=v.elements.floating;if(!_)return;let C=parseFloat(getComputedStyle(_).scrollPaddingBottom)||0,$=Math.min(Xj,_.childElementCount),P=0,S=0;for(let I of(j=(W=v.elements.floating)==null?void 0:W.childNodes)!=null?j:[])if(fo(I)){let D=I.offsetTop,F=D+I.clientHeight+C,k=_.scrollTop,z=k+_.clientHeight;if(D>=k&&F<=z)$--;else{S=Math.max(0,Math.min(F,z)-Math.max(D,k)),P=I.clientHeight;break}}$>=1&&s(I=>{let D=P*$-S+C;return I>=D?I:D})}}):null,wke({padding:p,apply({availableWidth:B,availableHeight:W,elements:j}){Object.assign(j.floating.style,{overflow:"auto",maxWidth:`${B}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${W}px)`})}})].filter(Boolean),whileElementsMounted:ake}),[A=m,E=w]=v.placement.split("-");m==="selection"&&(A="selection");let O=x.useMemo(()=>({anchor:[A,E].filter(Boolean).join(" ")}),[A,E]),N=jke(v,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:T}=Oke([N]),L=mt(B=>{l(B),y.setFloating(B)});return x.createElement(US.Provider,{value:n},x.createElement(Fg.Provider,{value:{setFloating:L,setReference:y.setReference,styles:b,getReferenceProps:R,getFloatingProps:T,slot:O}},t))}function zke(t){Lr(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Wke(t,e){var r,n,i;let s=s9((r=t==null?void 0:t.gap)!=null?r:"var(--anchor-gap, 0)",e),o=s9((n=t==null?void 0:t.offset)!=null?n:"var(--anchor-offset, 0)",e),a=s9((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function s9(t,e,r=void 0){let n=Rf(),i=mt((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=eM(l,c);return[u,h=>{let f=_J(l);{let p=f.map(g=>window.getComputedStyle(c).getPropertyValue(g));n.requestAnimationFrame(function g(){n.nextFrame(g);let m=!1;for(let[y,b]of f.entries()){let v=window.getComputedStyle(c).getPropertyValue(b);if(p[y]!==v){p[y]=v,m=!0;break}}if(!m)return;let w=eM(l,c);u!==w&&(h(w),u=w)})}return n.dispose}]}return[r,null]}),s=x.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=x.useState();return Lr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function _J(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,..._J(i)]:[n]}return[]}function eM(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let a4=x.createContext(null);a4.displayName="OpenClosedContext";var Qi=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Qi||{});function s2(){return x.useContext(a4)}function AJ({value:t,children:e}){return Pe.createElement(a4.Provider,{value:t},e)}function Hke({children:t}){return Pe.createElement(a4.Provider,{value:null},t)}function qke(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let rd=[];qke(()=>{function t(e){if(!Rl(e.target)||e.target===document.body||rd[0]===e.target)return;let r=e.target;r=r.closest(K3),rd.unshift(r??e.target),rd=rd.filter(n=>n!=null&&n.isConnected),rd.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Vke(t){throw new Error("Unexpected object: "+t)}var vn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(vn||{});function bv(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:Vke(t)}}function zS(t){let e=mt(t),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,X6(()=>{r.current&&e()})}),[e])}let kJ=x.createContext(!1);function Gke(){return x.useContext(kJ)}function tM(t){return Pe.createElement(kJ.Provider,{value:t.force},t.children)}function Kke(t){let e=Gke(),r=x.useContext(SJ),[n,i]=x.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(Wl.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return x.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),x.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let $J=x.Fragment,Yke=rn(function(t,e){let{ownerDocument:r=null,...n}=t,i=x.useRef(null),s=as(n_e(f=>{i.current=f}),e),o=sw(i.current),a=r??o,l=Kke(a),c=x.useContext(u_),u=Rf(),h=Cn();return zS(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?Zl.createPortal(Pe.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:$J,name:"Portal"})),l):null});function Zke(t,e){let r=as(e),{enabled:n=!0,ownerDocument:i,...s}=t,o=Cn();return n?Pe.createElement(Yke,{...s,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:$J,name:"Portal"})}let Jke=x.Fragment,SJ=x.createContext(null);function Qke(t,e){let{target:r,...n}=t,i={ref:as(e)},s=Cn();return Pe.createElement(SJ.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:Jke,name:"Popover.Group"}))}let u_=x.createContext(null);function Xke(){let t=x.useContext(u_),e=x.useRef([]),r=mt(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=mt(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,x.useMemo(()=>function({children:s}){return Pe.createElement(u_.Provider,{value:i},s)},[i])]}let e$e=rn(Zke),IJ=rn(Qke),TJ=Object.assign(e$e,{Group:IJ});const kb={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function PJ(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function t$e(t,e,r){let n=Us();if(e.kind==="Tracked"){let i=function(){s!==PJ(t)&&(n.dispose(),r())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function r$e(t,e=typeof document<"u"?document.defaultView:null,r){let n=r2(t,"escape");sJ(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===Bn.Escape&&r(i))})}function n$e(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Lr(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function i$e({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=mt(()=>{var i,s;let o=Of(r),a=[];for(let l of t)l!==null&&(qc(l)?a.push(l):"current"in l&&qc(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&qc(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((s=r==null?void 0:r.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:n,contains:mt(i=>n().some(s=>s.contains(i)))}}let NJ=x.createContext(null);function rM({children:t,node:e}){let[r,n]=x.useState(null),i=OJ(e??r);return Pe.createElement(NJ.Provider,{value:i},t,i===null&&Pe.createElement(i_,{features:G3.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Of(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&qc(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function OJ(t=null){var e;return(e=x.useContext(NJ))!=null?e:t}function s$e(){let t=typeof document>"u";return"useSyncExternalStore"in AE?(e=>e.useSyncExternalStore)(AE)(()=>()=>{},()=>!1,()=>!t):!1}function l4(){let t=s$e(),[e,r]=x.useState(Wl.isHandoffComplete);return e&&Wl.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{e!==!0&&r(!0)},[e]),x.useEffect(()=>Wl.handoff(),[]),t?!1:e}function WS(){let t=x.useRef(!1);return Lr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var i1=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(i1||{});function o$e(){let t=x.useRef(0);return nJ(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function RJ(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)qc(r.current)&&e.add(r.current);return e}let a$e="div";var vh=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(vh||{});function l$e(t,e){let r=x.useRef(null),n=as(r,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;l4()||(a=0);let c=sw(r.current);h$e(a,{ownerDocument:c});let u=f$e(a,{ownerDocument:c,container:r,initialFocus:i,initialFocusFallback:s});p$e(a,{ownerDocument:c,container:r,containers:o,previousActiveElement:u});let h=o$e(),f=mt(b=>{if(!fo(r.current))return;let v=r.current;(A=>A())(()=>{el(h.current,{[i1.Forwards]:()=>{C0(v,ja.First,{skipElements:[b.relatedTarget,s]})},[i1.Backwards]:()=>{C0(v,ja.Last,{skipElements:[b.relatedTarget,s]})}})})}),p=r2(!!(a&2),"focus-trap#tab-lock"),g=Rf(),m=x.useRef(!1),w={ref:n,onKeyDown(b){b.key=="Tab"&&(m.current=!0,g.requestAnimationFrame(()=>{m.current=!1}))},onBlur(b){if(!(a&4))return;let v=RJ(o);fo(r.current)&&v.add(r.current);let A=b.relatedTarget;Rl(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(jJ(v,A)||(m.current?C0(r.current,el(h.current,{[i1.Forwards]:()=>ja.Next,[i1.Backwards]:()=>ja.Previous})|ja.WrapAround,{relativeTo:b.target}):Rl(b.target)&&Hl(b.target)))}},y=Cn();return Pe.createElement(Pe.Fragment,null,p&&Pe.createElement(i_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:G3.Focusable}),y({ourProps:w,theirProps:l,defaultTag:a$e,name:"FocusTrap"}),p&&Pe.createElement(i_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:G3.Focusable}))}let c$e=rn(l$e),u$e=Object.assign(c$e,{features:vh});function d$e(t=!0){let e=x.useRef(rd.slice());return DS(([r],[n])=>{n===!0&&r===!1&&X6(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=rd.slice())},[t,rd,e]),mt(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function h$e(t,{ownerDocument:e}){let r=!!(t&8),n=d$e(r);DS(()=>{r||TZ(e==null?void 0:e.body)&&Hl(n())},[r]),zS(()=>{r&&Hl(n())})}function f$e(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=x.useRef(null),o=r2(!!(t&1),"focus-trap#initial-focus"),a=WS();return DS(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Hl(i.current);return}let l=r.current;l&&X6(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(n!=null&&n.current)Hl(n.current);else{if(t&16){if(C0(l,ja.First|ja.AutoFocus)!==o_.Error)return}else if(C0(l,ja.First)!==o_.Error)return;if(i!=null&&i.current&&(Hl(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function p$e(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=WS(),o=!!(t&4);sJ(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=RJ(n);fo(r.current)&&l.add(r.current);let c=i.current;if(!c)return;let u=a.target;fo(u)?jJ(l,u)?(i.current=u,Hl(u)):(a.preventDefault(),a.stopPropagation(),Hl(c)):Hl(i.current)},!0)}function jJ(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function MJ(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!N1((e=t.as)!=null?e:FJ)||Pe.Children.count(t.children)===1}let c4=x.createContext(null);c4.displayName="TransitionContext";var g$e=(t=>(t.Visible="visible",t.Hidden="hidden",t))(g$e||{});function m$e(){let t=x.useContext(c4);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function y$e(){let t=x.useContext(u4);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let u4=x.createContext(null);u4.displayName="NestingContext";function d4(t){return"children"in t?d4(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function DJ(t,e){let r=jf(t),n=x.useRef([]),i=WS(),s=Rf(),o=mt((p,g=cd.Hidden)=>{let m=n.current.findIndex(({el:w})=>w===p);m!==-1&&(el(g,{[cd.Unmount](){n.current.splice(m,1)},[cd.Hidden](){n.current[m].state="hidden"}}),s.microTask(()=>{var w;!d4(n)&&i.current&&((w=r.current)==null||w.call(r))}))}),a=mt(p=>{let g=n.current.find(({el:m})=>m===p);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,cd.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[]}),h=mt((p,g,m)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([w])=>w!==p)),e==null||e.chains.current[g].push([p,new Promise(w=>{l.current.push(w)})]),e==null||e.chains.current[g].push([p,new Promise(w=>{Promise.all(u.current[g].map(([y,b])=>b)).then(()=>w())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),f=mt((p,g,m)=>{Promise.all(u.current[g].splice(0).map(([w,y])=>y)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>m(g))});return x.useMemo(()=>({children:n,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,n,h,f,u,c])}let FJ=x.Fragment,LJ=ng.RenderStrategy;function w$e(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:g,leaveTo:m,...w}=t,[y,b]=x.useState(null),v=x.useRef(null),A=MJ(t),E=as(...A?[v,e,b]:e===null?[]:[e]),O=(r=w.unmount)==null||r?cd.Unmount:cd.Hidden,{show:N,appear:R,initial:T}=m$e(),[L,B]=x.useState(N?"visible":"hidden"),W=y$e(),{register:j,unregister:_}=W;Lr(()=>j(v),[j,v]),Lr(()=>{if(O===cd.Hidden&&v.current){if(N&&L!=="visible"){B("visible");return}return el(L,{hidden:()=>_(v),visible:()=>j(v)})}},[L,v,j,_,N,O]);let C=l4();Lr(()=>{if(A&&C&&L==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,L,C,A]);let $=T&&!R,P=R&&N&&T,S=x.useRef(!1),I=DJ(()=>{S.current||(B("hidden"),_(v))},W),D=mt(Z=>{S.current=!0;let K=Z?"enter":"leave";I.onStart(v,K,re=>{re==="enter"?s==null||s():re==="leave"&&(a==null||a())})}),F=mt(Z=>{let K=Z?"enter":"leave";S.current=!1,I.onStop(v,K,re=>{re==="enter"?o==null||o():re==="leave"&&(l==null||l())}),K==="leave"&&!d4(I)&&(B("hidden"),_(v))});x.useEffect(()=>{A&&i||(D(N),F(N))},[N,A,i]);let k=!(!i||!A||!C||$),[,z]=lJ(k,y,N,{start:D,end:F}),V=hh({ref:E,className:((n=n_(w.className,P&&c,P&&u,z.enter&&c,z.enter&&z.closed&&u,z.enter&&!z.closed&&h,z.leave&&p,z.leave&&!z.closed&&g,z.leave&&z.closed&&m,!z.transition&&N&&f))==null?void 0:n.trim())||void 0,...aJ(z)}),M=0;L==="visible"&&(M|=Qi.Open),L==="hidden"&&(M|=Qi.Closed),N&&L==="hidden"&&(M|=Qi.Opening),!N&&L==="visible"&&(M|=Qi.Closing);let G=Cn();return Pe.createElement(u4.Provider,{value:I},Pe.createElement(AJ,{value:M},G({ourProps:V,theirProps:w,defaultTag:FJ,features:LJ,visible:L==="visible",name:"Transition.Child"})))}function v$e(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=MJ(t),l=as(...a?[o,e]:e===null?[]:[e]);l4();let c=s2();if(r===void 0&&c!==null&&(r=(c&Qi.Open)===Qi.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=x.useState(r?"visible":"hidden"),f=DJ(()=>{r||h("hidden")}),[p,g]=x.useState(!0),m=x.useRef([r]);Lr(()=>{p!==!1&&m.current[m.current.length-1]!==r&&(m.current.push(r),g(!1))},[m,r]);let w=x.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);Lr(()=>{r?h("visible"):!d4(f)&&o.current!==null&&h("hidden")},[r,f]);let y={unmount:i},b=mt(()=>{var E;p&&g(!1),(E=t.beforeEnter)==null||E.call(t)}),v=mt(()=>{var E;p&&g(!1),(E=t.beforeLeave)==null||E.call(t)}),A=Cn();return Pe.createElement(u4.Provider,{value:f},Pe.createElement(c4.Provider,{value:w},A({ourProps:{...y,as:x.Fragment,children:Pe.createElement(BJ,{ref:l,...y,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:x.Fragment,features:LJ,visible:u==="visible",name:"Transition"})))}function b$e(t,e){let r=x.useContext(c4)!==null,n=s2()!==null;return Pe.createElement(Pe.Fragment,null,!r&&n?Pe.createElement(d_,{ref:e,...t}):Pe.createElement(BJ,{ref:e,...t}))}let d_=rn(v$e),BJ=rn(w$e),lw=rn(b$e),UJ=Object.assign(d_,{Child:lw,Root:d_});var x$e=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(x$e||{}),E$e=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(E$e||{});let C$e={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},HS=x.createContext(null);HS.displayName="DialogContext";function h4(t){let e=x.useContext(HS);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,h4),r}return e}function _$e(t,e){return el(e.type,C$e,t,e)}let nM=rn(function(t,e){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=x.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=s2();i===void 0&&p!==null&&(i=(p&Qi.Open)===Qi.Open);let g=x.useRef(null),m=as(g,e),w=sw(g.current),y=i?0:1,[b,v]=x.useReducer(_$e,{titleId:null,descriptionId:null,panelRef:x.createRef()}),A=mt(()=>s(!1)),E=mt(z=>v({type:0,id:z})),O=l4()?y===0:!1,[N,R]=Xke(),T={get current(){var z;return(z=b.panelRef.current)!=null?z:g.current}},L=OJ(),{resolveContainers:B}=i$e({mainTreeNode:L,portals:N,defaultContainers:[T]}),W=p!==null?(p&Qi.Closing)===Qi.Closing:!1;JZ(c||W?!1:O,{allowed:mt(()=>{var z,V;return[(V=(z=g.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:mt(()=>{var z;return[(z=L==null?void 0:L.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let j=t4.get(null);Lr(()=>{if(O)return j.actions.push(n),()=>j.actions.pop(n)},[j,n,O]);let _=Wo(j,x.useCallback(z=>j.selectors.isTop(z,n),[j,n]));iJ(_,B,z=>{z.preventDefault(),A()}),r$e(_,w==null?void 0:w.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),oJ(c||W?!1:O,w,B),QZ(O,g,A);let[C,$]=LZ(),P=x.useMemo(()=>[{dialogState:y,close:A,setTitleId:E,unmount:u},b],[y,A,E,u,b]),S=oc({open:y===0}),I={ref:m,id:n,role:a,tabIndex:-1,"aria-modal":c?void 0:y===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":C,unmount:u},D=!n$e(),F=vh.None;O&&!c&&(F|=vh.RestoreFocus,F|=vh.TabLock,l&&(F|=vh.AutoFocus),D&&(F|=vh.InitialFocus));let k=Cn();return Pe.createElement(Hke,null,Pe.createElement(tM,{force:!0},Pe.createElement(TJ,null,Pe.createElement(HS.Provider,{value:P},Pe.createElement(IJ,{target:g},Pe.createElement(tM,{force:!1},Pe.createElement($,{slot:S},Pe.createElement(R,null,Pe.createElement(u$e,{initialFocus:o,initialFocusFallback:g,containers:B,features:F},Pe.createElement(f_e,{value:A},k({ourProps:I,theirProps:h,slot:S,defaultTag:A$e,features:k$e,visible:y===0,name:"Dialog"})))))))))))}),A$e="div",k$e=ng.RenderStrategy|ng.Static;function $$e(t,e){let{transition:r=!1,open:n,...i}=t,s=s2(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?Pe.createElement(rM,null,Pe.createElement(UJ,{show:n,transition:r,unmount:i.unmount},Pe.createElement(nM,{ref:e,...i}))):Pe.createElement(rM,null,Pe.createElement(nM,{ref:e,open:n,...i}))}let S$e="div";function I$e(t,e){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=h4("Dialog.Panel"),c=as(e,l.panelRef),u=oc({open:o===0}),h=mt(w=>{w.stopPropagation()}),f={ref:c,id:n,onClick:h},p=i?lw:x.Fragment,g=i?{unmount:a}:{},m=Cn();return Pe.createElement(p,{...g},m({ourProps:f,theirProps:s,slot:u,defaultTag:S$e,name:"Dialog.Panel"}))}let T$e="div";function P$e(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=h4("Dialog.Backdrop"),o=oc({open:i===0}),a={ref:e,"aria-hidden":!0},l=r?lw:x.Fragment,c=r?{unmount:s}:{},u=Cn();return Pe.createElement(l,{...c},u({ourProps:a,theirProps:n,slot:o,defaultTag:T$e,name:"Dialog.Backdrop"}))}let N$e="h2";function O$e(t,e){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=h4("Dialog.Title"),a=as(e);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=oc({open:s===0}),c={ref:a,id:n};return Cn()({ourProps:c,theirProps:i,slot:l,defaultTag:N$e,name:"Dialog.Title"})}let R$e=rn($$e),zJ=rn(I$e);rn(P$e);let j$e=rn(O$e),M$e=Object.assign(R$e,{Panel:zJ,Title:j$e,Description:a_e}),iM=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function sM(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!fo(i))return n;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(r=i.innerText)!=null?r:"":n;return iM.test(o)&&(o=o.replace(iM,"")),o}function D$e(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():sM(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return sM(t).trim()}function F$e(t){let e=x.useRef(""),r=x.useRef("");return mt(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=D$e(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var L$e=Object.defineProperty,B$e=(t,e,r)=>e in t?L$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oM=(t,e,r)=>(B$e(t,typeof e!="symbol"?e+"":e,r),r),Ii=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ii||{}),Q3=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Q3||{}),Er=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Er||{});function aM(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=tJ(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let U$e={1(t){if(t.menuState===1)return t;let e=t.buttonElement?kb.Tracked(PJ(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:vn.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:kb.Idle}},2:(t,e)=>{var r,n,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===vn.Nothing)return{...a,activeItemIndex:null};if(e.focus===vn.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===vn.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=bv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===vn.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=bv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=aM(t),c=bv(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==vn.Nothing&&(n=bv(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:vn.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,o]of r.entries())if(i.has(o.id)&&(n.push(s),i.delete(o.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...aM(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:kb.Moved}}},z$e=class WJ extends qZ{constructor(e){super(e),oM(this,"actions",{registerItem:Sj(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:Sj(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),oM(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,o=r.items;return s!==null?((i=o[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=t4.get(null);this.disposables.add(n.on(GZ.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(t$e(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new WJ({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:vn.Nothing},buttonPositionState:kb.Idle})}reduce(e,r){return el(r.type,U$e,e,r)}};const HJ=x.createContext(null);function qS(t){let e=x.useContext(HJ);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,qJ),r}return e}function qJ({id:t,__demoMode:e=!1}){let r=x.useMemo(()=>z$e.new({id:t,__demoMode:e}),[]);return zS(()=>r.dispose()),r}let W$e=x.Fragment;function H$e(t,e){let r=x.useId(),{__demoMode:n=!1,...i}=t,s=qJ({id:r,__demoMode:n}),[o,a,l]=Wo(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),c=as(e),u=t4.get(null),h=Wo(u,x.useCallback(w=>u.selectors.isTop(w,r),[u,r]));iJ(h,[l,a],(w,y)=>{var b;s.send({type:Er.CloseMenu}),MS(y,jS.Loose)||(w.preventDefault(),(b=s.state.buttonElement)==null||b.focus())});let f=mt(()=>{s.send({type:Er.CloseMenu})}),p=oc({open:o===Ii.Open,close:f}),g={ref:c},m=Cn();return Pe.createElement(Uke,null,Pe.createElement(HJ.Provider,{value:s},Pe.createElement(AJ,{value:el(o,{[Ii.Open]:Qi.Open,[Ii.Closed]:Qi.Closed})},m({ourProps:g,theirProps:i,slot:p,defaultTag:W$e,name:"Menu"}))))}let q$e="button";function V$e(t,e){let r=qS("Menu.Button"),n=x.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=x.useRef(null),c=Fke(),u=as(e,l,Dke(),mt(L=>r.send({type:Er.SetButtonElement,element:L}))),h=mt(L=>{switch(L.key){case Bn.Space:case Bn.Enter:case Bn.ArrowDown:L.preventDefault(),L.stopPropagation(),r.send({type:Er.OpenMenu,focus:{focus:vn.First}});break;case Bn.ArrowUp:L.preventDefault(),L.stopPropagation(),r.send({type:Er.OpenMenu,focus:{focus:vn.Last}});break}}),f=mt(L=>{switch(L.key){case Bn.Space:L.preventDefault();break}}),[p,g,m]=Wo(r,L=>[L.menuState,L.buttonElement,L.itemsElement]),w=p===Ii.Open;eAe(w,{trigger:g,action:x.useCallback(L=>{if(g!=null&&g.contains(L.target))return wv.Ignore;let B=L.target.closest('[role="menuitem"]:not([data-disabled])');return fo(B)?wv.Select(B):m!=null&&m.contains(L.target)?wv.Ignore:wv.Close},[g,m]),close:x.useCallback(()=>r.send({type:Er.CloseMenu}),[]),select:x.useCallback(L=>L.click(),[])});let y=$_e(L=>{var B;s||(p===Ii.Open?(Zl.flushSync(()=>r.send({type:Er.CloseMenu})),(B=l.current)==null||B.focus({preventScroll:!0})):(L.preventDefault(),r.send({type:Er.OpenMenu,focus:{focus:vn.Nothing},trigger:Q3.Pointer})))}),{isFocusVisible:b,focusProps:v}=jCe({autoFocus:o}),{isHovered:A,hoverProps:E}=RCe({isDisabled:s}),{pressed:O,pressProps:N}=UCe({disabled:s}),R=oc({open:p===Ii.Open,active:O||p===Ii.Open,disabled:s,hover:A,focus:b,autofocus:o}),T=OZ(c(),{ref:u,id:i,type:tAe(t,l.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":p===Ii.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f},y,v,E,N);return Cn()({ourProps:T,theirProps:a,slot:R,defaultTag:q$e,name:"Menu.Button"})}let G$e="div",K$e=ng.RenderStrategy|ng.Static;function Y$e(t,e){let r=x.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=Mke(i),u=qS("Menu.Items"),[h,f]=Bke(c),p=Lke(),[g,m]=x.useState(null),w=as(e,c?h:null,mt(S=>u.send({type:Er.SetItemsElement,element:S})),m),[y,b]=Wo(u,S=>[S.menuState,S.buttonElement]),v=sw(b),A=sw(g);c&&(s=!0);let E=s2(),[O,N]=lJ(a,g,E!==null?(E&Qi.Open)===Qi.Open:y===Ii.Open);QZ(O,b,()=>{u.send({type:Er.CloseMenu})});let R=Wo(u,S=>S.__demoMode),T=R?!1:o&&y===Ii.Open;oJ(T,A);let L=R?!1:o&&y===Ii.Open;JZ(L,{allowed:x.useCallback(()=>[b,g],[b,g])});let B=Wo(u,u.selectors.didButtonMove)?!1:O;x.useEffect(()=>{let S=g;S&&y===Ii.Open&&(TZ(S)||S.focus({preventScroll:!0}))},[y,g]),mAe(y===Ii.Open,{container:g,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let W=Rf(),j=mt(S=>{var I,D,F;switch(W.dispose(),S.key){case Bn.Space:if(u.state.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),u.send({type:Er.Search,value:S.key});case Bn.Enter:if(S.preventDefault(),S.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:k}=u.state.items[u.state.activeItemIndex];(D=(I=k.current)==null?void 0:I.domRef.current)==null||D.click()}u.send({type:Er.CloseMenu}),eJ(u.state.buttonElement);break;case Bn.ArrowDown:return S.preventDefault(),S.stopPropagation(),u.send({type:Er.GoToItem,focus:vn.Next});case Bn.ArrowUp:return S.preventDefault(),S.stopPropagation(),u.send({type:Er.GoToItem,focus:vn.Previous});case Bn.Home:case Bn.PageUp:return S.preventDefault(),S.stopPropagation(),u.send({type:Er.GoToItem,focus:vn.First});case Bn.End:case Bn.PageDown:return S.preventDefault(),S.stopPropagation(),u.send({type:Er.GoToItem,focus:vn.Last});case Bn.Escape:S.preventDefault(),S.stopPropagation(),Zl.flushSync(()=>u.send({type:Er.CloseMenu})),(F=u.state.buttonElement)==null||F.focus({preventScroll:!0});break;case Bn.Tab:S.preventDefault(),S.stopPropagation(),Zl.flushSync(()=>u.send({type:Er.CloseMenu})),Z_e(u.state.buttonElement,S.shiftKey?ja.Previous:ja.Next);break;default:S.key.length===1&&(u.send({type:Er.Search,value:S.key}),W.setTimeout(()=>u.send({type:Er.ClearSearch}),350));break}}),_=mt(S=>{switch(S.key){case Bn.Space:S.preventDefault();break}}),C=oc({open:y===Ii.Open}),$=OZ(c?p():{},{"aria-activedescendant":Wo(u,u.selectors.activeDescendantId),"aria-labelledby":Wo(u,S=>{var I;return(I=S.buttonElement)==null?void 0:I.id}),id:n,onKeyDown:j,onKeyUp:_,role:"menu",tabIndex:y===Ii.Open?0:void 0,ref:w,style:{...l.style,...f,"--button-width":k_e(O,b,!0).width},...aJ(N)}),P=Cn();return Pe.createElement(TJ,{enabled:s?t.static||O:!1,ownerDocument:v},P({ourProps:$,theirProps:l,slot:C,defaultTag:G$e,features:K$e,visible:B,name:"Menu.Items"}))}let Z$e=x.Fragment;function J$e(t,e){let r=x.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,o=qS("Menu.Item"),a=Wo(o,B=>o.selectors.isActive(B,n)),l=x.useRef(null),c=as(e,l),u=Wo(o,B=>o.selectors.shouldScrollIntoView(B,n));Lr(()=>{if(u)return Us().requestAnimationFrame(()=>{var B,W;(W=(B=l.current)==null?void 0:B.scrollIntoView)==null||W.call(B,{block:"nearest"})})},[u,l]);let h=F$e(l),f=x.useRef({disabled:i,domRef:l,get textValue(){return h()}});Lr(()=>{f.current.disabled=i},[f,i]),Lr(()=>(o.actions.registerItem(n,f),()=>o.actions.unregisterItem(n)),[f,n]);let p=mt(()=>{o.send({type:Er.CloseMenu})}),g=mt(B=>{if(i)return B.preventDefault();o.send({type:Er.CloseMenu}),eJ(o.state.buttonElement)}),m=mt(()=>{if(i)return o.send({type:Er.GoToItem,focus:vn.Nothing});o.send({type:Er.GoToItem,focus:vn.Specific,id:n})}),w=lAe(),y=mt(B=>w.update(B)),b=mt(B=>{w.wasMoved(B)&&(i||a||o.send({type:Er.GoToItem,focus:vn.Specific,id:n,trigger:Q3.Pointer}))}),v=mt(B=>{w.wasMoved(B)&&(i||a&&o.state.activationTrigger===Q3.Pointer&&o.send({type:Er.GoToItem,focus:vn.Nothing}))}),[A,E]=BZ(),[O,N]=LZ(),R=oc({active:a,focus:a,disabled:i,close:p}),T={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":O,disabled:void 0,onClick:g,onFocus:m,onPointerEnter:y,onMouseEnter:y,onPointerMove:b,onMouseMove:b,onPointerLeave:v,onMouseLeave:v},L=Cn();return Pe.createElement(E,null,Pe.createElement(N,null,L({ourProps:T,theirProps:s,slot:R,defaultTag:Z$e,name:"Menu.Item"})))}let Q$e="div";function X$e(t,e){let[r,n]=BZ(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},o=Cn();return Pe.createElement(n,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:Q$e,name:"Menu.Section"}))}let eSe="header";function tSe(t,e){let r=x.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=RS();Lr(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return Cn()({ourProps:o,theirProps:i,slot:{},defaultTag:eSe,name:"Menu.Heading"})}let rSe="div";function nSe(t,e){let r=t,n={ref:e,role:"separator"};return Cn()({ourProps:n,theirProps:r,slot:{},defaultTag:rSe,name:"Menu.Separator"})}let iSe=rn(H$e),VJ=rn(V$e),GJ=rn(Y$e),KJ=rn(J$e),sSe=rn(X$e),oSe=rn(tSe),aSe=rn(nSe),lSe=Object.assign(iSe,{Button:VJ,Items:GJ,Item:KJ,Section:sSe,Heading:oSe,Separator:aSe});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cSe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YJ=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dSe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...uSe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:YJ("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(t,e)=>{const r=x.forwardRef(({className:n,...i},s)=>x.createElement(dSe,{ref:s,iconNode:e,className:YJ(`lucide-${cSe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hSe=nn("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fSe=nn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=nn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=nn("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pSe=nn("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gSe=nn("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=nn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mSe=nn("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=nn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=nn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ySe=nn("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=nn("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=nn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=nn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wSe=nn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=nn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vSe=nn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bSe=nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=nn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xSe=nn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var KS={exports:{}},A0=typeof Reflect=="object"?Reflect:null,lM=A0&&typeof A0.apply=="function"?A0.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},$b;A0&&typeof A0.ownKeys=="function"?$b=A0.ownKeys:Object.getOwnPropertySymbols?$b=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:$b=function(e){return Object.getOwnPropertyNames(e)};function CSe(t){console&&console.warn&&console.warn(t)}var QJ=Number.isNaN||function(e){return e!==e};function br(){br.init.call(this)}KS.exports=br;KS.exports.once=$Se;br.EventEmitter=br;br.prototype._events=void 0;br.prototype._eventsCount=0;br.prototype._maxListeners=void 0;var cM=10;function p4(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(br,"defaultMaxListeners",{enumerable:!0,get:function(){return cM},set:function(t){if(typeof t!="number"||t<0||QJ(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");cM=t}});br.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};br.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||QJ(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function XJ(t){return t._maxListeners===void 0?br.defaultMaxListeners:t._maxListeners}br.prototype.getMaxListeners=function(){return XJ(this)};br.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")lM(l,this,r);else for(var c=l.length,u=iQ(l,c),n=0;n<c;++n)lM(u[n],this,r);return!0};function eQ(t,e,r,n){var i,s,o;if(p4(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=XJ(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,CSe(a)}return t}br.prototype.addListener=function(e,r){return eQ(this,e,r,!1)};br.prototype.on=br.prototype.addListener;br.prototype.prependListener=function(e,r){return eQ(this,e,r,!0)};function _Se(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tQ(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=_Se.bind(n);return i.listener=r,n.wrapFn=i,i}br.prototype.once=function(e,r){return p4(r),this.on(e,tQ(this,e,r)),this};br.prototype.prependOnceListener=function(e,r){return p4(r),this.prependListener(e,tQ(this,e,r)),this};br.prototype.removeListener=function(e,r){var n,i,s,o,a;if(p4(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():ASe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};br.prototype.off=br.prototype.removeListener;br.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function rQ(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?kSe(i):iQ(i,i.length)}br.prototype.listeners=function(e){return rQ(this,e,!0)};br.prototype.rawListeners=function(e){return rQ(this,e,!1)};br.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):nQ.call(t,e)};br.prototype.listenerCount=nQ;function nQ(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}br.prototype.eventNames=function(){return this._eventsCount>0?$b(this._events):[]};function iQ(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function ASe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kSe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function $Se(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}sQ(t,e,s,{once:!0}),e!=="error"&&SSe(t,i,{once:!0})})}function SSe(t,e,r){typeof t.on=="function"&&sQ(t,"error",e,r)}function sQ(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Eo=KS.exports;const YS=mo(Eo);var uM=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},ISe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),TSe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),PSe=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),NSe=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),OSe=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),RSe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,jSe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,dM=3,MSe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",RSe]],hM=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function DSe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new OSe:typeof navigator<"u"?LSe(navigator.userAgent):USe()}function FSe(t){return t!==""&&MSe.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function LSe(t){var e=FSe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new NSe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<dM&&(i=uM(uM([],i,!0),zSe(dM-i.length),!0)):i=[];var s=i.join("."),o=BSe(t),a=jSe.exec(t);return a&&a[1]?new PSe(r,s,o,a[1]):new ISe(r,s,o)}function BSe(t){for(var e=0,r=hM.length;e<r;e++){var n=hM[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function USe(){var t=typeof process<"u"&&process.version;return t?new TSe(process.version.slice(1)):null}function zSe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Ne={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f_=function(t,e){return f_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},f_(t,e)};function WSe(t,e){f_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var p_=function(){return p_=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},p_.apply(this,arguments)};function HSe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qSe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function VSe(t,e){return function(r,n){e(r,n,t)}}function GSe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function KSe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function YSe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ZSe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function JSe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function g_(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function QSe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oQ(arguments[e]));return t}function XSe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function uw(t){return this instanceof uw?(this.v=t,this):new uw(t)}function eIe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(g){h(s[0][3],g)}}function l(f){f.value instanceof uw?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tIe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:uw(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function rIe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof g_=="function"?g_(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function nIe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function iIe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function sIe(t){return t&&t.__esModule?t:{default:t}}function oIe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function aIe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const lIe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return p_},__asyncDelegator:tIe,__asyncGenerator:eIe,__asyncValues:rIe,__await:uw,__awaiter:KSe,__classPrivateFieldGet:oIe,__classPrivateFieldSet:aIe,__createBinding:ZSe,__decorate:qSe,__exportStar:JSe,__extends:WSe,__generator:YSe,__importDefault:sIe,__importStar:iIe,__makeTemplateObject:nIe,__metadata:GSe,__param:VSe,__read:oQ,__rest:HSe,__spread:QSe,__spreadArrays:XSe,__values:g_},Symbol.toStringTag,{value:"Module"})),a2=ZA(lIe);var o9={},xm={},fM;function cIe(){if(fM)return xm;fM=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return xm.delay=t,xm}var oh={},a9={},ah={},pM;function uIe(){return pM||(pM=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.ONE_THOUSAND=ah.ONE_HUNDRED=void 0,ah.ONE_HUNDRED=100,ah.ONE_THOUSAND=1e3),ah}var l9={},gM;function dIe(){return gM||(gM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(l9)),l9}var mM;function aQ(){return mM||(mM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=a2;e.__exportStar(uIe(),t),e.__exportStar(dIe(),t)}(a9)),a9}var yM;function hIe(){if(yM)return oh;yM=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.fromMiliseconds=oh.toMiliseconds=void 0;const t=aQ();function e(n){return n*t.ONE_THOUSAND}oh.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return oh.fromMiliseconds=r,oh}var wM;function fIe(){return wM||(wM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=a2;e.__exportStar(cIe(),t),e.__exportStar(hIe(),t)}(o9)),o9}var sp={},vM;function pIe(){if(vM)return sp;vM=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return sp.Watch=t,sp.default=t,sp}var c9={},Em={},bM;function gIe(){if(bM)return Em;bM=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.IWatch=void 0;class t{}return Em.IWatch=t,Em}var xM;function mIe(){return xM||(xM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),a2.__exportStar(gIe(),t)}(c9)),c9}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=a2;e.__exportStar(fIe(),t),e.__exportStar(pIe(),t),e.__exportStar(mIe(),t),e.__exportStar(aQ(),t)})(Ne);var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.getLocalStorage=$r.getLocalStorageOrThrow=$r.getCrypto=$r.getCryptoOrThrow=lQ=$r.getLocation=$r.getLocationOrThrow=ZS=$r.getNavigator=$r.getNavigatorOrThrow=pf=$r.getDocument=$r.getDocumentOrThrow=$r.getFromWindowOrThrow=$r.getFromWindow=void 0;function Mf(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}$r.getFromWindow=Mf;function Lg(t){const e=Mf(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}$r.getFromWindowOrThrow=Lg;function yIe(){return Lg("document")}$r.getDocumentOrThrow=yIe;function wIe(){return Mf("document")}var pf=$r.getDocument=wIe;function vIe(){return Lg("navigator")}$r.getNavigatorOrThrow=vIe;function bIe(){return Mf("navigator")}var ZS=$r.getNavigator=bIe;function xIe(){return Lg("location")}$r.getLocationOrThrow=xIe;function EIe(){return Mf("location")}var lQ=$r.getLocation=EIe;function CIe(){return Lg("crypto")}$r.getCryptoOrThrow=CIe;function _Ie(){return Mf("crypto")}$r.getCrypto=_Ie;function AIe(){return Lg("localStorage")}$r.getLocalStorageOrThrow=AIe;function kIe(){return Mf("localStorage")}$r.getLocalStorage=kIe;var JS={};Object.defineProperty(JS,"__esModule",{value:!0});var cQ=JS.getWindowMetadata=void 0;const EM=$r;function $Ie(){let t,e;try{t=EM.getDocumentOrThrow(),e=EM.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),f=[];for(let p=0;p<h.length;p++){const g=h[p],m=g.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const w=g.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");y+=v+"/"+w}f.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;f.push(y)}else f.push(w)}}return f}function n(...h){const f=t.getElementsByTagName("meta");for(let p=0;p<f.length;p++){const g=f[p],m=["itemprop","property","name"].map(w=>g.getAttribute(w)).filter(w=>w?h.includes(w):!1);if(m.length&&m){const w=g.getAttribute("content");if(w)return w}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),l=e.origin,c=r();return{description:a,url:l,icons:c,name:o}}cQ=JS.getWindowMetadata=$Ie;function dw(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function m_(t){return dw(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const uQ="2.31.0";let Cm={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${uQ}`};class gf extends Error{constructor(e,r={}){var a;const n=(()=>{var l;return r.cause instanceof gf?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof gf&&r.cause.docsPath||r.docsPath,s=(a=Cm.getDocsUrl)==null?void 0:a.call(Cm,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Cm.version?[`Version: ${Cm.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=uQ}walk(e){return dQ(this,e)}}function dQ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?dQ(t.cause,e):e?null:t}class hQ extends gf{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Bg(t,{dir:e,size:r=32}={}){return typeof t=="string"?SIe(t,{dir:e,size:r}):IIe(t,{dir:e,size:r})}function SIe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new hQ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function IIe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new hQ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class TIe extends gf{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class PIe extends gf{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ug(t,{size:e}){if(m_(t)>e)throw new PIe({givenSize:m_(t),maxSize:e})}function y_(t,e={}){const{signed:r}=e;e.size&&Ug(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function NIe(t,e={}){return Number(y_(t,e))}const OIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function w_(t,e={}){return typeof t=="number"||typeof t=="bigint"?pQ(t,e):typeof t=="string"?MIe(t,e):typeof t=="boolean"?RIe(t,e):fQ(t,e)}function RIe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Ug(r,{size:e.size}),Bg(r,{size:e.size})):r}function fQ(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=OIe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Ug(n,{size:e.size}),Bg(n,{dir:"right",size:e.size})):n}function pQ(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new TIe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Bg(a,{size:n}):a}const jIe=new TextEncoder;function MIe(t,e={}){const r=jIe.encode(t);return fQ(r,e)}const DIe=new TextEncoder;function FIe(t,e={}){return typeof t=="number"||typeof t=="bigint"?BIe(t,e):typeof t=="boolean"?LIe(t,e):dw(t)?gQ(t,e):mQ(t,e)}function LIe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Ug(r,{size:e.size}),Bg(r,{size:e.size})):r}const gc={zero:48,nine:57,A:65,F:70,a:97,f:102};function CM(t){if(t>=gc.zero&&t<=gc.nine)return t-gc.zero;if(t>=gc.A&&t<=gc.F)return t-(gc.A-10);if(t>=gc.a&&t<=gc.f)return t-(gc.a-10)}function gQ(t,e={}){let r=t;e.size&&(Ug(r,{size:e.size}),r=Bg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=CM(n.charCodeAt(a++)),c=CM(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new gf(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function BIe(t,e){const r=pQ(t,e);return gQ(r)}function mQ(t,e={}){const r=DIe.encode(t);return typeof e.size=="number"?(Ug(r,{size:e.size}),Bg(r,{dir:"right",size:e.size})):r}function yQ(t,e){const r=e||"hex",n=Q5(dw(t,{strict:!1})?FIe(t):t);return r==="bytes"?n:w_(n)}class UIe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const u9=new UIe(8192);function zIe(t,e){if(u9.has(`${t}.${e}`))return u9.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=yQ(mQ(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return u9.set(`${t}.${e}`,s),s}function WIe(t){const e=yQ(`0x${t.substring(4)}`).substring(26);return zIe(`0x${e}`)}async function HIe({hash:t,signature:e}){const r=dw(t)?t:w_(t),{secp256k1:n}=await Fl(async()=>{const{secp256k1:o}=await import("./secp256k1-cx58R1iu.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),g=_M(p);return new n.Signature(y_(c),y_(u)).addRecoveryBit(g)}const o=dw(e)?e:w_(e);if(m_(o)!==65)throw new Error("invalid signature length");const a=NIe(`0x${o.slice(130)}`),l=_M(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function _M(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function qIe({hash:t,signature:e}){return WIe(await HIe({hash:t,signature:e}))}function VIe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const g=(p-f)*s+1>>>0,m=new Uint8Array(g);for(;f!==p;){let b=c[f],v=0;for(let A=g-1;(b!==0||v<h)&&A!==-1;A--,v++)b+=256*m[A]>>>0,m[A]=b%r>>>0,b=b/r>>>0;if(b!==0)throw new Error("Non-zero carry");h=v,f++}let w=g-h;for(;w!==g&&m[w]===0;)w++;let y=n.repeat(u);for(;w<g;++w)y+=t.charAt(m[w]);return y}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===n;)h++,u++;const p=(c.length-u)*i+1>>>0,g=new Uint8Array(p);for(;u<c.length;){const b=c.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let A=0;for(let E=p-1;(v!==0||A<f)&&E!==-1;E--,A++)v+=r*g[E]>>>0,g[E]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");f=A,u++}let m=p-f;for(;m!==p&&g[m]===0;)m++;const w=new Uint8Array(h+(p-m));let y=h;for(;m!==p;)w[y++]=g[m++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var GIe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const l2=VIe(GIe);function KIe(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}function YIe(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const ZIe=new TextEncoder,JIe=50;function QIe(t,e,r){ZIe.encodeInto(t,e.subarray(r))}function XIe(t,e,r){t.length>JIe?QIe(t,e,r):YIe(t,e,r)}const eTe=4096;function wQ(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if(!(a&128))s.push(a);else if((a&224)===192){const l=t[n++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[n++]&63,c=t[n++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[n++]&63,c=t[n++]&63,u=t[n++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=eTe&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const tTe=new TextDecoder,rTe=200;function nTe(t,e,r){const n=t.subarray(e,e+r);return tTe.decode(n)}function iTe(t,e,r){return r>rTe?nTe(t,e,r):wQ(t,e,r)}class xv{constructor(e,r){this.type=e,this.data=r}}class Qs extends Error{constructor(e){super(e);const r=Object.create(Qs.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Qs.name})}}const _m=4294967295;function sTe(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function vQ(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function bQ(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function oTe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const aTe=-1,lTe=4294967296-1,cTe=17179869184-1;function uTe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=cTe)if(e===0&&t<=lTe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),vQ(n,4,t),r}}function dTe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function hTe(t){if(t instanceof Date){const e=dTe(t);return uTe(e)}else return null}function fTe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=bQ(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Qs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function pTe(t){const e=fTe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const gTe={type:aTe,encode:hTe,decode:pTe};class t5{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(gTe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new xv(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new xv(o,s)}}}return e instanceof xv?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new xv(r,e)}}t5.defaultCodec=new t5;function mTe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function v_(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):mTe(t)?new Uint8Array(t):Uint8Array.from(t)}const yTe=100,wTe=2048;let vTe=class xQ{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??t5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??yTe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??wTe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new xQ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=KIe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),XIe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=v_(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),sTe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),vQ(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function bTe(t,e){return new vTe(e).encodeSharedRef(t)}function d9(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const xTe=16,ETe=16;class CTe{constructor(e=xTe,r=ETe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=wQ(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const b_="array",R1="map_key",EQ="map_value",_Te=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Qs("The type of key must be string or number but "+typeof t)};class ATe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=b_,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=R1,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===b_){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===R1||e.type===EQ){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Am=-1,QS=new DataView(new ArrayBuffer(0)),kTe=new Uint8Array(QS.buffer);try{QS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const AM=new RangeError("Insufficient data"),$Te=new CTe;let STe=class CQ{constructor(e){this.totalPos=0,this.pos=0,this.view=QS,this.bytes=kTe,this.headByte=Am,this.stack=new ATe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??t5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??_m,this.maxBinLength=(e==null?void 0:e.maxBinLength)??_m,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??_m,this.maxMapLength=(e==null?void 0:e.maxMapLength)??_m,this.maxExtLength=(e==null?void 0:e.maxExtLength)??_m,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:$Te,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??_Te}clone(){return new CQ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Am,this.stack.reset()}setBuffer(e){const r=v_(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Am&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=v_(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${d9(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Qs(`Unrecognized type byte: ${d9(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===b_)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===R1){if(r==="__proto__")throw new Qs("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=EQ;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=R1;continue e}}return r}}readHeadByte(){return this.headByte===Am&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Am}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Qs(`Unrecognized array type byte: ${d9(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Qs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Qs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var s;if(e>this.maxStrLength)throw new Qs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw AM;const n=this.pos+r;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,n,e):i=iTe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===R1:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Qs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw AM;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Qs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=oTe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=bQ(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function ITe(t,e){return new STe(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TTe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _Q(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function r5(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function XS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function x_(t){if(!Array.isArray(t))throw new Error("array expected")}function n5(t,e){if(!_Q(!0,e))throw new Error(`${t}: array of strings expected`)}function PTe(t,e){if(!_Q(!1,e))throw new Error(`${t}: array of numbers expected`)}function NTe(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function OTe(t){const e=typeof t=="string"?t.split(""):t,r=e.length;n5("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(x_(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(x_(i),i.map(s=>{r5("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function RTe(t=""){return r5("join",t),{encode:e=>(n5("join.decode",e),e.join(t)),decode:e=>(r5("join.decode",e),e.split(t))}}function jTe(t,e="="){return XS(t),r5("padding",e),{encode(r){for(n5("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){n5("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const AQ=(t,e)=>e===0?t:AQ(e,t%e),i5=(t,e)=>t+(e-AQ(t,e)),h9=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function kM(t,e,r,n){if(x_(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(i5(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${i5(e,r)}`);let i=0,s=0;const o=h9[e],a=h9[r]-1,l=[];for(const c of t){if(XS(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&a)>>>0);const u=h9[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function MTe(t,e=!1){if(XS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(i5(8,t)>32||i5(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!TTe(r))throw new Error("radix2.encode input should be Uint8Array");return kM(Array.from(r),8,t,!e)},decode:r=>(PTe("radix2.decode",r),Uint8Array.from(kM(r,t,8,e)))}}const DTe=NTe(MTe(5),OTe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),jTe(5),RTe("")),FTe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),LTe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function mf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return LTe(t)}catch{return t}}function au(t){return typeof t=="string"?t:FTe(t)||""}function BTe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kQ(t,...e){if(!BTe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $M(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UTe(t,e){kQ(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const op=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f9=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function zTe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function $Q(t){return typeof t=="string"&&(t=zTe(t)),kQ(t),t}let WTe=class{clone(){return this._cloneInto()}};function HTe(t){const e=n=>t().update($Q(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function SQ(t=32){if(op&&typeof op.getRandomValues=="function")return op.getRandomValues(new Uint8Array(t));if(op&&typeof op.randomBytes=="function")return op.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function qTe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}let VTe=class extends WTe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=f9(this.buffer)}update(e){$M(this);const{view:r,buffer:n,blockLen:i}=this;e=$Q(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=f9(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$M(this),UTe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;qTe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=f9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const Ev=BigInt(2**32-1),E_=BigInt(32);function IQ(t,e=!1){return e?{h:Number(t&Ev),l:Number(t>>E_&Ev)}:{h:Number(t>>E_&Ev)|0,l:Number(t&Ev)|0}}function GTe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=IQ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const KTe=(t,e)=>BigInt(t>>>0)<<E_|BigInt(e>>>0),YTe=(t,e,r)=>t>>>r,ZTe=(t,e,r)=>t<<32-r|e>>>r,JTe=(t,e,r)=>t>>>r|e<<32-r,QTe=(t,e,r)=>t<<32-r|e>>>r,XTe=(t,e,r)=>t<<64-r|e>>>r-32,ePe=(t,e,r)=>t>>>r-32|e<<64-r,tPe=(t,e)=>e,rPe=(t,e)=>t,nPe=(t,e,r)=>t<<r|e>>>32-r,iPe=(t,e,r)=>e<<r|t>>>32-r,sPe=(t,e,r)=>e<<r-32|t>>>64-r,oPe=(t,e,r)=>t<<r-32|e>>>64-r;function aPe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const lPe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cPe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uPe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),dPe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,hPe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),fPe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Nt={fromBig:IQ,split:GTe,toBig:KTe,shrSH:YTe,shrSL:ZTe,rotrSH:JTe,rotrSL:QTe,rotrBH:XTe,rotrBL:ePe,rotr32H:tPe,rotr32L:rPe,rotlSH:nPe,rotlSL:iPe,rotlBH:sPe,rotlBL:oPe,add:aPe,add3L:lPe,add3H:cPe,add4L:uPe,add4H:dPe,add5H:fPe,add5L:hPe},[pPe,gPe]=Nt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Tu=new Uint32Array(80),Pu=new Uint32Array(80);let mPe=class extends VTe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Tu[v]=e.getUint32(r),Pu[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const A=Tu[v-15]|0,E=Pu[v-15]|0,O=Nt.rotrSH(A,E,1)^Nt.rotrSH(A,E,8)^Nt.shrSH(A,E,7),N=Nt.rotrSL(A,E,1)^Nt.rotrSL(A,E,8)^Nt.shrSL(A,E,7),R=Tu[v-2]|0,T=Pu[v-2]|0,L=Nt.rotrSH(R,T,19)^Nt.rotrBH(R,T,61)^Nt.shrSH(R,T,6),B=Nt.rotrSL(R,T,19)^Nt.rotrBL(R,T,61)^Nt.shrSL(R,T,6),W=Nt.add4L(N,B,Pu[v-7],Pu[v-16]),j=Nt.add4H(W,O,L,Tu[v-7],Tu[v-16]);Tu[v]=j|0,Pu[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const A=Nt.rotrSH(h,f,14)^Nt.rotrSH(h,f,18)^Nt.rotrBH(h,f,41),E=Nt.rotrSL(h,f,14)^Nt.rotrSL(h,f,18)^Nt.rotrBL(h,f,41),O=h&p^~h&m,N=f&g^~f&w,R=Nt.add5L(b,E,N,gPe[v],Pu[v]),T=Nt.add5H(R,y,A,O,pPe[v],Tu[v]),L=R|0,B=Nt.rotrSH(n,i,28)^Nt.rotrBH(n,i,34)^Nt.rotrBH(n,i,39),W=Nt.rotrSL(n,i,28)^Nt.rotrBL(n,i,34)^Nt.rotrBL(n,i,39),j=n&s^n&a^s&a,_=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=Nt.add(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const C=Nt.add3L(L,W,_);n=Nt.add3H(C,T,B,j),i=C|0}({h:n,l:i}=Nt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Nt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Nt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Nt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Nt.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=Nt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=Nt.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=Nt.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){Tu.fill(0),Pu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const yPe=HTe(()=>new mPe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eI=BigInt(0),TQ=BigInt(1),wPe=BigInt(2);function tI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rI(t){if(!tI(t))throw new Error("Uint8Array expected")}function p9(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const vPe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nI(t){rI(t);let e="";for(let r=0;r<t.length;r++)e+=vPe[t[r]];return e}function PQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?eI:BigInt("0x"+t)}const mc={_0:48,_9:57,A:65,F:70,a:97,f:102};function SM(t){if(t>=mc._0&&t<=mc._9)return t-mc._0;if(t>=mc.A&&t<=mc.F)return t-(mc.A-10);if(t>=mc.a&&t<=mc.f)return t-(mc.a-10)}function NQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=SM(t.charCodeAt(s)),a=SM(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function bPe(t){return PQ(nI(t))}function Sb(t){return rI(t),PQ(nI(Uint8Array.from(t).reverse()))}function OQ(t,e){return NQ(t.toString(16).padStart(e*2,"0"))}function C_(t,e){return OQ(t,e).reverse()}function yc(t,e,r){let n;if(typeof e=="string")try{n=NQ(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(tI(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function IM(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];rI(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const g9=t=>typeof t=="bigint"&&eI<=t;function xPe(t,e,r){return g9(t)&&g9(e)&&g9(r)&&e<=t&&t<r}function km(t,e,r,n){if(!xPe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function EPe(t){let e;for(e=0;t>eI;t>>=TQ,e+=1);return e}const CPe=t=>(wPe<<BigInt(t-1))-TQ,_Pe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||tI(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function iI(t,e,r={}){const n=(i,s,o)=>{const a=_Pe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function TM(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Wn=BigInt(0),hn=BigInt(1),bh=BigInt(2),APe=BigInt(3),__=BigInt(4),PM=BigInt(5),NM=BigInt(8);function In(t,e){const r=t%e;return r>=Wn?r:e+r}function kPe(t,e,r){if(e<Wn)throw new Error("invalid exponent, negatives unsupported");if(r<=Wn)throw new Error("invalid modulus");if(r===hn)return Wn;let n=hn;for(;e>Wn;)e&hn&&(n=n*t%r),t=t*t%r,e>>=hn;return n}function fl(t,e,r){let n=t;for(;e-- >Wn;)n*=n,n%=r;return n}function OM(t,e){if(t===Wn)throw new Error("invert: expected non-zero number");if(e<=Wn)throw new Error("invert: expected positive modulus, got "+e);let r=In(t,e),n=e,i=Wn,s=hn;for(;r!==Wn;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==hn)throw new Error("invert: does not exist");return In(i,e)}function $Pe(t){const e=(t-hn)/bh;let r,n,i;for(r=t-hn,n=0;r%bh===Wn;r/=bh,n++);for(i=bh;i<t&&kPe(i,e,t)!==t-hn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+hn)/__;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+hn)/bh;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let g=o.sqr(h);f<l&&!o.eql(g,o.ONE);f++)g=o.sqr(g);const p=o.pow(c,hn<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function SPe(t){if(t%__===APe){const e=(t+hn)/__;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%NM===PM){const e=(t-PM)/NM;return function(r,n){const i=r.mul(n,bh),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,bh),s),l=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return $Pe(t)}const IPe=(t,e)=>(In(t,e)&hn)===hn,TPe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function PPe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=TPe.reduce((n,i)=>(n[i]="function",n),e);return iI(t,r)}function NPe(t,e,r){if(r<Wn)throw new Error("invalid exponent, negatives unsupported");if(r===Wn)return t.ONE;if(r===hn)return e;let n=t.ONE,i=e;for(;r>Wn;)r&hn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=hn;return n}function OPe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function RQ(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function jQ(t,e,r=!1,n={}){if(t<=Wn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=RQ(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:CPe(i),ZERO:Wn,ONE:hn,create:l=>In(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Wn<=l&&l<t},is0:l=>l===Wn,isOdd:l=>(l&hn)===hn,neg:l=>In(-l,t),eql:(l,c)=>l===c,sqr:l=>In(l*l,t),add:(l,c)=>In(l+c,t),sub:(l,c)=>In(l-c,t),mul:(l,c)=>In(l*c,t),pow:(l,c)=>NPe(a,l,c),div:(l,c)=>In(l*OM(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>OM(l,t),sqrt:n.sqrt||(l=>(o||(o=SPe(t)),o(a,l))),invertBatch:l=>OPe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?C_(l,s):OQ(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?Sb(l):bPe(l)}});return Object.freeze(a)}const RM=BigInt(0),Cv=BigInt(1);function m9(t,e){const r=e.negate();return t?r:e}function MQ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function y9(t,e){MQ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function RPe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function jPe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const w9=new WeakMap,DQ=new WeakMap;function v9(t){return DQ.get(t)||1}function MPe(t,e){return{constTimeNegate:m9,hasPrecomputes(r){return v9(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>RM;)n&Cv&&(i=i.add(s)),s=s.double(),n>>=Cv;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=y9(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=y9(r,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let f=0;f<s;f++){const p=f*o;let g=Number(i&c);i>>=h,g>o&&(g-=u,i+=Cv);const m=p,w=p+Math.abs(g)-1,y=f%2!==0,b=g<0;g===0?l=l.add(m9(y,n[m])):a=a.add(m9(b,n[w]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=y9(r,e),l=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let h=0;h<o;h++){const f=h*a;if(i===RM)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=Cv),p===0)continue;let g=n[f+Math.abs(p)-1];p<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=w9.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&w9.set(n,i(s))),s},wNAFCached(r,n,i){const s=v9(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=v9(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){MQ(n,e),DQ.set(r,n),w9.delete(r)}}}function DPe(t,e,r,n){if(RPe(r,t),jPe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=EPe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<n.length;p++){const g=n[p],m=Number(g>>BigInt(h)&BigInt(a));l[m]=l[m].add(r[p])}let f=i;for(let p=l.length-1,g=i;p>0;p--)g=g.add(l[p]),f=f.add(g);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function FPe(t){return PPe(t.Fp),iI(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const wa=BigInt(0),ds=BigInt(1),_v=BigInt(2),LPe=BigInt(8),BPe={zip215:!0};function UPe(t){const e=FPe(t);return iI(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function zPe(t){const e=UPe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=_v<<BigInt(a*8)-ds,u=r.create,h=jQ(e.n,e.nBitLength),f=e.uvRatio||((C,$)=>{try{return{isValid:!0,value:r.sqrt(C*r.inv($))}}catch{return{isValid:!1,value:wa}}}),p=e.adjustScalarBytes||(C=>C),g=e.domain||((C,$,P)=>{if(p9("phflag",P),$.length||P)throw new Error("Contexts/pre-hash are not supported");return C});function m(C,$){km("coordinate "+C,$,wa,c)}function w(C){if(!(C instanceof v))throw new Error("ExtendedPoint expected")}const y=TM((C,$)=>{const{ex:P,ey:S,ez:I}=C,D=C.is0();$==null&&($=D?LPe:r.inv(I));const F=u(P*$),k=u(S*$),z=u(I*$);if(D)return{x:wa,y:ds};if(z!==ds)throw new Error("invZ was invalid");return{x:F,y:k}}),b=TM(C=>{const{a:$,d:P}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:S,ey:I,ez:D,et:F}=C,k=u(S*S),z=u(I*I),V=u(D*D),M=u(V*V),G=u(k*$),Z=u(V*u(G+z)),K=u(M+u(P*u(k*z)));if(Z!==K)throw new Error("bad point: equation left != right (1)");const re=u(S*I),le=u(D*F);if(re!==le)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor($,P,S,I){this.ex=$,this.ey=P,this.ez=S,this.et=I,m("x",$),m("y",P),m("z",S),m("t",I),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof v)throw new Error("extended point not allowed");const{x:P,y:S}=$||{};return m("x",P),m("y",S),new v(P,S,ds,u(P*S))}static normalizeZ($){const P=r.invertBatch($.map(S=>S.ez));return $.map((S,I)=>S.toAffine(P[I])).map(v.fromAffine)}static msm($,P){return DPe(v,h,$,P)}_setWindowSize($){O.setWindowSize(this,$)}assertValidity(){b(this)}equals($){w($);const{ex:P,ey:S,ez:I}=this,{ex:D,ey:F,ez:k}=$,z=u(P*k),V=u(D*I),M=u(S*k),G=u(F*I);return z===V&&M===G}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:$}=e,{ex:P,ey:S,ez:I}=this,D=u(P*P),F=u(S*S),k=u(_v*u(I*I)),z=u($*D),V=P+S,M=u(u(V*V)-D-F),G=z+F,Z=G-k,K=z-F,re=u(M*Z),le=u(G*K),ne=u(M*K),ae=u(Z*G);return new v(re,le,ae,ne)}add($){w($);const{a:P,d:S}=e,{ex:I,ey:D,ez:F,et:k}=this,{ex:z,ey:V,ez:M,et:G}=$;if(P===BigInt(-1)){const ve=u((D-I)*(V+z)),se=u((D+I)*(V-z)),ye=u(se-ve);if(ye===wa)return this.double();const yt=u(F*_v*G),ce=u(k*_v*M),$e=ce+yt,De=se+ve,Xe=ce-yt,Ke=u($e*ye),kt=u(De*Xe),ht=u($e*Xe),rt=u(ye*De);return new v(Ke,kt,rt,ht)}const Z=u(I*z),K=u(D*V),re=u(k*S*G),le=u(F*M),ne=u((I+D)*(z+V)-Z-K),ae=le-re,me=le+re,ue=u(K-P*Z),de=u(ne*ae),Je=u(me*ue),ie=u(ne*ue),be=u(ae*me);return new v(de,Je,be,ie)}subtract($){return this.add($.negate())}wNAF($){return O.wNAFCached(this,$,v.normalizeZ)}multiply($){const P=$;km("scalar",P,ds,n);const{p:S,f:I}=this.wNAF(P);return v.normalizeZ([S,I])[0]}multiplyUnsafe($,P=v.ZERO){const S=$;return km("scalar",S,wa,n),S===wa?E:this.is0()||S===ds?this:O.wNAFCachedUnsafe(this,S,v.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return O.unsafeLadder(this,n).is0()}toAffine($){return y(this,$)}clearCofactor(){const{h:$}=e;return $===ds?this:this.multiplyUnsafe($)}static fromHex($,P=!1){const{d:S,a:I}=e,D=r.BYTES;$=yc("pointHex",$,D),p9("zip215",P);const F=$.slice(),k=$[D-1];F[D-1]=k&-129;const z=Sb(F),V=P?c:r.ORDER;km("pointHex.y",z,wa,V);const M=u(z*z),G=u(M-ds),Z=u(S*M-I);let{isValid:K,value:re}=f(G,Z);if(!K)throw new Error("Point.fromHex: invalid y coordinate");const le=(re&ds)===ds,ne=(k&128)!==0;if(!P&&re===wa&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==le&&(re=u(-re)),v.fromAffine({x:re,y:z})}static fromPrivateKey($){return T($).point}toRawBytes(){const{x:$,y:P}=this.toAffine(),S=C_(P,r.BYTES);return S[S.length-1]|=$&ds?128:0,S}toHex(){return nI(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,ds,u(e.Gx*e.Gy)),v.ZERO=new v(wa,ds,ds,wa);const{BASE:A,ZERO:E}=v,O=MPe(v,a*8);function N(C){return In(C,n)}function R(C){return N(Sb(C))}function T(C){const $=r.BYTES;C=yc("private key",C,$);const P=yc("hashed private key",s(C),2*$),S=p(P.slice(0,$)),I=P.slice($,2*$),D=R(S),F=A.multiply(D),k=F.toRawBytes();return{head:S,prefix:I,scalar:D,point:F,pointBytes:k}}function L(C){return T(C).pointBytes}function B(C=new Uint8Array,...$){const P=IM(...$);return R(s(g(P,yc("context",C),!!i)))}function W(C,$,P={}){C=yc("message",C),i&&(C=i(C));const{prefix:S,scalar:I,pointBytes:D}=T($),F=B(P.context,S,C),k=A.multiply(F).toRawBytes(),z=B(P.context,k,D,C),V=N(F+z*I);km("signature.s",V,wa,n);const M=IM(k,C_(V,r.BYTES));return yc("result",M,r.BYTES*2)}const j=BPe;function _(C,$,P,S=j){const{context:I,zip215:D}=S,F=r.BYTES;C=yc("signature",C,2*F),$=yc("message",$),P=yc("publicKey",P,F),D!==void 0&&p9("zip215",D),i&&($=i($));const k=Sb(C.slice(F,2*F));let z,V,M;try{z=v.fromHex(P,D),V=v.fromHex(C.slice(0,F),D),M=A.multiplyUnsafe(k)}catch{return!1}if(!D&&z.isSmallOrder())return!1;const G=B(I,V.toRawBytes(),z.toRawBytes(),$);return V.add(z.multiplyUnsafe(G)).subtract(M).clearCofactor().equals(v.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:L,sign:W,verify:_,ExtendedPoint:v,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(r.BYTES),precompute(C=8,$=v.BASE){return $._setWindowSize(C),$.multiply(BigInt(3)),$}}}}BigInt(0),BigInt(1);const sI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),jM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const WPe=BigInt(1),MM=BigInt(2);BigInt(3);const HPe=BigInt(5),qPe=BigInt(8);function VPe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=sI,o=t*t%s*t%s,a=fl(o,MM,s)*o%s,l=fl(a,WPe,s)*t%s,c=fl(l,HPe,s)*l%s,u=fl(c,e,s)*c%s,h=fl(u,r,s)*u%s,f=fl(h,n,s)*h%s,p=fl(f,i,s)*f%s,g=fl(p,i,s)*f%s,m=fl(g,e,s)*c%s;return{pow_p_5_8:fl(m,MM,s)*t%s,b2:o}}function GPe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function KPe(t,e){const r=sI,n=In(e*e*e,r),i=In(n*n*e,r),s=VPe(t*i).pow_p_5_8;let o=In(t*n*s,r);const a=In(e*o*o,r),l=o,c=In(o*jM,r),u=a===t,h=a===In(-t,r),f=a===In(-t*jM,r);return u&&(o=l),(h||f)&&(o=c),IPe(o,r)&&(o=In(-o,r)),{isValid:u||h,value:o}}const YPe=jQ(sI,void 0,!0),ZPe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:YPe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:qPe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:yPe,randomBytes:SQ,adjustScalarBytes:GPe,uvRatio:KPe},FQ=zPe(ZPe),JPe="EdDSA",QPe="JWT",s5=".",g4="base64url",LQ="utf8",BQ="utf8",XPe=":",eNe="did",tNe="key",DM="base58btc",rNe="z",nNe="K36",iNe=32;function oI(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function UQ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?oI(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function zQ(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=UQ(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return oI(r)}function sNe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,A=new Uint8Array(v);y!==b;){for(var E=g[y],O=0,N=v-1;(E!==0||O<w)&&N!==-1;N--,O++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=O,y++}for(var R=v-w;R!==v&&A[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(A[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var A=r[g.charCodeAt(m)];if(A===255)return;for(var E=0,O=b-1;(A!==0||E<y)&&O!==-1;O--,E++)A+=a*v[O]>>>0,v[O]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}if(g[m]!==" "){for(var N=b-y;N!==b&&v[N]===0;)N++;for(var R=new Uint8Array(w+(b-N)),T=w;N!==b;)R[T++]=v[N++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var oNe=sNe,aNe=oNe;const WQ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lNe=t=>new TextEncoder().encode(t),cNe=t=>new TextDecoder().decode(t);let uNe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dNe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HQ(this,e)}},hNe=class{constructor(e){this.decoders=e}or(e){return HQ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const HQ=(t,e)=>new hNe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let fNe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new uNe(e,r,n),this.decoder=new dNe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const m4=({name:t,prefix:e,encode:r,decode:n})=>new fNe(t,e,r,n),c2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=aNe(r,e);return m4({prefix:t,name:e,encode:n,decode:s=>WQ(i(s))})},pNe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},gNe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>m4({prefix:e,name:t,encode(i){return gNe(i,n,r)},decode(i){return pNe(i,n,r,t)}}),mNe=m4({prefix:"\0",name:"identity",encode:t=>cNe(t),decode:t=>lNe(t)});var yNe=Object.freeze({__proto__:null,identity:mNe});const wNe=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vNe=Object.freeze({__proto__:null,base2:wNe});const bNe=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var xNe=Object.freeze({__proto__:null,base8:bNe});const ENe=c2({prefix:"9",name:"base10",alphabet:"0123456789"});var CNe=Object.freeze({__proto__:null,base10:ENe});const _Ne=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ANe=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var kNe=Object.freeze({__proto__:null,base16:_Ne,base16upper:ANe});const $Ne=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SNe=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),INe=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TNe=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),PNe=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NNe=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ONe=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RNe=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jNe=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var MNe=Object.freeze({__proto__:null,base32:$Ne,base32upper:SNe,base32pad:INe,base32padupper:TNe,base32hex:PNe,base32hexupper:NNe,base32hexpad:ONe,base32hexpadupper:RNe,base32z:jNe});const DNe=c2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FNe=c2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var LNe=Object.freeze({__proto__:null,base36:DNe,base36upper:FNe});const BNe=c2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UNe=c2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zNe=Object.freeze({__proto__:null,base58btc:BNe,base58flickr:UNe});const WNe=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HNe=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qNe=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),VNe=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var GNe=Object.freeze({__proto__:null,base64:WNe,base64pad:HNe,base64url:qNe,base64urlpad:VNe});const qQ=Array.from(""),KNe=qQ.reduce((t,e,r)=>(t[r]=e,t),[]),YNe=qQ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ZNe(t){return t.reduce((e,r)=>(e+=KNe[r],e),"")}function JNe(t){const e=[];for(const r of t){const n=YNe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const QNe=m4({prefix:"",name:"base256emoji",encode:ZNe,decode:JNe});var XNe=Object.freeze({__proto__:null,base256emoji:QNe}),eOe=VQ,FM=128,tOe=-128,rOe=Math.pow(2,31);function VQ(t,e,r){e=e||[],r=r||0;for(var n=r;t>=rOe;)e[r++]=t&255|FM,t/=128;for(;t&tOe;)e[r++]=t&255|FM,t>>>=7;return e[r]=t|0,VQ.bytes=r-n+1,e}var nOe=A_,iOe=128,LM=127;function A_(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw A_.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&LM)<<i:(o&LM)*Math.pow(2,i),i+=7}while(o>=iOe);return A_.bytes=s-n,r}var sOe=Math.pow(2,7),oOe=Math.pow(2,14),aOe=Math.pow(2,21),lOe=Math.pow(2,28),cOe=Math.pow(2,35),uOe=Math.pow(2,42),dOe=Math.pow(2,49),hOe=Math.pow(2,56),fOe=Math.pow(2,63),pOe=function(t){return t<sOe?1:t<oOe?2:t<aOe?3:t<lOe?4:t<cOe?5:t<uOe?6:t<dOe?7:t<hOe?8:t<fOe?9:10},gOe={encode:eOe,decode:nOe,encodingLength:pOe},GQ=gOe;const BM=(t,e,r=0)=>(GQ.encode(t,e,r),e),UM=t=>GQ.encodingLength(t),k_=(t,e)=>{const r=e.byteLength,n=UM(t),i=n+UM(r),s=new Uint8Array(i+r);return BM(t,s,0),BM(r,s,n),s.set(e,i),new mOe(t,r,e,s)};let mOe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const KQ=({name:t,code:e,encode:r})=>new yOe(t,e,r);let yOe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?k_(this.code,r):r.then(n=>k_(this.code,n))}else throw Error("Unknown type, must be binary type")}};const YQ=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),wOe=KQ({name:"sha2-256",code:18,encode:YQ("SHA-256")}),vOe=KQ({name:"sha2-512",code:19,encode:YQ("SHA-512")});var bOe=Object.freeze({__proto__:null,sha256:wOe,sha512:vOe});const ZQ=0,xOe="identity",JQ=WQ,EOe=t=>k_(ZQ,JQ(t)),COe={code:ZQ,name:xOe,encode:JQ,digest:EOe};var _Oe=Object.freeze({__proto__:null,identity:COe});new TextEncoder,new TextDecoder;const zM={...yNe,...vNe,...xNe,...CNe,...kNe,...MNe,...LNe,...zNe,...GNe,...XNe};({...bOe,..._Oe});function QQ(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const WM=QQ("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),b9=QQ("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=UQ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),XQ={utf8:WM,"utf-8":WM,hex:zM.base16,latin1:b9,ascii:b9,binary:b9,...zM};function y4(t,e="utf8"){const r=XQ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function zg(t,e="utf8"){const r=XQ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?oI(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function HM(t){return mf(y4(zg(t,g4),LQ))}function o5(t){return y4(zg(au(t),LQ),g4)}function eX(t){const e=zg(nNe,DM),r=rNe+y4(zQ([e,t]),DM);return[eNe,tNe,r].join(XPe)}function AOe(t){return y4(t,g4)}function kOe(t){return zg(t,g4)}function $Oe(t){return zg([o5(t.header),o5(t.payload)].join(s5),BQ)}function SOe(t){return[o5(t.header),o5(t.payload),AOe(t.signature)].join(s5)}function $_(t){const e=t.split(s5),r=HM(e[0]),n=HM(e[1]),i=kOe(e[2]),s=zg(e.slice(0,2).join(s5),BQ);return{header:r,payload:n,signature:i,data:s}}function qM(t=SQ(iNe)){const e=FQ.getPublicKey(t);return{secretKey:zQ([t,e]),publicKey:e}}async function IOe(t,e,r,n,i=Ne.fromMiliseconds(Date.now())){const s={alg:JPe,typ:QPe},o=eX(n.publicKey),a=i+r,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=$Oe({header:s,payload:l}),u=FQ.sign(c,n.secretKey.slice(0,32));return SOe({header:s,payload:l,signature:u})}function aI(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function tX(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?aI(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function j1(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=tX(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return aI(r)}function TOe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,A=new Uint8Array(v);y!==b;){for(var E=g[y],O=0,N=v-1;(E!==0||O<w)&&N!==-1;N--,O++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=O,y++}for(var R=v-w;R!==v&&A[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(A[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var A=r[g.charCodeAt(m)];if(A===255)return;for(var E=0,O=b-1;(A!==0||E<y)&&O!==-1;O--,E++)A+=a*v[O]>>>0,v[O]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}if(g[m]!==" "){for(var N=b-y;N!==b&&v[N]===0;)N++;for(var R=new Uint8Array(w+(b-N)),T=w;N!==b;)R[T++]=v[N++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var POe=TOe,NOe=POe;const OOe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ROe=t=>new TextEncoder().encode(t),jOe=t=>new TextDecoder().decode(t);class MOe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class DOe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return rX(this,e)}}class FOe{constructor(e){this.decoders=e}or(e){return rX(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rX=(t,e)=>new FOe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class LOe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new MOe(e,r,n),this.decoder=new DOe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const w4=({name:t,prefix:e,encode:r,decode:n})=>new LOe(t,e,r,n),u2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=NOe(r,e);return w4({prefix:t,name:e,encode:n,decode:s=>OOe(i(s))})},BOe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},UOe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>w4({prefix:e,name:t,encode(i){return UOe(i,n,r)},decode(i){return BOe(i,n,r,t)}}),zOe=w4({prefix:"\0",name:"identity",encode:t=>jOe(t),decode:t=>ROe(t)}),WOe=Object.freeze(Object.defineProperty({__proto__:null,identity:zOe},Symbol.toStringTag,{value:"Module"})),HOe=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),qOe=Object.freeze(Object.defineProperty({__proto__:null,base2:HOe},Symbol.toStringTag,{value:"Module"})),VOe=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),GOe=Object.freeze(Object.defineProperty({__proto__:null,base8:VOe},Symbol.toStringTag,{value:"Module"})),KOe=u2({prefix:"9",name:"base10",alphabet:"0123456789"}),YOe=Object.freeze(Object.defineProperty({__proto__:null,base10:KOe},Symbol.toStringTag,{value:"Module"})),ZOe=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),JOe=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),QOe=Object.freeze(Object.defineProperty({__proto__:null,base16:ZOe,base16upper:JOe},Symbol.toStringTag,{value:"Module"})),XOe=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eRe=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tRe=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rRe=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nRe=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iRe=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sRe=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oRe=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aRe=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lRe=Object.freeze(Object.defineProperty({__proto__:null,base32:XOe,base32hex:nRe,base32hexpad:sRe,base32hexpadupper:oRe,base32hexupper:iRe,base32pad:tRe,base32padupper:rRe,base32upper:eRe,base32z:aRe},Symbol.toStringTag,{value:"Module"})),cRe=u2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uRe=u2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),dRe=Object.freeze(Object.defineProperty({__proto__:null,base36:cRe,base36upper:uRe},Symbol.toStringTag,{value:"Module"})),hRe=u2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fRe=u2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pRe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:hRe,base58flickr:fRe},Symbol.toStringTag,{value:"Module"})),gRe=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mRe=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yRe=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wRe=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),vRe=Object.freeze(Object.defineProperty({__proto__:null,base64:gRe,base64pad:mRe,base64url:yRe,base64urlpad:wRe},Symbol.toStringTag,{value:"Module"})),nX=Array.from(""),bRe=nX.reduce((t,e,r)=>(t[r]=e,t),[]),xRe=nX.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ERe(t){return t.reduce((e,r)=>(e+=bRe[r],e),"")}function CRe(t){const e=[];for(const r of t){const n=xRe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const _Re=w4({prefix:"",name:"base256emoji",encode:ERe,decode:CRe}),ARe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:_Re},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const VM={...WOe,...qOe,...GOe,...YOe,...QOe,...lRe,...dRe,...pRe,...vRe,...ARe};function iX(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const GM=iX("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),x9=iX("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=tX(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),sX={utf8:GM,"utf-8":GM,hex:VM.base16,latin1:x9,ascii:x9,binary:x9,...VM};function Go(t,e="utf8"){const r=sX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?aI(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ps(t,e="utf8"){const r=sX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const kRe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},$Re="Input must be an string, Buffer or Uint8Array";function SRe(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error($Re);return e}function IRe(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Av(t){return(4294967296+t).toString(16).substring(1)}function TRe(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=Av(e[i]).toUpperCase(),n+=" ",n+=Av(e[i+1]).toUpperCase();else if(r===64)n+=Av(e[i+1]).toUpperCase(),n+=Av(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6===4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function PRe(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<r;o++){const a=t(i),l=new Date().getTime(),c=l-n;n=l,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var oX={normalizeInput:SRe,toHex:IRe,debugPrint:TRe,testSpeed:PRe};const Ib=oX;function kv(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function KM(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function aX(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Nu(t,e,r,n,i,s){const o=s1[i],a=s1[i+1],l=s1[s],c=s1[s+1];kv(St,t,e),KM(St,t,o,a);let u=St[n]^St[t],h=St[n+1]^St[t+1];St[n]=h,St[n+1]=u,kv(St,r,n),u=St[e]^St[r],h=St[e+1]^St[r+1],St[e]=u>>>24^h<<8,St[e+1]=h>>>24^u<<8,kv(St,t,e),KM(St,t,l,c),u=St[n]^St[t],h=St[n+1]^St[t+1],St[n]=u>>>16^h<<16,St[n+1]=h>>>16^u<<16,kv(St,r,n),u=St[e]^St[r],h=St[e+1]^St[r+1],St[e]=h>>>31^u<<1,St[e+1]=u>>>31^h<<1}const lX=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),NRe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],bi=new Uint8Array(NRe.map(function(t){return t*2})),St=new Uint32Array(32),s1=new Uint32Array(32);function cX(t,e){let r=0;for(r=0;r<16;r++)St[r]=t.h[r],St[r+16]=lX[r];for(St[24]=St[24]^t.t,St[25]=St[25]^t.t/4294967296,e&&(St[28]=~St[28],St[29]=~St[29]),r=0;r<32;r++)s1[r]=aX(t.b,4*r);for(r=0;r<12;r++)Nu(0,8,16,24,bi[r*16+0],bi[r*16+1]),Nu(2,10,18,26,bi[r*16+2],bi[r*16+3]),Nu(4,12,20,28,bi[r*16+4],bi[r*16+5]),Nu(6,14,22,30,bi[r*16+6],bi[r*16+7]),Nu(0,10,20,30,bi[r*16+8],bi[r*16+9]),Nu(2,12,22,24,bi[r*16+10],bi[r*16+11]),Nu(4,14,16,26,bi[r*16+12],bi[r*16+13]),Nu(6,8,18,28,bi[r*16+14],bi[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^St[r]^St[r+16]}const Ou=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function uX(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};Ou.fill(0),Ou[0]=t,e&&(Ou[1]=e.length),Ou[2]=1,Ou[3]=1,r&&Ou.set(r,32),n&&Ou.set(n,48);for(let s=0;s<16;s++)i.h[s]=lX[s]^aX(Ou,s*4);return e&&(lI(i,e),i.c=128),i}function lI(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,cX(t,!1),t.c=0),t.b[t.c++]=e[r]}function dX(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;cX(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function hX(t,e,r,n,i){r=r||64,t=Ib.normalizeInput(t),n&&(n=Ib.normalizeInput(n)),i&&(i=Ib.normalizeInput(i));const s=uX(r,e,n,i);return lI(s,t),dX(s)}function ORe(t,e,r,n,i){const s=hX(t,e,r,n,i);return Ib.toHex(s)}var RRe={blake2b:hX,blake2bHex:ORe,blake2bInit:uX,blake2bUpdate:lI,blake2bFinal:dX};const fX=oX;function jRe(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Ru(t,e,r,n,i,s){sr[t]=sr[t]+sr[e]+i,sr[n]=$v(sr[n]^sr[t],16),sr[r]=sr[r]+sr[n],sr[e]=$v(sr[e]^sr[r],12),sr[t]=sr[t]+sr[e]+s,sr[n]=$v(sr[n]^sr[t],8),sr[r]=sr[r]+sr[n],sr[e]=$v(sr[e]^sr[r],7)}function $v(t,e){return t>>>e^t<<32-e}const pX=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xi=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),sr=new Uint32Array(16),Vn=new Uint32Array(16);function gX(t,e){let r=0;for(r=0;r<8;r++)sr[r]=t.h[r],sr[r+8]=pX[r];for(sr[12]^=t.t,sr[13]^=t.t/4294967296,e&&(sr[14]=~sr[14]),r=0;r<16;r++)Vn[r]=jRe(t.b,4*r);for(r=0;r<10;r++)Ru(0,4,8,12,Vn[xi[r*16+0]],Vn[xi[r*16+1]]),Ru(1,5,9,13,Vn[xi[r*16+2]],Vn[xi[r*16+3]]),Ru(2,6,10,14,Vn[xi[r*16+4]],Vn[xi[r*16+5]]),Ru(3,7,11,15,Vn[xi[r*16+6]],Vn[xi[r*16+7]]),Ru(0,5,10,15,Vn[xi[r*16+8]],Vn[xi[r*16+9]]),Ru(1,6,11,12,Vn[xi[r*16+10]],Vn[xi[r*16+11]]),Ru(2,7,8,13,Vn[xi[r*16+12]],Vn[xi[r*16+13]]),Ru(3,4,9,14,Vn[xi[r*16+14]],Vn[xi[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=sr[r]^sr[r+8]}function mX(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(pX),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(cI(n,e),n.c=64),n}function cI(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,gX(t,!1),t.c=0),t.b[t.c++]=e[r]}function yX(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;gX(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function wX(t,e,r){r=r||32,t=fX.normalizeInput(t);const n=mX(r,e);return cI(n,t),yX(n)}function MRe(t,e,r){const n=wX(t,e,r);return fX.toHex(n)}var DRe={blake2s:wX,blake2sHex:MRe,blake2sInit:mX,blake2sUpdate:cI,blake2sFinal:yX};const $m=RRe,Sm=DRe;var FRe={blake2b:$m.blake2b,blake2bHex:$m.blake2bHex,blake2bInit:$m.blake2bInit,blake2bUpdate:$m.blake2bUpdate,blake2bFinal:$m.blake2bFinal,blake2s:Sm.blake2s,blake2sHex:Sm.blake2sHex,blake2sInit:Sm.blake2sInit,blake2sUpdate:Sm.blake2sUpdate,blake2sFinal:Sm.blake2sFinal},LRe={};const BRe=":";function Wh(t){const[e,r]=t.split(BRe);return{namespace:e,reference:r}}function YM(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function vX(t,e){return t.includes(":")?[t]:e.chains||[]}var URe=Object.defineProperty,zRe=Object.defineProperties,WRe=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,HRe=Object.prototype.hasOwnProperty,qRe=Object.prototype.propertyIsEnumerable,S_=(t,e,r)=>e in t?URe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JM=(t,e)=>{for(var r in e||(e={}))HRe.call(e,r)&&S_(t,r,e[r]);if(ZM)for(var r of ZM(e))qRe.call(e,r)&&S_(t,r,e[r]);return t},VRe=(t,e)=>zRe(t,WRe(e)),QM=(t,e,r)=>S_(t,typeof e!="symbol"?e+"":e,r);const GRe="ReactNative",oo={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},KRe="js";function a5(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Kd(){return!pf()&&!!ZS()&&navigator.product===GRe}function YRe(){return Kd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function ZRe(){return Kd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Wg(){return!a5()&&!!ZS()&&!!pf()}function d2(){return Kd()?oo.reactNative:a5()?oo.node:Wg()?oo.browser:oo.unknown}function XM(){var t;try{return Kd()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function JRe(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function QRe(t){var e,r;const n=bX();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),VRe(JM(JM({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function bX(){return cQ()||{name:"",description:"",url:"",icons:[""]}}function XRe(){if(d2()===oo.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=DSe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function eje(){var t;const e=d2();return e===oo.browser?[e,((t=lQ())==null?void 0:t.host)||"unknown"].join(":"):e}function xX(t,e,r){const n=XRe(),i=eje();return[[t,e].join("-"),[KRe,r].join("-"),n,i].join("/")}function tje({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=r.split("?"),u=xX(t,e,n),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},f=JRe(c[1]||"",h);return c[0]+"?"+f}function Nh(t,e){return t.filter(r=>e.includes(r)).length===t.length}function I_(t){return Object.fromEntries(t.entries())}function T_(t){return new Map(Object.entries(t))}function fh(t=Ne.FIVE_MINUTES,e){const r=Ne.toMiliseconds(t||Ne.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},r),n=a,i=l})}}function jl(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function EX(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function rje(t){return EX("topic",t)}function nje(t){return EX("id",t)}function CX(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function $n(t,e){return Ne.fromMiliseconds(Date.now()+Ne.toMiliseconds(t))}function Vu(t){return Date.now()>=Ne.toMiliseconds(t)}function cr(t,e){return`${t}${e?`:${e}`:""}`}function Vl(t=[],e=[]){return[...new Set([...t,...e])]}async function ije({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=sje(s,t,e),a=d2();if(a===oo.browser){if(!((n=pf())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}oje(o)}else a===oo.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function sje(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${uje(n,!0)}`}else i=`${i}/wc?${n}`;return i}function oje(t){let e="_self";cje()?e="_top":(lje()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function aje(t,e){let r="";try{if(Wg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function eD(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function tD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function uI(){return typeof process<"u"&&LRe.IS_VITEST==="true"}function lje(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function cje(){try{return window.self!==window.top}catch{return!1}}function uje(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function _X(t){return Buffer.from(t,"base64").toString("utf-8")}function dje(t){return new Promise(e=>setTimeout(e,t))}let hje=class{constructor({limit:e}){QM(this,"limit"),QM(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Sv=BigInt(2**32-1),rD=BigInt(32);function AX(t,e=!1){return e?{h:Number(t&Sv),l:Number(t>>rD&Sv)}:{h:Number(t>>rD&Sv)|0,l:Number(t&Sv)|0}}function kX(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=AX(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const nD=(t,e,r)=>t>>>r,iD=(t,e,r)=>t<<32-r|e>>>r,Gu=(t,e,r)=>t>>>r|e<<32-r,Ku=(t,e,r)=>t<<32-r|e>>>r,o1=(t,e,r)=>t<<64-r|e>>>r-32,a1=(t,e,r)=>t>>>r-32|e<<64-r,fje=(t,e)=>e,pje=(t,e)=>t,gje=(t,e,r)=>t<<r|e>>>32-r,mje=(t,e,r)=>e<<r|t>>>32-r,yje=(t,e,r)=>e<<r-32|t>>>64-r,wje=(t,e,r)=>t<<r-32|e>>>64-r;function ka(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const dI=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),hI=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,vje=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),bje=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,xje=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Eje=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,ap=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ra(t,...e){if(!fI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lu(t.outputLen),lu(t.blockLen)}function Rd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gI(t,e){ra(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function hw(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function na(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function E9(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pl(t,e){return t<<32-e|t>>>e}const $X=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function SX(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Ec=$X?t=>t:t=>SX(t);function Cje(t){for(let e=0;e<t.length;e++)t[e]=SX(t[e]);return t}const Yu=$X?t=>t:Cje,IX=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_je=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fw(t){if(ra(t),IX)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=_je[t[r]];return e}const wc={_0:48,_9:57,A:65,F:70,a:97,f:102};function sD(t){if(t>=wc._0&&t<=wc._9)return t-wc._0;if(t>=wc.A&&t<=wc.F)return t-(wc.A-10);if(t>=wc.a&&t<=wc.f)return t-(wc.a-10)}function mI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(IX)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=sD(t.charCodeAt(s)),a=sD(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function Aje(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function za(t){return typeof t=="string"&&(t=Aje(t)),ra(t),t}function Oh(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ra(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let v4=class{};function h2(t){const e=n=>t().update(za(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function kje(t){const e=(n,i)=>t(i).update(za(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Hg(t=32){if(ap&&typeof ap.getRandomValues=="function")return ap.getRandomValues(new Uint8Array(t));if(ap&&typeof ap.randomBytes=="function")return Uint8Array.from(ap.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const $je=BigInt(0),Im=BigInt(1),Sje=BigInt(2),Ije=BigInt(7),Tje=BigInt(256),Pje=BigInt(113),TX=[],PX=[],NX=[];for(let t=0,e=Im,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],TX.push(2*(5*n+r)),PX.push((t+1)*(t+2)/2%64);let i=$je;for(let s=0;s<7;s++)e=(e<<Im^(e>>Ije)*Pje)%Tje,e&Sje&&(i^=Im<<(Im<<BigInt(s))-Im);NX.push(i)}const OX=kX(NX,!0),Nje=OX[0],Oje=OX[1],oD=(t,e,r)=>r>32?yje(t,e,r):gje(t,e,r),aD=(t,e,r)=>r>32?wje(t,e,r):mje(t,e,r);function Rje(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=oD(c,u,1)^r[a],f=aD(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=PX[o],l=oD(i,s,a),c=aD(i,s,a),u=TX[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Nje[n],t[1]^=Oje[n]}na(r)}let jje=class RX extends v4{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,lu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=hw(this.state)}clone(){return this._cloneInto()}keccak(){Yu(this.state32),Rje(this.state32,this.rounds),Yu(this.state32),this.posOut=0,this.pos=0}update(e){Rd(this),e=za(e),ra(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rd(this,!1),ra(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,na(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new RX(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Mje=(t,e,r)=>h2(()=>new jje(e,t,r)),Dje=Mje(1,136,256/8);function Fje(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function Lje(t,e,r){return t&e^~t&r}function Bje(t,e,r){return t&e^t&r^e&r}let jX=class extends v4{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=E9(this.buffer)}update(e){Rd(this),e=za(e),ra(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=E9(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rd(this),gI(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,na(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;Fje(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=E9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ju=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ei=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ci=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Uje=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Mu=new Uint32Array(64);let zje=class extends jX{constructor(e=32){super(64,e,8,!1),this.A=ju[0]|0,this.B=ju[1]|0,this.C=ju[2]|0,this.D=ju[3]|0,this.E=ju[4]|0,this.F=ju[5]|0,this.G=ju[6]|0,this.H=ju[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Mu[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Mu[h-15],p=Mu[h-2],g=pl(f,7)^pl(f,18)^f>>>3,m=pl(p,17)^pl(p,19)^p>>>10;Mu[h]=m+Mu[h-7]+g+Mu[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=pl(a,6)^pl(a,11)^pl(a,25),p=u+f+Lje(a,l,c)+Uje[h]+Mu[h]|0,g=(pl(n,2)^pl(n,13)^pl(n,22))+Bje(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){na(Mu)}destroy(){this.set(0,0,0,0,0,0,0,0),na(this.buffer)}};const MX=kX(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Wje=MX[0],Hje=MX[1],Du=new Uint32Array(80),Fu=new Uint32Array(80);let yI=class extends jX{constructor(e=64){super(128,e,16,!1),this.Ah=Ci[0]|0,this.Al=Ci[1]|0,this.Bh=Ci[2]|0,this.Bl=Ci[3]|0,this.Ch=Ci[4]|0,this.Cl=Ci[5]|0,this.Dh=Ci[6]|0,this.Dl=Ci[7]|0,this.Eh=Ci[8]|0,this.El=Ci[9]|0,this.Fh=Ci[10]|0,this.Fl=Ci[11]|0,this.Gh=Ci[12]|0,this.Gl=Ci[13]|0,this.Hh=Ci[14]|0,this.Hl=Ci[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Du[v]=e.getUint32(r),Fu[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const A=Du[v-15]|0,E=Fu[v-15]|0,O=Gu(A,E,1)^Gu(A,E,8)^nD(A,E,7),N=Ku(A,E,1)^Ku(A,E,8)^iD(A,E,7),R=Du[v-2]|0,T=Fu[v-2]|0,L=Gu(R,T,19)^o1(R,T,61)^nD(R,T,6),B=Ku(R,T,19)^a1(R,T,61)^iD(R,T,6),W=vje(N,B,Fu[v-7],Fu[v-16]),j=bje(W,O,L,Du[v-7],Du[v-16]);Du[v]=j|0,Fu[v]=W|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const A=Gu(h,f,14)^Gu(h,f,18)^o1(h,f,41),E=Ku(h,f,14)^Ku(h,f,18)^a1(h,f,41),O=h&p^~h&m,N=f&g^~f&w,R=xje(b,E,N,Hje[v],Fu[v]),T=Eje(R,y,A,O,Wje[v],Du[v]),L=R|0,B=Gu(n,i,28)^o1(n,i,34)^o1(n,i,39),W=Ku(n,i,28)^a1(n,i,34)^a1(n,i,39),j=n&s^n&a^s&a,_=i&o^i&l^o&l;y=m|0,b=w|0,m=p|0,w=g|0,p=h|0,g=f|0,{h,l:f}=ka(c|0,u|0,T|0,L|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const C=dI(L,W,_);n=hI(C,T,B,j),i=C|0}({h:n,l:i}=ka(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ka(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=ka(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=ka(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=ka(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=ka(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:w}=ka(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=ka(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,i,s,o,a,l,c,u,h,f,p,g,m,w,y,b)}roundClean(){na(Du,Fu)}destroy(){na(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},qje=class extends yI{constructor(){super(48),this.Ah=Ei[0]|0,this.Al=Ei[1]|0,this.Bh=Ei[2]|0,this.Bl=Ei[3]|0,this.Ch=Ei[4]|0,this.Cl=Ei[5]|0,this.Dh=Ei[6]|0,this.Dl=Ei[7]|0,this.Eh=Ei[8]|0,this.El=Ei[9]|0,this.Fh=Ei[10]|0,this.Fl=Ei[11]|0,this.Gh=Ei[12]|0,this.Gl=Ei[13]|0,this.Hh=Ei[14]|0,this.Hl=Ei[15]|0}};const _i=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Vje=class extends yI{constructor(){super(32),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}};const b4=h2(()=>new zje),Gje=h2(()=>new yI),Kje=h2(()=>new qje),Yje=h2(()=>new Vje),Zje=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),_n=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ze=new Uint32Array(32);function Lu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=ze[2*t],c=ze[2*t+1],u=ze[2*e],h=ze[2*e+1],f=ze[2*r],p=ze[2*r+1],g=ze[2*n],m=ze[2*n+1],w=dI(l,u,o);c=hI(w,c,h,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:fje(m,g),Dl:pje(m)},{h:p,l:f}=ka(p,f,m,g),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:Gu(h,u,24),Bl:Ku(h,u,24)},ze[2*t]=l,ze[2*t+1]=c,ze[2*e]=u,ze[2*e+1]=h,ze[2*r]=f,ze[2*r+1]=p,ze[2*n]=g,ze[2*n+1]=m}function Bu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=ze[2*t],c=ze[2*t+1],u=ze[2*e],h=ze[2*e+1],f=ze[2*r],p=ze[2*r+1],g=ze[2*n],m=ze[2*n+1],w=dI(l,u,o);c=hI(w,c,h,a),l=w|0,{Dh:m,Dl:g}={Dh:m^c,Dl:g^l},{Dh:m,Dl:g}={Dh:Gu(m,g,16),Dl:Ku(m,g,16)},{h:p,l:f}=ka(p,f,m,g),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:o1(h,u,63),Bl:a1(h,u,63)},ze[2*t]=l,ze[2*t+1]=c,ze[2*e]=u,ze[2*e+1]=h,ze[2*r]=f,ze[2*r+1]=p,ze[2*n]=g,ze[2*n+1]=m}function Jje(t,e={},r,n,i){if(lu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let Qje=class extends v4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,lu(e),lu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=hw(this.buffer)}update(e){Rd(this),e=za(e),ra(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(Yu(i),this.compress(i,0,!1),Yu(i),this.pos=0);const c=Math.min(r-this.pos,s-l),u=o+l;if(c===r&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));Yu(h);for(let f=0;l+r<s;f+=i.length,l+=r)this.length+=r,this.compress(h,f,!1);Yu(h);continue}n.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){Rd(this),gI(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,na(this.buffer.subarray(r)),Yu(n),this.compress(n,0,!0),Yu(n);const i=hw(e);this.get().forEach((s,o)=>i[o]=Ec(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Xje=class extends Qje{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=_n[0]|0,this.v0h=_n[1]|0,this.v1l=_n[2]|0,this.v1h=_n[3]|0,this.v2l=_n[4]|0,this.v2h=_n[5]|0,this.v3l=_n[6]|0,this.v3h=_n[7]|0,this.v4l=_n[8]|0,this.v4h=_n[9]|0,this.v5l=_n[10]|0,this.v5h=_n[11]|0,this.v6l=_n[12]|0,this.v6h=_n[13]|0,this.v7l=_n[14]|0,this.v7h=_n[15]|0,Jje(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=za(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=za(s);const a=hw(s);this.v4l^=Ec(a[0]),this.v4h^=Ec(a[1]),this.v5l^=Ec(a[2]),this.v5h^=Ec(a[3])}if(i!==void 0){i=za(i);const a=hw(i);this.v6l^=Ec(a[0]),this.v6h^=Ec(a[1]),this.v7l^=Ec(a[2]),this.v7h^=Ec(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:g,v7l:m,v7h:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,g,m,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=g|0,this.v7l=m|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((l,c)=>ze[c]=l),ze.set(_n,16);let{h:i,l:s}=AX(BigInt(this.length));ze[24]=_n[8]^s,ze[25]=_n[9]^i,n&&(ze[28]=~ze[28],ze[29]=~ze[29]);let o=0;const a=Zje;for(let l=0;l<12;l++)Lu(0,4,8,12,e,r+2*a[o++]),Bu(0,4,8,12,e,r+2*a[o++]),Lu(1,5,9,13,e,r+2*a[o++]),Bu(1,5,9,13,e,r+2*a[o++]),Lu(2,6,10,14,e,r+2*a[o++]),Bu(2,6,10,14,e,r+2*a[o++]),Lu(3,7,11,15,e,r+2*a[o++]),Bu(3,7,11,15,e,r+2*a[o++]),Lu(0,5,10,15,e,r+2*a[o++]),Bu(0,5,10,15,e,r+2*a[o++]),Lu(1,6,11,12,e,r+2*a[o++]),Bu(1,6,11,12,e,r+2*a[o++]),Lu(2,7,8,13,e,r+2*a[o++]),Bu(2,7,8,13,e,r+2*a[o++]),Lu(3,4,9,14,e,r+2*a[o++]),Bu(3,4,9,14,e,r+2*a[o++]);this.v0l^=ze[0]^ze[16],this.v0h^=ze[1]^ze[17],this.v1l^=ze[2]^ze[18],this.v1h^=ze[3]^ze[19],this.v2l^=ze[4]^ze[20],this.v2h^=ze[5]^ze[21],this.v3l^=ze[6]^ze[22],this.v3h^=ze[7]^ze[23],this.v4l^=ze[8]^ze[24],this.v4h^=ze[9]^ze[25],this.v5l^=ze[10]^ze[26],this.v5h^=ze[11]^ze[27],this.v6l^=ze[12]^ze[28],this.v6h^=ze[13]^ze[29],this.v7l^=ze[14]^ze[30],this.v7h^=ze[15]^ze[31],na(ze)}destroy(){this.destroyed=!0,na(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const eMe=kje(t=>new Xje(t)),tMe="https://rpc.walletconnect.org/v1";function DX(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Dje(r)).toString("hex")}async function rMe(t,e,r,n,i,s){switch(r.t){case"eip191":return await nMe(t,e,r.s);case"eip1271":return await iMe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function nMe(t,e,r){return(await qIe({hash:DX(e),signature:r})).toLowerCase()===t.toLowerCase()}async function iMe(t,e,r,n,i,s){const o=Wh(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=r.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:DX(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||tMe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:sMe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:g}=await p.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function sMe(){return Date.now()+Math.floor(Math.random()*1e3)}function oMe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return l2.encode(s)}function aMe(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=eMe(n,{dkLen:32});return l2.encode(i)}function lD(t){const e=new Uint8Array(b4(lMe(t)));return l2.encode(e)}function lMe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function cD(t){const e=Buffer.from(t,"base64"),r=ITe(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=bTe(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=Yje(s);return DTe.encode(o).replace(/=+$/,"")}function C9(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function cMe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(C9(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(C9(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(C9(n.length)),i.push(n);const s=Buffer.concat(i),o=b4(s);return Buffer.from(o).toString("hex").toUpperCase()}var uMe=Object.defineProperty,dMe=Object.defineProperties,hMe=Object.getOwnPropertyDescriptors,uD=Object.getOwnPropertySymbols,fMe=Object.prototype.hasOwnProperty,pMe=Object.prototype.propertyIsEnumerable,dD=(t,e,r)=>e in t?uMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gMe=(t,e)=>{for(var r in e||(e={}))fMe.call(e,r)&&dD(t,r,e[r]);if(uD)for(var r of uD(e))pMe.call(e,r)&&dD(t,r,e[r]);return t},mMe=(t,e)=>dMe(t,hMe(e));const yMe="did:pkh:",wI=t=>t==null?void 0:t.split(":"),wMe=t=>{const e=t&&wI(t);if(e)return t.includes(yMe)?e[3]:e[1]},P_=t=>{const e=t&&wI(t);if(e)return e[2]+":"+e[3]},l5=t=>{const e=t&&wI(t);if(e)return e.pop()};async function hD(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=FX(i,i.iss),o=l5(i.iss);return await rMe(o,s,n,P_(i.iss),r)}const FX=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=l5(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${wMe(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=Tb(t.resources);if(g){const m=pw(g);i=$Me(i,m)}return[r,n,"",i,"",s,o,a,l,c,u,h,f,p].filter(m=>m!=null).join(`
`)};function vMe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function bMe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function yf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function xMe(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:EMe(e,r,n)}}}function EMe(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function LX(t){return yf(t),`urn:recap:${vMe(t).replace(/=/g,"")}`}function pw(t){const e=bMe(t.replace("urn:recap:",""));return yf(e),e}function CMe(t,e,r){const n=xMe(t,e,r);return LX(n)}function _Me(t){return t&&t.includes("urn:recap:")}function AMe(t,e){const r=pw(t),n=pw(e),i=kMe(r,n);return LX(i)}function kMe(t,e){yf(t),yf(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;n.att[i]=mMe(gMe({},n.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),n}function $Me(t="",e){yf(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function fD(t){var e;const r=pw(t);yf(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function pD(t){const e=pw(t);yf(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Tb(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return _Me(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function BX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function N_(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function _9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ws(t,...e){if(!BX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function SMe(t,e){ws(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Cd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function sg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function IMe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const TMe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PMe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function O_(t){if(typeof t=="string")t=PMe(t);else if(BX(t))t=R_(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function NMe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function OMe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const RMe=(t,e)=>{function r(n,...i){if(ws(n),!TMe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?ws(c):ws(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ws(i[1]);const o=e(n,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");ws(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ws(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(ws(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(r,t),r};function mD(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!MMe(e))throw new Error("invalid output, must be aligned");return e}function yD(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function jMe(t,e,r){N_(r);const n=new Uint8Array(16),i=IMe(n);return yD(i,0,BigInt(e),r),yD(i,8,BigInt(t),r),n}function MMe(t){return t.byteOffset%4===0}function R_(t){return Uint8Array.from(t)}const UX=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),DMe=UX("expand 16-byte k"),FMe=UX("expand 32-byte k"),LMe=Cd(DMe),BMe=Cd(FMe);function nr(t,e){return t<<e|t>>>32-e}function j_(t){return t.byteOffset%4===0}const Iv=64,UMe=16,zX=2**32-1,wD=new Uint32Array;function zMe(t,e,r,n,i,s,o,a){const l=i.length,c=new Uint8Array(Iv),u=Cd(c),h=j_(i)&&j_(s),f=h?Cd(i):wD,p=h?Cd(s):wD;for(let g=0;g<l;o++){if(t(e,r,n,u,o,a),o>=zX)throw new Error("arx: counter overflow");const m=Math.min(Iv,l-g);if(h&&m===Iv){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<UMe;y++)b=w+y,p[b]=f[b]^u[y];g+=Iv;continue}for(let w=0,y;w<m;w++)y=g+w,s[y]=i[y]^c[w];g+=m}}function WMe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=NMe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return _9(i),_9(o),N_(s),N_(r),(a,l,c,u,h=0)=>{ws(a),ws(l),ws(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),ws(u),_9(h),h<0||h>=zX)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let g=a.length,m,w;if(g===32)p.push(m=R_(a)),w=BMe;else if(g===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),w=LMe,p.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);j_(l)||p.push(l=R_(l));const y=Cd(m);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,y,Cd(l.subarray(0,16)),y),l=l.subarray(16)}const b=16-i;if(b!==l.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,p.push(l)}const v=Cd(l);return zMe(t,w,y,v,c,u,h,o),sg(...p),u}}const Gn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let HMe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=O_(e),ws(e,32);const r=Gn(e,0),n=Gn(e,2),i=Gn(e,4),s=Gn(e,6),o=Gn(e,8),a=Gn(e,10),l=Gn(e,12),c=Gn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Gn(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],g=o[7],m=o[8],w=o[9],y=Gn(e,r+0),b=Gn(e,r+2),v=Gn(e,r+4),A=Gn(e,r+6),E=Gn(e,r+8),O=Gn(e,r+10),N=Gn(e,r+12),R=Gn(e,r+14);let T=s[0]+(y&8191),L=s[1]+((y>>>13|b<<3)&8191),B=s[2]+((b>>>10|v<<6)&8191),W=s[3]+((v>>>7|A<<9)&8191),j=s[4]+((A>>>4|E<<12)&8191),_=s[5]+(E>>>1&8191),C=s[6]+((E>>>14|O<<2)&8191),$=s[7]+((O>>>11|N<<5)&8191),P=s[8]+((N>>>8|R<<8)&8191),S=s[9]+(R>>>5|i),I=0,D=I+T*a+L*(5*w)+B*(5*m)+W*(5*g)+j*(5*p);I=D>>>13,D&=8191,D+=_*(5*f)+C*(5*h)+$*(5*u)+P*(5*c)+S*(5*l),I+=D>>>13,D&=8191;let F=I+T*l+L*a+B*(5*w)+W*(5*m)+j*(5*g);I=F>>>13,F&=8191,F+=_*(5*p)+C*(5*f)+$*(5*h)+P*(5*u)+S*(5*c),I+=F>>>13,F&=8191;let k=I+T*c+L*l+B*a+W*(5*w)+j*(5*m);I=k>>>13,k&=8191,k+=_*(5*g)+C*(5*p)+$*(5*f)+P*(5*h)+S*(5*u),I+=k>>>13,k&=8191;let z=I+T*u+L*c+B*l+W*a+j*(5*w);I=z>>>13,z&=8191,z+=_*(5*m)+C*(5*g)+$*(5*p)+P*(5*f)+S*(5*h),I+=z>>>13,z&=8191;let V=I+T*h+L*u+B*c+W*l+j*a;I=V>>>13,V&=8191,V+=_*(5*w)+C*(5*m)+$*(5*g)+P*(5*p)+S*(5*f),I+=V>>>13,V&=8191;let M=I+T*f+L*h+B*u+W*c+j*l;I=M>>>13,M&=8191,M+=_*a+C*(5*w)+$*(5*m)+P*(5*g)+S*(5*p),I+=M>>>13,M&=8191;let G=I+T*p+L*f+B*h+W*u+j*c;I=G>>>13,G&=8191,G+=_*l+C*a+$*(5*w)+P*(5*m)+S*(5*g),I+=G>>>13,G&=8191;let Z=I+T*g+L*p+B*f+W*h+j*u;I=Z>>>13,Z&=8191,Z+=_*c+C*l+$*a+P*(5*w)+S*(5*m),I+=Z>>>13,Z&=8191;let K=I+T*m+L*g+B*p+W*f+j*h;I=K>>>13,K&=8191,K+=_*u+C*c+$*l+P*a+S*(5*w),I+=K>>>13,K&=8191;let re=I+T*w+L*m+B*g+W*p+j*f;I=re>>>13,re&=8191,re+=_*h+C*u+$*c+P*l+S*a,I+=re>>>13,re&=8191,I=(I<<2)+I|0,I=I+D|0,D=I&8191,I=I>>>13,F+=I,s[0]=D,s[1]=F,s[2]=k,s[3]=z,s[4]=V,s[5]=M,s[6]=G,s[7]=Z,s[8]=K,s[9]=re}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;sg(n)}update(e){gD(this),e=O_(e),ws(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){sg(this.h,this.r,this.buffer,this.pad)}digestInto(e){gD(this),SMe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function qMe(t){const e=(n,i)=>t(i).update(O_(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const VMe=qMe(t=>new HMe(t));function GMe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],g=e[4],m=e[5],w=e[6],y=e[7],b=i,v=r[0],A=r[1],E=r[2],O=o,N=a,R=l,T=c,L=u,B=h,W=f,j=p,_=g,C=m,$=w,P=y,S=b,I=v,D=A,F=E;for(let z=0;z<s;z+=2)O=O+L|0,S=nr(S^O,16),_=_+S|0,L=nr(L^_,12),O=O+L|0,S=nr(S^O,8),_=_+S|0,L=nr(L^_,7),N=N+B|0,I=nr(I^N,16),C=C+I|0,B=nr(B^C,12),N=N+B|0,I=nr(I^N,8),C=C+I|0,B=nr(B^C,7),R=R+W|0,D=nr(D^R,16),$=$+D|0,W=nr(W^$,12),R=R+W|0,D=nr(D^R,8),$=$+D|0,W=nr(W^$,7),T=T+j|0,F=nr(F^T,16),P=P+F|0,j=nr(j^P,12),T=T+j|0,F=nr(F^T,8),P=P+F|0,j=nr(j^P,7),O=O+B|0,F=nr(F^O,16),$=$+F|0,B=nr(B^$,12),O=O+B|0,F=nr(F^O,8),$=$+F|0,B=nr(B^$,7),N=N+W|0,S=nr(S^N,16),P=P+S|0,W=nr(W^P,12),N=N+W|0,S=nr(S^N,8),P=P+S|0,W=nr(W^P,7),R=R+j|0,I=nr(I^R,16),_=_+I|0,j=nr(j^_,12),R=R+j|0,I=nr(I^R,8),_=_+I|0,j=nr(j^_,7),T=T+L|0,D=nr(D^T,16),C=C+D|0,L=nr(L^C,12),T=T+L|0,D=nr(D^T,8),C=C+D|0,L=nr(L^C,7);let k=0;n[k++]=o+O|0,n[k++]=a+N|0,n[k++]=l+R|0,n[k++]=c+T|0,n[k++]=u+L|0,n[k++]=h+B|0,n[k++]=f+W|0,n[k++]=p+j|0,n[k++]=g+_|0,n[k++]=m+C|0,n[k++]=w+$|0,n[k++]=y+P|0,n[k++]=b+S|0,n[k++]=v+I|0,n[k++]=A+D|0,n[k++]=E+F|0}const KMe=WMe(GMe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),YMe=new Uint8Array(16),vD=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(YMe.subarray(r))},ZMe=new Uint8Array(32);function bD(t,e,r,n,i){const s=t(e,r,ZMe),o=VMe.create(s);i&&vD(o,i),vD(o,n);const a=jMe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return sg(s,a),l}const JMe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=mD(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=bD(t,e,r,a,n);return s.set(l,o),sg(l),s},decrypt(i,s){s=mD(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=bD(t,e,r,o,n);if(!OMe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),sg(l),s}}),WX=RMe({blockSize:64,nonceLength:12,tagLength:16},JMe(KMe));let HX=class extends v4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,pI(e);const n=za(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),na(s)}update(e){return Rd(this),this.iHash.update(e),this}digestInto(e){Rd(this),ra(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const x4=(t,e,r)=>new HX(t,e).update(r).digest();x4.create=(t,e)=>new HX(t,e);function QMe(t,e,r){return pI(t),r===void 0&&(r=new Uint8Array(t.outputLen)),x4(t,za(r),za(e))}const A9=Uint8Array.from([0]),xD=Uint8Array.of();function XMe(t,e,r,n=32){pI(t),lu(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=xD);const o=new Uint8Array(s*i),a=x4.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)A9[0]=u+1,l.update(u===0?xD:c).update(r).update(A9).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),na(c,A9),o.slice(0,n)}const eDe=(t,e,r,n,i)=>XMe(t,QMe(t,e,r),n,i),E4=b4,vI=BigInt(0),M_=BigInt(1);function c5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Tv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function qX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vI:BigInt("0x"+t)}function C4(t){return qX(fw(t))}function u5(t){return ra(t),qX(fw(Uint8Array.from(t).reverse()))}function bI(t,e){return mI(t.toString(16).padStart(e*2,"0"))}function xI(t,e){return bI(t,e).reverse()}function ms(t,e,r){let n;if(typeof e=="string")try{n=mI(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(fI(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const k9=t=>typeof t=="bigint"&&vI<=t;function tDe(t,e,r){return k9(t)&&k9(e)&&k9(r)&&e<=t&&t<r}function D_(t,e,r,n){if(!tDe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function rDe(t){let e;for(e=0;t>vI;t>>=M_,e+=1);return e}const _4=t=>(M_<<BigInt(t))-M_;function nDe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>r(o,s,...f),u=(f=n(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const g=s.slice();p.push(g),f+=s.length}return Oh(...p)};return(f,p)=>{l(),u(f);let g;for(;!(g=p(h()));)u();return l(),g}}function A4(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function ED(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const ks=BigInt(0),rs=BigInt(1),Rh=BigInt(2),iDe=BigInt(3),VX=BigInt(4),GX=BigInt(5),KX=BigInt(8);function Bo(t,e){const r=t%e;return r>=ks?r:e+r}function _a(t,e,r){let n=t;for(;e-- >ks;)n*=n,n%=r;return n}function CD(t,e){if(t===ks)throw new Error("invert: expected non-zero number");if(e<=ks)throw new Error("invert: expected positive modulus, got "+e);let r=Bo(t,e),n=e,i=ks,s=rs;for(;r!==ks;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==rs)throw new Error("invert: does not exist");return Bo(i,e)}function YX(t,e){const r=(t.ORDER+rs)/VX,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function sDe(t,e){const r=(t.ORDER-GX)/KX,n=t.mul(e,Rh),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,Rh),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function oDe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-rs,r=0;for(;e%Rh===ks;)e/=Rh,r++;let n=Rh;const i=qg(t);for(;_D(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return YX;let s=i.pow(n,e);const o=(e+rs)/Rh;return function(a,l){if(a.is0(l))return l;if(_D(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,g=a.sqr(h);for(;!a.eql(g,a.ONE);)if(p++,g=a.sqr(g),p===c)throw new Error("Cannot find square root");const m=rs<<BigInt(c-p-1),w=a.pow(u,m);c=p,u=a.sqr(w),h=a.mul(h,u),f=a.mul(f,w)}return f}}function aDe(t){return t%VX===iDe?YX:t%KX===GX?sDe:oDe(t)}const lDe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cDe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=lDe.reduce((n,i)=>(n[i]="function",n),e);return A4(t,r),t}function uDe(t,e,r){if(r<ks)throw new Error("invalid exponent, negatives unsupported");if(r===ks)return t.ONE;if(r===rs)return e;let n=t.ONE,i=e;for(;r>ks;)r&rs&&(n=t.mul(n,i)),i=t.sqr(i),r>>=rs;return n}function ZX(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function _D(t,e){const r=(t.ORDER-rs)/Rh,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function dDe(t,e){e!==void 0&&lu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function qg(t,e,r=!1,n={}){if(t<=ks)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=dDe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:_4(o),ZERO:ks,ONE:rs,create:u=>Bo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ks<=u&&u<t},is0:u=>u===ks,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&rs)===rs,neg:u=>Bo(-u,t),eql:(u,h)=>u===h,sqr:u=>Bo(u*u,t),add:(u,h)=>Bo(u+h,t),sub:(u,h)=>Bo(u-h,t),mul:(u,h)=>Bo(u*h,t),pow:(u,h)=>uDe(c,u,h),div:(u,h)=>Bo(u*CD(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>CD(u,t),sqrt:s||(u=>(l||(l=aDe(t)),l(c,u))),toBytes:u=>r?xI(u,a):bI(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?u5(u):C4(u)},invertBatch:u=>ZX(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function JX(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function QX(t){const e=JX(t);return e+Math.ceil(e/2)}function hDe(t,e,r=!1){const n=t.length,i=JX(e),s=QX(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?u5(t):C4(t),a=Bo(o,e-rs)+rs;return r?xI(a,i):bI(a,i)}const og=BigInt(0),jh=BigInt(1);function M1(t,e){const r=e.negate();return t?r:e}function fDe(t,e,r){const n=s=>s.pz,i=ZX(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function XX(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $9(t,e){XX(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=_4(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function AD(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=jh);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function pDe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function gDe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const S9=new WeakMap,eee=new WeakMap;function I9(t){return eee.get(t)||1}function kD(t){if(t!==og)throw new Error("invalid wNAF")}function mDe(t,e){return{constTimeNegate:M1,hasPrecomputes(r){return I9(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>og;)n&jh&&(i=i.add(s)),s=s.double(),n>>=jh;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=$9(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=$9(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:g}=AD(i,l,a);i=c,h?o=o.add(M1(p,n[g])):s=s.add(M1(f,n[u]))}return kD(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=$9(r,e);for(let a=0;a<o.windows&&i!==og;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=AD(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return kD(i),s},getPrecomputes(r,n,i){let s=S9.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),S9.set(n,s))),s},wNAFCached(r,n,i){const s=I9(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=I9(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){XX(n,e),eee.set(r,n),S9.delete(r)}}}function yDe(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>og||n>og;)r&jh&&(s=s.add(i)),n&jh&&(o=o.add(i)),i=i.double(),r>>=jh,n>>=jh;return{p1:s,p2:o}}function wDe(t,e,r,n){pDe(r,t),gDe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=rDe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=_4(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let m=0;m<s;m++){const w=n[m],y=Number(w>>BigInt(p)&c);u[y]=u[y].add(r[m])}let g=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),g=g.add(w);if(f=f.add(g),p!==0)for(let m=0;m<l;m++)f=f.double()}return f}function $D(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return cDe(e),e}else return qg(t)}function vDe(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>og))throw new Error(`CURVE.${o} must be positive bigint`)}const n=$D(e.p,r.Fp),i=$D(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Tm=BigInt(0),lp=BigInt(1),Pv=BigInt(2);function bDe(t){return A4(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function xDe(t){const e=bDe(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||Hg,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?Pv**BigInt(254):Pv**BigInt(447),g=a?BigInt(8)*Pv**BigInt(251)-lp:BigInt(4)*Pv**BigInt(445)-lp,m=p+g+lp,w=T=>Bo(T,r),y=b(h);function b(T){return xI(w(T),u)}function v(T){const L=ms("u coordinate",T,u);return a&&(L[31]&=127),w(u5(L))}function A(T){return u5(i(ms("scalar",T,u)))}function E(T,L){const B=R(v(L),A(T));if(B===Tm)throw new Error("invalid private or public key received");return b(B)}function O(T){return E(T,y)}function N(T,L,B){const W=w(T*(L-B));return L=w(L-W),B=w(B+W),{x_2:L,x_3:B}}function R(T,L){D_("u",T,Tm,r),D_("scalar",L,p,m);const B=L,W=T;let j=lp,_=Tm,C=T,$=lp,P=Tm;for(let I=BigInt(c-1);I>=Tm;I--){const D=B>>I&lp;P^=D,{x_2:j,x_3:C}=N(P,j,C),{x_2:_,x_3:$}=N(P,_,$),P=D;const F=j+_,k=w(F*F),z=j-_,V=w(z*z),M=k-V,G=C+$,Z=C-$,K=w(Z*F),re=w(G*z),le=K+re,ne=K-re;C=w(le*le),$=w(W*w(ne*ne)),j=w(k*V),_=w(M*(k+w(f*M)))}({x_2:j,x_3:C}=N(P,j,C)),{x_2:_,x_3:$}=N(P,_,$);const S=s(_);return w(j*S)}return{scalarMult:E,scalarMultBase:O,getSharedSecret:(T,L)=>E(T,L),getPublicKey:T=>O(T),utils:{randomPrivateKey:()=>l(u)},GuBytes:y.slice()}}BigInt(0);const EDe=BigInt(1),SD=BigInt(2),CDe=BigInt(3),_De=BigInt(5);BigInt(8);const tee={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ADe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=tee.p,o=t*t%s*t%s,a=_a(o,SD,s)*o%s,l=_a(a,EDe,s)*t%s,c=_a(l,_De,s)*l%s,u=_a(c,e,s)*c%s,h=_a(u,r,s)*u%s,f=_a(h,n,s)*h%s,p=_a(f,i,s)*f%s,g=_a(p,i,s)*f%s,m=_a(g,e,s)*c%s;return{pow_p_5_8:_a(m,SD,s)*t%s,b2:o}}function kDe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const F_=(()=>{const t=tee.p;return xDe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=ADe(e);return Bo(_a(r,CDe,t)*n,t)},adjustScalarBytes:kDe})})();function ID(t){t.lowS!==void 0&&c5("lowS",t.lowS),t.prehash!==void 0&&c5("prehash",t.prehash)}let $De=class extends Error{constructor(e=""){super(e)}};const Oc={Err:$De,_tlv:{encode:(t,e)=>{const{Err:r}=Oc;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Tv(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Tv(i.length/2|128):"";return Tv(t)+s+i+e},decode(t,e){const{Err:r}=Oc;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Oc;if(t<D1)throw new e("integer: negative integers are not allowed");let r=Tv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Oc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return C4(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Oc,i=ms("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Oc,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},D1=BigInt(0),F1=BigInt(1),SDe=BigInt(2),Nv=BigInt(3),IDe=BigInt(4);function TDe(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function ree(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=ms("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function PDe(t,e={}){const{Fp:r,Fn:n}=vDe("weierstrass",t,e),{h:i,n:s}=t;A4(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(R,T,L){const{x:B,y:W}=T.toAffine(),j=r.toBytes(B);if(c5("isCompressed",L),L){a();const _=!r.isOdd(W);return Oh(nee(_),j)}else return Oh(Uint8Array.of(4),j,r.toBytes(W))}function c(R){ra(R);const T=r.BYTES,L=T+1,B=2*T+1,W=R.length,j=R[0],_=R.subarray(1);if(W===L&&(j===2||j===3)){const C=r.fromBytes(_);if(!r.isValid(C))throw new Error("bad point: is not on curve, wrong x");const $=f(C);let P;try{P=r.sqrt($)}catch(I){const D=I instanceof Error?": "+I.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const S=r.isOdd(P);return(j&1)===1!==S&&(P=r.neg(P)),{x:C,y:P}}else if(W===B&&j===4){const C=r.fromBytes(_.subarray(T*0,T*1)),$=r.fromBytes(_.subarray(T*1,T*2));if(!p(C,$))throw new Error("bad point: is not on curve");return{x:C,y:$}}else throw new Error(`bad point: got length ${W}, expected compressed=${L} or uncompressed=${B}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=TDe(r,t.a,t.b);function p(R,T){const L=r.sqr(T),B=f(R);return r.eql(L,B)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(t.a,Nv),IDe),m=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function w(R,T,L=!1){if(!r.isValid(T)||L&&r.is0(T))throw new Error(`bad point coordinate ${R}`);return T}function y(R){if(!(R instanceof E))throw new Error("ProjectivePoint expected")}const b=ED((R,T)=>{const{px:L,py:B,pz:W}=R;if(r.eql(W,r.ONE))return{x:L,y:B};const j=R.is0();T==null&&(T=j?r.ONE:r.inv(W));const _=r.mul(L,T),C=r.mul(B,T),$=r.mul(W,T);if(j)return{x:r.ZERO,y:r.ZERO};if(!r.eql($,r.ONE))throw new Error("invZ was invalid");return{x:_,y:C}}),v=ED(R=>{if(R.is0()){if(e.allowInfinityPoint&&!r.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:T,y:L}=R.toAffine();if(!r.isValid(T)||!r.isValid(L))throw new Error("bad point: x or y not field elements");if(!p(T,L))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(R,T,L,B,W){return L=new E(r.mul(L.px,R),L.py,L.pz),T=M1(B,T),L=M1(W,L),T.add(L)}class E{constructor(T,L,B){this.px=w("x",T),this.py=w("y",L,!0),this.pz=w("z",B),Object.freeze(this)}static fromAffine(T){const{x:L,y:B}=T||{};if(!T||!r.isValid(L)||!r.isValid(B))throw new Error("invalid affine point");if(T instanceof E)throw new Error("projective point not allowed");return r.is0(L)&&r.is0(B)?E.ZERO:new E(L,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){return fDe(E,"pz",T)}static fromBytes(T){return ra(T),E.fromHex(T)}static fromHex(T){const L=E.fromAffine(h(ms("pointHex",T)));return L.assertValidity(),L}static fromPrivateKey(T){const L=ree(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return E.BASE.multiply(L(T))}static msm(T,L){return wDe(E,n,T,L)}precompute(T=8,L=!0){return N.setWindowSize(this,T),L||this.multiply(Nv),this}_setWindowSize(T){this.precompute(T)}assertValidity(){v(this)}hasEvenY(){const{y:T}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(T)}equals(T){y(T);const{px:L,py:B,pz:W}=this,{px:j,py:_,pz:C}=T,$=r.eql(r.mul(L,C),r.mul(j,W)),P=r.eql(r.mul(B,C),r.mul(_,W));return $&&P}negate(){return new E(this.px,r.neg(this.py),this.pz)}double(){const{a:T,b:L}=t,B=r.mul(L,Nv),{px:W,py:j,pz:_}=this;let C=r.ZERO,$=r.ZERO,P=r.ZERO,S=r.mul(W,W),I=r.mul(j,j),D=r.mul(_,_),F=r.mul(W,j);return F=r.add(F,F),P=r.mul(W,_),P=r.add(P,P),C=r.mul(T,P),$=r.mul(B,D),$=r.add(C,$),C=r.sub(I,$),$=r.add(I,$),$=r.mul(C,$),C=r.mul(F,C),P=r.mul(B,P),D=r.mul(T,D),F=r.sub(S,D),F=r.mul(T,F),F=r.add(F,P),P=r.add(S,S),S=r.add(P,S),S=r.add(S,D),S=r.mul(S,F),$=r.add($,S),D=r.mul(j,_),D=r.add(D,D),S=r.mul(D,F),C=r.sub(C,S),P=r.mul(D,I),P=r.add(P,P),P=r.add(P,P),new E(C,$,P)}add(T){y(T);const{px:L,py:B,pz:W}=this,{px:j,py:_,pz:C}=T;let $=r.ZERO,P=r.ZERO,S=r.ZERO;const I=t.a,D=r.mul(t.b,Nv);let F=r.mul(L,j),k=r.mul(B,_),z=r.mul(W,C),V=r.add(L,B),M=r.add(j,_);V=r.mul(V,M),M=r.add(F,k),V=r.sub(V,M),M=r.add(L,W);let G=r.add(j,C);return M=r.mul(M,G),G=r.add(F,z),M=r.sub(M,G),G=r.add(B,W),$=r.add(_,C),G=r.mul(G,$),$=r.add(k,z),G=r.sub(G,$),S=r.mul(I,M),$=r.mul(D,z),S=r.add($,S),$=r.sub(k,S),S=r.add(k,S),P=r.mul($,S),k=r.add(F,F),k=r.add(k,F),z=r.mul(I,z),M=r.mul(D,M),k=r.add(k,z),z=r.sub(F,z),z=r.mul(I,z),M=r.add(M,z),F=r.mul(k,M),P=r.add(P,F),F=r.mul(G,M),$=r.mul(V,$),$=r.sub($,F),F=r.mul(V,k),S=r.mul(G,S),S=r.add(S,F),new E($,P,S)}subtract(T){return this.add(T.negate())}is0(){return this.equals(E.ZERO)}multiply(T){const{endo:L}=e;if(!n.isValidNot0(T))throw new Error("invalid scalar: out of range");let B,W;const j=_=>N.wNAFCached(this,_,E.normalizeZ);if(L){const{k1neg:_,k1:C,k2neg:$,k2:P}=L.splitScalar(T),{p:S,f:I}=j(C),{p:D,f:F}=j(P);W=I.add(F),B=A(L.beta,S,D,_,$)}else{const{p:_,f:C}=j(T);B=_,W=C}return E.normalizeZ([B,W])[0]}multiplyUnsafe(T){const{endo:L}=e,B=this;if(!n.isValid(T))throw new Error("invalid scalar: out of range");if(T===D1||B.is0())return E.ZERO;if(T===F1)return B;if(N.hasPrecomputes(this))return this.multiply(T);if(L){const{k1neg:W,k1:j,k2neg:_,k2:C}=L.splitScalar(T),{p1:$,p2:P}=yDe(E,B,j,C);return A(L.beta,$,P,W,_)}else return N.wNAFCachedUnsafe(B,T)}multiplyAndAddUnsafe(T,L,B){const W=this.multiplyUnsafe(L).add(T.multiplyUnsafe(B));return W.is0()?void 0:W}toAffine(T){return b(this,T)}isTorsionFree(){const{isTorsionFree:T}=e;return i===F1?!0:T?T(E,this):N.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:T}=e;return i===F1?this:T?T(E,this):this.multiplyUnsafe(i)}toBytes(T=!0){return c5("isCompressed",T),this.assertValidity(),u(E,this,T)}toRawBytes(T=!0){return this.toBytes(T)}toHex(T=!0){return fw(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(t.Gx,t.Gy,r.ONE),E.ZERO=new E(r.ZERO,r.ONE,r.ZERO),E.Fp=r,E.Fn=n;const O=n.BITS,N=mDe(E,e.endo?Math.ceil(O/2):O);return E}function nee(t){return Uint8Array.of(t?2:3)}function NDe(t,e,r={}){A4(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||Hg,i=e.hmac||((B,...W)=>x4(e.hash,B,Oh(...W))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(B){const W=a>>F1;return B>W}function u(B){return c(B)?o.neg(B):B}function h(B,W){if(!o.isValidNot0(W))throw new Error(`invalid signature ${B}: out of range 1..CURVE.n`)}class f{constructor(W,j,_){h("r",W),h("s",j),this.r=W,this.s=j,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(W){const j=o.BYTES,_=ms("compactSignature",W,j*2);return new f(o.fromBytes(_.subarray(0,j)),o.fromBytes(_.subarray(j,j*2)))}static fromDER(W){const{r:j,s:_}=Oc.toSig(ms("DER",W));return new f(j,_)}assertValidity(){}addRecoveryBit(W){return new f(this.r,this.s,W)}recoverPublicKey(W){const j=s.ORDER,{r:_,s:C,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(a*SDe<j&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=$===2||$===3?_+a:_;if(!s.isValid(P))throw new Error("recovery id 2 or 3 invalid");const S=s.toBytes(P),I=t.fromHex(Oh(nee(($&1)===0),S)),D=o.inv(P),F=v(ms("msgHash",W)),k=o.create(-F*D),z=o.create(C*D),V=t.BASE.multiplyUnsafe(k).add(I.multiplyUnsafe(z));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(W){if(W==="compact")return Oh(o.toBytes(this.r),o.toBytes(this.s));if(W==="der")return mI(Oc.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fw(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fw(this.toBytes("compact"))}}const p=ree(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),g={isValidPrivateKey(B){try{return p(B),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const B=a;return hDe(n(QX(B)),B)},precompute(B=8,W=t.BASE){return W.precompute(B,!1)}};function m(B,W=!0){return t.fromPrivateKey(B).toBytes(W)}function w(B){if(typeof B=="bigint")return!1;if(B instanceof t)return!0;const W=ms("key",B).length,j=s.BYTES,_=j+1,C=2*j+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===_))return W===_||W===C}function y(B,W,j=!0){if(w(B)===!0)throw new Error("first arg must be private key");if(w(W)===!1)throw new Error("second arg must be public key");return t.fromHex(W).multiply(p(B)).toBytes(j)}const b=e.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const W=C4(B),j=B.length*8-l;return j>0?W>>BigInt(j):W},v=e.bits2int_modN||function(B){return o.create(b(B))},A=_4(l);function E(B){return D_("num < 2^"+l,B,D1,A),o.toBytes(B)}function O(B,W,j=N){if(["recovered","canonical"].some(V=>V in j))throw new Error("sign() legacy options not supported");const{hash:_}=e;let{lowS:C,prehash:$,extraEntropy:P}=j;C==null&&(C=!0),B=ms("msgHash",B),ID(j),$&&(B=ms("prehashed msgHash",_(B)));const S=v(B),I=p(W),D=[E(I),E(S)];if(P!=null&&P!==!1){const V=P===!0?n(s.BYTES):P;D.push(ms("extraEntropy",V))}const F=Oh(...D),k=S;function z(V){const M=b(V);if(!o.isValidNot0(M))return;const G=o.inv(M),Z=t.BASE.multiply(M).toAffine(),K=o.create(Z.x);if(K===D1)return;const re=o.create(G*o.create(k+K*I));if(re===D1)return;let le=(Z.x===K?0:2)|Number(Z.y&F1),ne=re;return C&&c(re)&&(ne=u(re),le^=1),new f(K,ne,le)}return{seed:F,k2sig:z}}const N={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function T(B,W,j=N){const{seed:_,k2sig:C}=O(B,W,j);return nDe(e.hash.outputLen,o.BYTES,i)(_,C)}t.BASE.precompute(8);function L(B,W,j,_=R){const C=B;W=ms("msgHash",W),j=ms("publicKey",j),ID(_);const{lowS:$,prehash:P,format:S}=_;if("strict"in _)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&!["compact","der","js"].includes(S))throw new Error('format must be "compact", "der" or "js"');const I=typeof C=="string"||fI(C),D=!I&&!S&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!I&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,k;try{if(D)if(S===void 0||S==="js")F=new f(C.r,C.s);else throw new Error("invalid format");if(I){try{S!=="compact"&&(F=f.fromDER(C))}catch(le){if(!(le instanceof Oc.Err))throw le}!F&&S!=="der"&&(F=f.fromCompact(C))}k=t.fromHex(j)}catch{return!1}if(!F||$&&F.hasHighS())return!1;P&&(W=e.hash(W));const{r:z,s:V}=F,M=v(W),G=o.inv(V),Z=o.create(M*G),K=o.create(z*G),re=t.BASE.multiplyUnsafe(Z).add(k.multiplyUnsafe(K));return re.is0()?!1:o.create(re.x)===z}return Object.freeze({getPublicKey:m,getSharedSecret:y,sign:T,verify:L,utils:g,Point:t,Signature:f})}function ODe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=qg(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function RDe(t){const{CURVE:e,curveOpts:r}=ODe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function jDe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function MDe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=RDe(t),i=PDe(e,r),s=NDe(i,n,r);return jDe(t,s)}function L_(t,e){const r=n=>MDe({...t,hash:n});return{...r(e),create:r}}const iee={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},see={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},oee={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},DDe=qg(iee.p),FDe=qg(see.p),LDe=qg(oee.p),BDe=L_({...iee,Fp:DDe,lowS:!1},b4);L_({...see,Fp:FDe,lowS:!1},Kje),L_({...oee,Fp:LDe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Gje);const UDe=BDe,aee="base10",ns="base16",vs="base64pad",nd="base64url",f2="utf8",lee=0,Vc=1,p2=2,zDe=0,TD=1,L1=12,EI=32;function WDe(){const t=F_.utils.randomPrivateKey(),e=F_.getPublicKey(t);return{privateKey:Ps(t,ns),publicKey:Ps(e,ns)}}function B_(){const t=Hg(EI);return Ps(t,ns)}function HDe(t,e){const r=F_.getSharedSecret(Go(t,ns),Go(e,ns)),n=eDe(E4,r,void 0,void 0,EI);return Ps(n,ns)}function Pb(t){const e=E4(Go(t,ns));return Ps(e,ns)}function Do(t){const e=E4(Go(t,f2));return Ps(e,ns)}function cee(t){return Go(`${t}`,aee)}function wf(t){return Number(Ps(t,aee))}function uee(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function dee(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function qDe(t){const e=cee(typeof t.type<"u"?t.type:lee);if(wf(e)===Vc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Go(t.senderPublicKey,ns):void 0,n=typeof t.iv<"u"?Go(t.iv,ns):Hg(L1),i=Go(t.symKey,ns),s=WX(i,n).encrypt(Go(t.message,f2)),o=hee({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===nd?uee(o):o}function VDe(t){const e=Go(t.symKey,ns),{sealed:r,iv:n}=gw({encoded:t.encoded,encoding:t.encoding}),i=WX(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ps(i,f2)}function GDe(t,e){const r=cee(p2),n=Hg(L1),i=Go(t,f2),s=hee({type:r,sealed:i,iv:n});return e===nd?uee(s):s}function KDe(t,e){const{sealed:r}=gw({encoded:t,encoding:e});return Ps(r,f2)}function hee(t){if(wf(t.type)===p2)return Ps(j1([t.type,t.sealed]),vs);if(wf(t.type)===Vc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ps(j1([t.type,t.senderPublicKey,t.iv,t.sealed]),vs)}return Ps(j1([t.type,t.iv,t.sealed]),vs)}function gw(t){const e=(t.encoding||vs)===nd?dee(t.encoded):t.encoded,r=Go(e,vs),n=r.slice(zDe,TD),i=TD;if(wf(n)===Vc){const l=i+EI,c=l+L1,u=r.slice(i,l),h=r.slice(l,c),f=r.slice(c);return{type:n,sealed:f,iv:h,senderPublicKey:u}}if(wf(n)===p2){const l=r.slice(i),c=Hg(L1);return{type:n,sealed:l,iv:c}}const s=i+L1,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function YDe(t,e){const r=gw({encoded:t,encoding:e==null?void 0:e.encoding});return fee({type:wf(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ps(r.senderPublicKey,ns):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function fee(t){const e=(t==null?void 0:t.type)||lee;if(e===Vc){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function PD(t){return t.type===Vc&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function ND(t){return t.type===p2}function ZDe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return j1([new Uint8Array([4]),e,r])}function JDe(t,e){const[r,n,i]=t.split("."),s=Buffer.from(dee(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${r}.${n}`,c=E4(l),u=ZDe(e);if(!UDe.verify(j1([o,a]),c,u))throw new Error("Invalid signature");return $_(t).payload}const QDe="irn";function d5(t){return(t==null?void 0:t.relay)||{protocol:QDe}}function Jp(t){const e=kRe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function XDe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function OD(t){if(!t.includes("wc:")){const c=_X(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:eFe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:XDe(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function eFe(t){return t.startsWith("//")?t.substring(2):t}function tFe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function RD(t){const e=new URLSearchParams,r=tFe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Ov(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var rFe=Object.defineProperty,nFe=Object.defineProperties,iFe=Object.getOwnPropertyDescriptors,jD=Object.getOwnPropertySymbols,sFe=Object.prototype.hasOwnProperty,oFe=Object.prototype.propertyIsEnumerable,MD=(t,e,r)=>e in t?rFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aFe=(t,e)=>{for(var r in e||(e={}))sFe.call(e,r)&&MD(t,r,e[r]);if(jD)for(var r of jD(e))oFe.call(e,r)&&MD(t,r,e[r]);return t},lFe=(t,e)=>nFe(t,iFe(e));function Vg(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function cFe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Vg(r.accounts))}),e}function uFe(t,e){const r=[];return Object.values(t).forEach(n=>{Vg(n.accounts).includes(e)&&r.push(...n.methods)}),r}function dFe(t,e){const r=[];return Object.values(t).forEach(n=>{Vg(n.accounts).includes(e)&&r.push(...n.events)}),r}function k4(t){return t.includes(":")}function Qp(t){return k4(t)?t.split(":")[0]:t}function DD(t){var e,r,n;const i={};if(!Gl(t))return i;for(const[s,o]of Object.entries(t)){const a=k4(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=Qp(s);i[u]=lFe(aFe({},i[u]),{chains:Vl(a,(e=i[u])==null?void 0:e.chains),methods:Vl(l,(r=i[u])==null?void 0:r.methods),events:Vl(c,(n=i[u])==null?void 0:n.events)})}return i}function hFe(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function FD(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=hFe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Vl(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function fFe(t,e){var r,n,i,s,o,a;const l=DD(t),c=DD(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:Vl((r=l[f])==null?void 0:r.chains,(n=c[f])==null?void 0:n.chains),methods:Vl((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:Vl((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const pFe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},gFe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Re(t,e){const{message:r,code:n}=gFe[t];return{message:e?`${r} ${e}`:r,code:n}}function Mr(t,e){const{message:r,code:n}=pFe[t];return{message:e?`${r} ${e}`:r,code:n}}function Yo(t,e){return!!Array.isArray(t)}function Gl(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Tn(t){return typeof t>"u"}function bn(t,e){return e&&Tn(t)?!0:typeof t=="string"&&!!t.trim().length}function CI(t,e){return e&&Tn(t)?!0:typeof t=="number"&&!isNaN(t)}function mFe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Nh(i,n)?(n.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=Vg(a),h=r[o];(!Nh(vX(o,h),u)||!Nh(h.methods,l)||!Nh(h.events,c))&&(s=!1)}),s):!1}function h5(t){return bn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function yFe(t){if(bn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&h5(r)}}return!1}function wFe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(bn(t,!1)){if(e(t))return!0;const r=_X(t);return e(r)}}catch{}return!1}function vFe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function bFe(t){return t==null?void 0:t.topic}function xFe(t,e){let r=null;return bn(t==null?void 0:t.publicKey,!1)||(r=Re("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function LD(t){let e=!0;return Yo(t)?t.length&&(e=t.every(r=>bn(r,!1))):e=!1,e}function EFe(t,e,r){let n=null;return Yo(e)&&e.length?e.forEach(i=>{n||h5(i)||(n=Mr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):h5(t)||(n=Mr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function CFe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=EFe(i,vX(i,s),`${e} ${r}`);o&&(n=o)}),n}function _Fe(t,e){let r=null;return Yo(t)?t.forEach(n=>{r||yFe(n)||(r=Mr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Mr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function AFe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=_Fe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function kFe(t,e){let r=null;return LD(t==null?void 0:t.methods)?LD(t==null?void 0:t.events)||(r=Mr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Mr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function pee(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=kFe(n,`${e}, namespace`);i&&(r=i)}),r}function $Fe(t,e,r){let n=null;if(t&&Gl(t)){const i=pee(t,e);i&&(n=i);const s=CFe(t,e,r);s&&(n=s)}else n=Re("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function T9(t,e){let r=null;if(t&&Gl(t)){const n=pee(t,e);n&&(r=n);const i=AFe(t,e);i&&(r=i)}else r=Re("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function gee(t){return bn(t.protocol,!0)}function SFe(t,e){let r=!1;return t?t&&Yo(t)&&t.length&&t.forEach(n=>{r=gee(n)}):r=!0,r}function IFe(t){return typeof t=="number"}function ps(t){return typeof t<"u"&&typeof t!==null}function TFe(t){return!(!t||typeof t!="object"||!t.code||!CI(t.code,!1)||!t.message||!bn(t.message,!1))}function PFe(t){return!(Tn(t)||!bn(t.method,!1))}function NFe(t){return!(Tn(t)||Tn(t.result)&&Tn(t.error)||!CI(t.id,!1)||!bn(t.jsonrpc,!1))}function OFe(t){return!(Tn(t)||!bn(t.name,!1))}function BD(t,e){return!(!h5(e)||!cFe(t).includes(e))}function RFe(t,e,r){return bn(r,!1)?uFe(t,e).includes(r):!1}function jFe(t,e,r){return bn(r,!1)?dFe(t,e).includes(r):!1}function UD(t,e,r){let n=null;const i=MFe(t),s=DFe(e),o=Object.keys(i),a=Object.keys(s),l=zD(Object.keys(t)),c=zD(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(n=Re("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Nh(o,a)||(n=Re("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||n)return;const f=Vg(e[h].accounts);f.includes(h)||(n=Re("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{n||(Nh(i[h].methods,s[h].methods)?Nh(i[h].events,s[h].events)||(n=Re("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=Re("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function MFe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function zD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function DFe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Vg(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function FFe(t,e){return CI(t,!1)&&t<=e.max&&t>=e.min}function WD(){const t=d2();return new Promise(e=>{switch(t){case oo.browser:e(LFe());break;case oo.reactNative:e(BFe());break;case oo.node:e(UFe());break;default:e(!0)}})}function LFe(){return Wg()&&(navigator==null?void 0:navigator.onLine)}async function BFe(){if(Kd()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function UFe(){return!0}function zFe(t){switch(d2()){case oo.browser:WFe(t);break;case oo.reactNative:HFe(t);break}}function WFe(t){!Kd()&&Wg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function HFe(t){Kd()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function qFe(){var t;return Wg()&&pf()?((t=pf())==null?void 0:t.visibilityState)==="visible":!0}const P9={};let Pm=class{static get(e){return P9[e]}static set(e,r){P9[e]=r}static delete(e){delete P9[e]}};function VFe(t){const e=l2.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function GFe({publicKey:t,signature:e,payload:r}){var n;const i=U_(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=ZFe(r.address),a=r.era==="00"?new Uint8Array([0]):U_(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${YFe(r.tip)}`),h=QFe(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=JFe(f.length+1);return new Uint8Array([...p,s,...f])}function KFe(t){const e=U_(t),r=FRe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function U_(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function YFe(t){return t.startsWith("0x")?t.slice(2):t}function ZFe(t){const e=l2.decode(t)[0];return e===42?0:e===60?2:1}function JFe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function QFe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function XFe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=VFe(t.transaction.address),n=GFe({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return KFe(i)}class Df{}let eLe=class extends Df{constructor(e){super()}};const HD=Ne.FIVE_SECONDS,Ff={pulse:"heartbeat_pulse"};let tLe=class mee extends eLe{constructor(e){super(e),this.events=new Eo.EventEmitter,this.interval=HD,this.interval=(e==null?void 0:e.interval)||HD}static async init(e){const r=new mee(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ne.toMiliseconds(this.interval))}pulse(){this.events.emit(Ff.pulse)}};function rLe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Dn(t,...e){try{return rLe(t(...e))}catch(r){return Promise.reject(r)}}function nLe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function iLe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Nb(t){if(nLe(t))return String(t);if(iLe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Nb(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const z_="base64:";function sLe(t){return typeof t=="string"?t:z_+lLe(t)}function oLe(t){return typeof t!="string"||!t.startsWith(z_)?t:aLe(t.slice(z_.length))}function aLe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function lLe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function fs(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function cLe(...t){return fs(t.join(":"))}function Rv(t){return t=fs(t),t?t+":":""}function uLe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function dLe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const hLe="memory",fLe=()=>{const t=new Map;return{name:hLe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function pLe(t={}){const e={mounts:{"":t.driver||fLe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=fs(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await qD(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=g=>{let m=f.get(g.base);return m||(m={driver:g.driver,base:g.base,items:[]},f.set(g.base,m)),m};for(const g of c){const m=typeof g=="string",w=fs(m?g:g.key),y=m?void 0:g.value,b=m||!g.options?u:{...u,...g.options},v=r(w);p(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...f.values()].map(g=>h(g))).then(g=>g.flat())},l={hasItem(c,u={}){c=fs(c);const{relativeKey:h,driver:f}=r(c);return Dn(f.hasItem,h,u)},getItem(c,u={}){c=fs(c);const{relativeKey:h,driver:f}=r(c);return Dn(f.getItem,h,u).then(p=>Xm(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?Dn(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:cLe(h.base,p.key),value:Xm(p.value)}))):Promise.all(h.items.map(f=>Dn(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:Xm(p)})))))},getItemRaw(c,u={}){c=fs(c);const{relativeKey:h,driver:f}=r(c);return f.getItemRaw?Dn(f.getItemRaw,h,u):Dn(f.getItem,h,u).then(p=>oLe(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=fs(c);const{relativeKey:f,driver:p}=r(c);p.setItem&&(await Dn(p.setItem,f,Nb(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return Dn(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:Nb(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>Dn(h.driver.setItem,f.relativeKey,Nb(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=fs(c);const{relativeKey:f,driver:p}=r(c);if(p.setItemRaw)await Dn(p.setItemRaw,f,u,h);else if(p.setItem)await Dn(p.setItem,f,sLe(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=fs(c);const{relativeKey:h,driver:f}=r(c);f.removeItem&&(await Dn(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await Dn(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=fs(c);const{relativeKey:h,driver:f}=r(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await Dn(f.getMeta,h,u)),!u.nativeOnly){const g=await Dn(f.getItem,h+"$",u).then(m=>Xm(m));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(p,g))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){var w;c=Rv(c);const h=n(c,!0);let f=[];const p=[];let g=!0;for(const y of h){(w=y.driver.flags)!=null&&w.maxDepth||(g=!1);const b=await Dn(y.driver.getKeys,y.relativeBase,u);for(const v of b){const A=y.mountpoint+fs(v);f.some(E=>A.startsWith(E))||p.push(A)}f=[y.mountpoint,...f.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!g;return p.filter(y=>(!m||uLe(y,u.maxDepth))&&dLe(y,c))},async clear(c,u={}){c=Rv(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return Dn(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>VD(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=Rv(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(qD(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){var h,f;c=Rv(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&((f=(h=e.unwatch)[c])==null||f.call(h),delete e.unwatch[c]),u&&await VD(e.mounts[c]),e.mountpoints=e.mountpoints.filter(p=>p!==c),delete e.mounts[c])},getMount(c=""){c=fs(c)+":";const u=r(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=fs(c),n(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function qD(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function VD(t){typeof t.dispose=="function"&&await Dn(t.dispose)}function Lf(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function yee(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=Lf(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let N9;function g2(){return N9||(N9=yee("keyval-store","keyval")),N9}function GD(t,e=g2()){return e("readonly",r=>Lf(r.get(t)))}function gLe(t,e,r=g2()){return r("readwrite",n=>(n.put(e,t),Lf(n.transaction)))}function mLe(t,e=g2()){return e("readwrite",r=>(r.delete(t),Lf(r.transaction)))}function yLe(t=g2()){return t("readwrite",e=>(e.clear(),Lf(e.transaction)))}function wLe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Lf(t.transaction)}function vLe(t=g2()){return t("readonly",e=>{if(e.getAllKeys)return Lf(e.getAllKeys());const r=[];return wLe(e,n=>r.push(n.key)).then(()=>r)})}const bLe="idb-keyval";var xLe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=yee(t.dbName,t.storeName)),{name:bLe,options:t,async hasItem(i){return!(typeof await GD(r(i),n)>"u")},async getItem(i){return await GD(r(i),n)??null},setItem(i,s){return gLe(r(i),s,n)},removeItem(i){return mLe(r(i),n)},getKeys(){return vLe(n)},clear(){return yLe(n)}}};const ELe="WALLET_CONNECT_V2_INDEXED_DB",CLe="keyvaluestorage";let _Le=class{constructor(){this.indexedDb=pLe({driver:xLe({dbName:ELe,storeName:CLe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,au(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var O9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ob={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof O9<"u"&&O9.localStorage?Ob.exports=O9.localStorage:typeof window<"u"&&window.localStorage?Ob.exports=window.localStorage:Ob.exports=new e})();function ALe(t){var e;return[t[0],mf((e=t[1])!=null?e:"")]}let kLe=class{constructor(){this.localStorage=Ob.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ALe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return mf(r)}async setItem(e,r){this.localStorage.setItem(e,au(r))}async removeItem(e){this.localStorage.removeItem(e)}};const $Le="wc_storage_version",KD=1,SLe=async(t,e,r)=>{const n=$Le,i=await e.getItem(n);if(i&&i>=KD){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(n,KD),r(e),ILe(t,o)},ILe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let TLe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new kLe;this.storage=e;try{const r=new _Le;SLe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function PLe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var NLe=OLe;function OLe(t,e,r){var n=r&&r.stringify||PLe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-i,h=-1,f=t&&t.length||0,p=0;p<f;){if(t.charCodeAt(p)===37&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Number(e[u]),h=p+2,p++;break;case 105:if(u>=l||e[u]==null)break;h<p&&(c+=t.slice(h,p)),c+=Math.floor(Number(e[u])),h=p+2,p++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;h<p&&(c+=t.slice(h,p));var g=typeof e[u];if(g==="string"){c+="'"+e[u]+"'",h=p+2,p++;break}if(g==="function"){c+=e[u].name||"<anonymous>",h=p+2,p++;break}c+=n(e[u]),h=p+2,p++;break;case 115:if(u>=l)break;h<p&&(c+=t.slice(h,p)),c+=String(e[u]),h=p+2,p++;break;case 37:h<p&&(c+=t.slice(h,p)),c+="%",h=p+2,p++,u--;break}++u}++p}return h===-1?t:(h<f&&(c+=t.slice(h)),c)}const YD=NLe;var Tp=Kl;const mw=WLe().console||{},RLe={mapHttpRequest:jv,mapHttpResponse:jv,wrapRequestSerializer:R9,wrapResponseSerializer:R9,wrapErrorSerializer:R9,req:jv,res:jv,err:LLe};function jLe(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Kl(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||mw;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=jLe(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",l=Object.create(r);l.log||(l.log=yw),Object.defineProperty(l,"levelVal",{get:u}),Object.defineProperty(l,"level",{get:h,set:f});const c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:BLe(t)};l.levels=Kl.levels,l.level=a,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=yw,l.serializers=n,l._serialize=i,l._stdErrSerialize=s,l.child=p,e&&(l._logEvent=W_());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,cp(c,l,"error","log"),cp(c,l,"fatal","error"),cp(c,l,"warn","error"),cp(c,l,"info","log"),cp(c,l,"debug","log"),cp(c,l,"trace","log")}function p(g,m){if(!g)throw new Error("missing bindings for child Pino");m=m||{},i&&g.serializers&&(m.serializers=g.serializers);const w=m.serializers;if(i&&w){var y=Object.assign({},n,w),b=t.browser.serialize===!0?Object.keys(y):i;delete g.serializers,$4([g],b,y,this._stdErrSerialize)}function v(A){this._childLevel=(A._childLevel|0)+1,this.error=up(A,g,"error"),this.fatal=up(A,g,"fatal"),this.warn=up(A,g,"warn"),this.info=up(A,g,"info"),this.debug=up(A,g,"debug"),this.trace=up(A,g,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=W_([].concat(A._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return l}Kl.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Kl.stdSerializers=RLe;Kl.stdTimeFunctions=Object.assign({},{nullTime:wee,epochTime:vee,unixTime:ULe,isoTime:zLe});function cp(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?yw:i[r]?i[r]:mw[r]||mw[n]||yw,MLe(t,e,r)}function MLe(t,e,r){!t.transmit&&e[r]===yw||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===mw?mw:this;for(var l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&$4(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,DLe(this,r,o,s)):n.apply(a,o),t.transmit){const c=t.transmit.level||e.level,u=Kl.levels.values[c],h=Kl.levels.values[r];if(h<u)return;FLe(this,{ts:s,methodLevel:r,methodValue:h,transmitValue:Kl.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function DLe(t,e,r,n){t._serialize&&$4(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Kl.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?YD(i.shift(),i):void 0}else typeof s=="string"&&(s=YD(i.shift(),i));return s!==void 0&&(o.msg=s),o}function $4(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Kl.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function up(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function FLe(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,l=t._logEvent.bindings;$4(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(c){return l.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=W_(l)}function W_(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function LLe(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function BLe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?wee:vee}function jv(){return{}}function R9(t){return t}function yw(){}function wee(){return!1}function vee(){return Date.now()}function ULe(){return Math.round(Date.now()/1e3)}function zLe(){return new Date(Date.now()).toISOString()}function WLe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const m2=mo(Tp),HLe={level:"info"},y2="custom_context",_I=1e3*1024;let qLe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ZD=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new qLe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},bee=class{constructor(e,r=_I){this.level=e??"error",this.levelValue=Tp.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new ZD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Tp.levels.values.error?console.error(e):r===Tp.levels.values.warn?console.warn(e):r===Tp.levels.values.debug?console.debug(e):r===Tp.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(au({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new ZD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(au({extraMetadata:e})),new Blob(r,{type:"application/json"})}},VLe=class{constructor(e,r=_I){this.baseChunkLogger=new bee(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},GLe=class{constructor(e,r=_I){this.baseChunkLogger=new bee(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var KLe=Object.defineProperty,YLe=Object.defineProperties,ZLe=Object.getOwnPropertyDescriptors,JD=Object.getOwnPropertySymbols,JLe=Object.prototype.hasOwnProperty,QLe=Object.prototype.propertyIsEnumerable,QD=(t,e,r)=>e in t?KLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f5=(t,e)=>{for(var r in e||(e={}))JLe.call(e,r)&&QD(t,r,e[r]);if(JD)for(var r of JD(e))QLe.call(e,r)&&QD(t,r,e[r]);return t},p5=(t,e)=>YLe(t,ZLe(e));function S4(t){return p5(f5({},t),{level:(t==null?void 0:t.level)||HLe.level})}function XLe(t,e=y2){return t[e]||""}function eBe(t,e,r=y2){return t[r]=e,t}function zs(t,e=y2){let r="";return typeof t.bindings>"u"?r=XLe(t,e):r=t.bindings().context||"",r}function tBe(t,e,r=y2){const n=zs(t,r);return n.trim()?`${n}/${e}`:e}function ls(t,e,r=y2){const n=tBe(t,e,r),i=t.child({context:n});return eBe(i,n,r)}function rBe(t){var e,r;const n=new VLe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:m2(p5(f5({},t.opts),{level:"trace",browser:p5(f5({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function nBe(t){var e;const r=new GLe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:m2(p5(f5({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function iBe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?rBe(t):nBe(t)}var sBe=Object.defineProperty,oBe=(t,e,r)=>e in t?sBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XD=(t,e,r)=>oBe(t,typeof e!="symbol"?e+"":e,r);let aBe=class extends Df{constructor(e){super(),this.opts=e,XD(this,"protocol","wc"),XD(this,"version",2)}};var lBe=Object.defineProperty,cBe=(t,e,r)=>e in t?lBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uBe=(t,e,r)=>cBe(t,e+"",r);let dBe=class extends Df{constructor(e,r){super(),this.core=e,this.logger=r,uBe(this,"records",new Map)}},hBe=class{constructor(e,r){this.logger=e,this.core=r}};class fBe extends Df{constructor(e,r){super(),this.relayer=e,this.logger=r}}let pBe=class extends Df{constructor(e){super()}},gBe=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},mBe=class extends Df{constructor(e,r){super(),this.relayer=e,this.logger=r}},yBe=class extends Df{constructor(e,r){super(),this.core=e,this.logger=r}},wBe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},vBe=class{constructor(e,r){this.projectId=e,this.logger=r}},bBe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};const xBe="PARSE_ERROR",EBe="INVALID_REQUEST",CBe="METHOD_NOT_FOUND",_Be="INVALID_PARAMS",xee="INTERNAL_ERROR",AI="SERVER_ERROR",ABe=[-32700,-32600,-32601,-32602,-32603],B1={[xBe]:{code:-32700,message:"Parse error"},[EBe]:{code:-32600,message:"Invalid Request"},[CBe]:{code:-32601,message:"Method not found"},[_Be]:{code:-32602,message:"Invalid params"},[xee]:{code:-32603,message:"Internal error"},[AI]:{code:-32e3,message:"Server error"}},Eee=AI;function kBe(t){return ABe.includes(t)}function eF(t){return Object.keys(B1).includes(t)?B1[t]:B1[Eee]}function $Be(t){const e=Object.values(B1).find(r=>r.code===t);return e||B1[Eee]}function Cee(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var _ee={},vc={},tF;function SBe(){if(tF)return vc;tF=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.isBrowserCryptoAvailable=vc.getSubtleCrypto=vc.getBrowerCrypto=void 0;function t(){return(bs==null?void 0:bs.crypto)||(bs==null?void 0:bs.msCrypto)||{}}vc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}vc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return vc.isBrowserCryptoAvailable=r,vc}var bc={},rF;function IBe(){if(rF)return bc;rF=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.isBrowser=bc.isNode=bc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}bc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}bc.isNode=e;function r(){return!t()&&!e()}return bc.isBrowser=r,bc}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=a2;e.__exportStar(SBe(),t),e.__exportStar(IBe(),t)})(_ee);function Al(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function ud(t=6){return BigInt(Al(t))}function Tl(t,e,r){return{id:r||Al(),jsonrpc:"2.0",method:t,params:e}}function ww(t,e){return{id:t,jsonrpc:"2.0",result:e}}function I4(t,e,r){return{id:t,jsonrpc:"2.0",error:TBe(e)}}function TBe(t,e){return typeof t>"u"?eF(xee):(typeof t=="string"&&(t=Object.assign(Object.assign({},eF(AI)),{message:t})),kBe(t.code)&&(t=$Be(t.code)),t)}class PBe{}class NBe extends PBe{constructor(){super()}}class OBe extends NBe{constructor(e){super()}}const RBe="^https?:",jBe="^wss?:";function MBe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Aee(t,e){const r=MBe(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function nF(t){return Aee(t,RBe)}function iF(t){return Aee(t,jBe)}function DBe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function kee(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function kI(t){return kee(t)&&"method"in t}function T4(t){return kee(t)&&(kl(t)||Fo(t))}function kl(t){return"result"in t}function Fo(t){return"error"in t}let fa=class extends OBe{constructor(e){super(e),this.events=new Eo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Tl(e.method,e.params||[],e.id||ud().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Fo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),T4(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const FBe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),LBe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",sF=t=>t.split("?")[0],oF=10,BBe=FBe();let UBe=class{constructor(e){if(this.url=e,this.events=new Eo.EventEmitter,this.registering=!1,!iF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(au(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!iF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=_ee.isReactNative()?void 0:{rejectUnauthorized:!DBe(e)},s=new BBe(e,[],i);LBe()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?mf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=I4(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Cee(e,sF(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>oF&&this.events.setMaxListeners(oF)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${sF(this.url)}`));return this.events.emit("register_error",r),r}};var zBe={};const $ee="wc",See=2,H_="core",rc=`${$ee}@2:${H_}:`,WBe={logger:"error"},HBe={database:":memory:"},qBe="crypto",aF="client_ed25519_seed",VBe=Ne.ONE_DAY,GBe="keychain",KBe="0.3",YBe="messages",ZBe="0.3",JBe=Ne.SIX_HOURS,QBe="publisher",Iee="irn",XBe="error",Tee="wss://relay.walletconnect.org",eUe="relayer",ln={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},tUe="_subscription",Io={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},rUe=.1,q_="2.21.7",jr={link_mode:"link_mode",relay:"relay"},Rb={inbound:"inbound",outbound:"outbound"},nUe="0.3",iUe="WALLETCONNECT_CLIENT_ID",lF="WALLETCONNECT_LINK_MODE_APPS",Ks={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},sUe="subscription",oUe="0.3",aUe="pairing",lUe="0.3",Nm={wc_pairingDelete:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ne.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ne.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:0}}},xh={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},va={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},cUe="history",uUe="0.3",dUe="expirer",jo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},hUe="0.3",fUe="verify-api",pUe="https://verify.walletconnect.com",Pee="https://verify.walletconnect.org",U1=Pee,gUe=`${U1}/v3`,mUe=[pUe,Pee],yUe="echo",wUe="https://echo.walletconnect.com",xl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Cc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Uu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Om={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},lh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Rm={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},vUe=.1,bUe="event-client",xUe=86400,EUe="https://pulse.walletconnect.org/batch";function CUe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,y=0,b=g.length;y!==b&&g[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,A=new Uint8Array(v);y!==b;){for(var E=g[y],O=0,N=v-1;(E!==0||O<w)&&N!==-1;N--,O++)E+=256*A[N]>>>0,A[N]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");w=O,y++}for(var R=v-w;R!==v&&A[R]===0;)R++;for(var T=l.repeat(m);R<v;++R)T+=t.charAt(A[R]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,y=0;g[m]===l;)w++,m++;for(var b=(g.length-m)*c+1>>>0,v=new Uint8Array(b);g[m];){var A=r[g.charCodeAt(m)];if(A===255)return;for(var E=0,O=b-1;(A!==0||E<y)&&O!==-1;O--,E++)A+=a*v[O]>>>0,v[O]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=E,m++}if(g[m]!==" "){for(var N=b-y;N!==b&&v[N]===0;)N++;for(var R=new Uint8Array(w+(b-N)),T=w;N!==b;)R[T++]=v[N++];return R}}}function p(g){var m=f(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var _Ue=CUe,AUe=_Ue;const Nee=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kUe=t=>new TextEncoder().encode(t),$Ue=t=>new TextDecoder().decode(t);class SUe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class IUe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Oee(this,e)}}class TUe{constructor(e){this.decoders=e}or(e){return Oee(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Oee=(t,e)=>new TUe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class PUe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new SUe(e,r,n),this.decoder=new IUe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const P4=({name:t,prefix:e,encode:r,decode:n})=>new PUe(t,e,r,n),w2=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=AUe(r,e);return P4({prefix:t,name:e,encode:n,decode:s=>Nee(i(s))})},NUe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},OUe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},fi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>P4({prefix:e,name:t,encode(i){return OUe(i,n,r)},decode(i){return NUe(i,n,r,t)}}),RUe=P4({prefix:"\0",name:"identity",encode:t=>$Ue(t),decode:t=>kUe(t)});var jUe=Object.freeze({__proto__:null,identity:RUe});const MUe=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DUe=Object.freeze({__proto__:null,base2:MUe});const FUe=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var LUe=Object.freeze({__proto__:null,base8:FUe});const BUe=w2({prefix:"9",name:"base10",alphabet:"0123456789"});var UUe=Object.freeze({__proto__:null,base10:BUe});const zUe=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WUe=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var HUe=Object.freeze({__proto__:null,base16:zUe,base16upper:WUe});const qUe=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),VUe=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),GUe=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),KUe=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YUe=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZUe=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),JUe=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QUe=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XUe=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var eze=Object.freeze({__proto__:null,base32:qUe,base32upper:VUe,base32pad:GUe,base32padupper:KUe,base32hex:YUe,base32hexupper:ZUe,base32hexpad:JUe,base32hexpadupper:QUe,base32z:XUe});const tze=w2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rze=w2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nze=Object.freeze({__proto__:null,base36:tze,base36upper:rze});const ize=w2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sze=w2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oze=Object.freeze({__proto__:null,base58btc:ize,base58flickr:sze});const aze=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lze=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),cze=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uze=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var dze=Object.freeze({__proto__:null,base64:aze,base64pad:lze,base64url:cze,base64urlpad:uze});const Ree=Array.from(""),hze=Ree.reduce((t,e,r)=>(t[r]=e,t),[]),fze=Ree.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function pze(t){return t.reduce((e,r)=>(e+=hze[r],e),"")}function gze(t){const e=[];for(const r of t){const n=fze[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const mze=P4({prefix:"",name:"base256emoji",encode:pze,decode:gze});var yze=Object.freeze({__proto__:null,base256emoji:mze}),wze=jee,cF=128,vze=-128,bze=Math.pow(2,31);function jee(t,e,r){e=e||[],r=r||0;for(var n=r;t>=bze;)e[r++]=t&255|cF,t/=128;for(;t&vze;)e[r++]=t&255|cF,t>>>=7;return e[r]=t|0,jee.bytes=r-n+1,e}var xze=V_,Eze=128,uF=127;function V_(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw V_.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&uF)<<i:(o&uF)*Math.pow(2,i),i+=7}while(o>=Eze);return V_.bytes=s-n,r}var Cze=Math.pow(2,7),_ze=Math.pow(2,14),Aze=Math.pow(2,21),kze=Math.pow(2,28),$ze=Math.pow(2,35),Sze=Math.pow(2,42),Ize=Math.pow(2,49),Tze=Math.pow(2,56),Pze=Math.pow(2,63),Nze=function(t){return t<Cze?1:t<_ze?2:t<Aze?3:t<kze?4:t<$ze?5:t<Sze?6:t<Ize?7:t<Tze?8:t<Pze?9:10},Oze={encode:wze,decode:xze,encodingLength:Nze},Mee=Oze;const dF=(t,e,r=0)=>(Mee.encode(t,e,r),e),hF=t=>Mee.encodingLength(t),G_=(t,e)=>{const r=e.byteLength,n=hF(t),i=n+hF(r),s=new Uint8Array(i+r);return dF(t,s,0),dF(r,s,n),s.set(e,i),new Rze(t,r,e,s)};class Rze{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Dee=({name:t,code:e,encode:r})=>new jze(t,e,r);class jze{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?G_(this.code,r):r.then(n=>G_(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Fee=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Mze=Dee({name:"sha2-256",code:18,encode:Fee("SHA-256")}),Dze=Dee({name:"sha2-512",code:19,encode:Fee("SHA-512")});var Fze=Object.freeze({__proto__:null,sha256:Mze,sha512:Dze});const Lee=0,Lze="identity",Bee=Nee,Bze=t=>G_(Lee,Bee(t)),Uze={code:Lee,name:Lze,encode:Bee,digest:Bze};var zze=Object.freeze({__proto__:null,identity:Uze});new TextEncoder,new TextDecoder;const fF={...jUe,...DUe,...LUe,...UUe,...HUe,...eze,...nze,...oze,...dze,...yze};({...Fze,...zze});function Uee(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Wze(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Uee(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function zee(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const pF=zee("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),j9=zee("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Wze(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Hze={utf8:pF,"utf-8":pF,hex:fF.base16,latin1:j9,ascii:j9,binary:j9,...fF};function qze(t,e="utf8"){const r=Hze[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Uee(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Vze=Object.defineProperty,Gze=(t,e,r)=>e in t?Vze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gl=(t,e,r)=>Gze(t,typeof e!="symbol"?e+"":e,r);let Kze=class{constructor(e,r){this.core=e,this.logger=r,gl(this,"keychain",new Map),gl(this,"name",GBe),gl(this,"version",KBe),gl(this,"initialized",!1),gl(this,"storagePrefix",rc),gl(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),gl(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),gl(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),gl(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Re("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),gl(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ls(r,this.name)}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,I_(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?T_(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Yze=Object.defineProperty,Zze=(t,e,r)=>e in t?Yze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kn=(t,e,r)=>Zze(t,typeof e!="symbol"?e+"":e,r);let Jze=class{constructor(e,r,n){this.core=e,this.logger=r,Kn(this,"name",qBe),Kn(this,"keychain"),Kn(this,"randomSessionIdentifier",B_()),Kn(this,"initialized",!1),Kn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Kn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Kn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=qM(i);return eX(s.publicKey)}),Kn(this,"generateKeyPair",()=>{this.isInitialized();const i=WDe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Kn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=qM(s),a=this.randomSessionIdentifier;return await IOe(a,i,VBe,o)}),Kn(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=HDe(a,s);return this.setSymKey(l,o)}),Kn(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Pb(i);return await this.keychain.set(o,i),o}),Kn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Kn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Kn(this,"encode",async(i,s,o)=>{this.isInitialized();const a=fee(o),l=au(s);if(ND(a))return GDe(l,o==null?void 0:o.encoding);if(PD(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return qDe({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Kn(this,"decode",async(i,s,o)=>{this.isInitialized();const a=YDe(s,o);if(ND(a)){const l=KDe(s,o==null?void 0:o.encoding);return mf(l)}if(PD(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=VDe({symKey:l,encoded:s,encoding:o==null?void 0:o.encoding});return mf(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Kn(this,"getPayloadType",(i,s=vs)=>{const o=gw({encoded:i,encoding:s});return wf(o.type)}),Kn(this,"getPayloadSenderPublicKey",(i,s=vs)=>{const o=gw({encoded:i,encoding:s});return o.senderPublicKey?Ps(o.senderPublicKey,ns):void 0}),this.core=e,this.logger=ls(r,this.name),this.keychain=n||new Kze(this.core,this.logger)}get context(){return zs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(aF)}catch{e=B_(),await this.keychain.set(aF,e)}return qze(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var Qze=Object.defineProperty,Xze=Object.defineProperties,eWe=Object.getOwnPropertyDescriptors,gF=Object.getOwnPropertySymbols,tWe=Object.prototype.hasOwnProperty,rWe=Object.prototype.propertyIsEnumerable,K_=(t,e,r)=>e in t?Qze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nWe=(t,e)=>{for(var r in e||(e={}))tWe.call(e,r)&&K_(t,r,e[r]);if(gF)for(var r of gF(e))rWe.call(e,r)&&K_(t,r,e[r]);return t},iWe=(t,e)=>Xze(t,eWe(e)),qs=(t,e,r)=>K_(t,typeof e!="symbol"?e+"":e,r);let sWe=class extends hBe{constructor(e,r){super(e,r),this.logger=e,this.core=r,qs(this,"messages",new Map),qs(this,"messagesWithoutClientAck",new Map),qs(this,"name",YBe),qs(this,"version",ZBe),qs(this,"initialized",!1),qs(this,"storagePrefix",rc),qs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),qs(this,"set",async(n,i,s)=>{this.isInitialized();const o=Do(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===Rb.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,iWe(nWe({},l),{[o]:i}))}return await this.persist(),o}),qs(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),qs(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),qs(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Do(i);return typeof s[o]<"u"}),qs(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Do(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),qs(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ls(e,this.name),this.core=r}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,I_(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,I_(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?T_(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?T_(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var oWe=Object.defineProperty,aWe=Object.defineProperties,lWe=Object.getOwnPropertyDescriptors,mF=Object.getOwnPropertySymbols,cWe=Object.prototype.hasOwnProperty,uWe=Object.prototype.propertyIsEnumerable,Y_=(t,e,r)=>e in t?oWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dp=(t,e)=>{for(var r in e||(e={}))cWe.call(e,r)&&Y_(t,r,e[r]);if(mF)for(var r of mF(e))uWe.call(e,r)&&Y_(t,r,e[r]);return t},yF=(t,e)=>aWe(t,lWe(e)),To=(t,e,r)=>Y_(t,typeof e!="symbol"?e+"":e,r);class dWe extends fBe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,To(this,"events",new Eo.EventEmitter),To(this,"name",QBe),To(this,"queue",new Map),To(this,"publishTimeout",Ne.toMiliseconds(Ne.ONE_MINUTE)),To(this,"initialPublishTimeout",Ne.toMiliseconds(Ne.ONE_SECOND*15)),To(this,"needsTransportRestart",!1),To(this,"publish",async(n,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||JBe,f=(s==null?void 0:s.prompt)||!1,p=(s==null?void 0:s.tag)||0,g=(s==null?void 0:s.id)||ud().toString(),m=Jp(d5().protocol),w={id:g,method:(s==null?void 0:s.publishMethod)||m.publish,params:dp({topic:n,message:i,ttl:h,prompt:f,tag:p,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},y=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{Tn((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),Tn((l=w.params)==null?void 0:l.tag)&&((c=w.params)==null||delete c.tag);const b=new Promise(async v=>{const A=({id:O})=>{var N;((N=w.id)==null?void 0:N.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(ln.publish,A),v())};this.relayer.events.on(ln.publish,A);const E=jl(new Promise((O,N)=>{this.rpcPublish(w,s).then(O).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),N(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await E,this.events.removeListener(ln.publish,A)}catch(O){this.queue.set(g,{request:w,opts:s,attempt:1}),this.logger.warn(O,O==null?void 0:O.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:n,message:i,opts:s}}),await jl(b,this.publishTimeout,y)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw b}finally{this.queue.delete(g)}}),To(this,"publishCustom",async n=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:c,opts:u={}}=n,{attestation:h,tvf:f,publishMethod:p,prompt:g,tag:m,ttl:w=Ne.FIVE_MINUTES}=u,y=u.id||ud().toString(),b=Jp(d5().protocol),v=p||b.publish,A={id:y,method:v,params:dp(yF(dp({},c),{ttl:w,prompt:g,tag:m,attestation:h}),f)},E=`Failed to publish custom payload, please try again. id:${y} tag:${m}`;try{Tn((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),Tn((o=A.params)==null?void 0:o.tag)&&((a=A.params)==null||delete a.tag);const O=new Promise(async N=>{const R=({id:L})=>{var B;((B=A.id)==null?void 0:B.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(ln.publish,R),N())};this.relayer.events.on(ln.publish,R);const T=jl(new Promise((L,B)=>{this.rpcPublish(A,u).then(L).catch(W=>{this.logger.warn(W,W==null?void 0:W.message),B(W)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${y} tag:${m}`);try{await T,this.events.removeListener(ln.publish,R)}catch(L){this.queue.set(y,{request:A,opts:u,attempt:1}),this.logger.warn(L,L==null?void 0:L.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:c,opts:u}}),await jl(O,this.publishTimeout,E)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw O}finally{this.queue.delete(y)}}),To(this,"on",(n,i)=>{this.events.on(n,i)}),To(this,"once",(n,i)=>{this.events.once(n,i)}),To(this,"off",(n,i)=>{this.events.off(n,i)}),To(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ls(r,this.name),this.registerEventListeners()}get context(){return zs(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(ln.publish,dp(dp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,yF(dp({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ff.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ln.connection_stalled);return}this.checkQueue()}),this.relayer.on(ln.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var hWe=Object.defineProperty,fWe=(t,e,r)=>e in t?hWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hp=(t,e,r)=>fWe(t,typeof e!="symbol"?e+"":e,r);class pWe{constructor(){hp(this,"map",new Map),hp(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),hp(this,"get",e=>this.map.get(e)||[]),hp(this,"exists",(e,r)=>this.get(e).includes(r)),hp(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),hp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var gWe=Object.defineProperty,mWe=Object.defineProperties,yWe=Object.getOwnPropertyDescriptors,wF=Object.getOwnPropertySymbols,wWe=Object.prototype.hasOwnProperty,vWe=Object.prototype.propertyIsEnumerable,Z_=(t,e,r)=>e in t?gWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jm=(t,e)=>{for(var r in e||(e={}))wWe.call(e,r)&&Z_(t,r,e[r]);if(wF)for(var r of wF(e))vWe.call(e,r)&&Z_(t,r,e[r]);return t},M9=(t,e)=>mWe(t,yWe(e)),xr=(t,e,r)=>Z_(t,typeof e!="symbol"?e+"":e,r);let bWe=class extends mBe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,xr(this,"subscriptions",new Map),xr(this,"topicMap",new pWe),xr(this,"events",new Eo.EventEmitter),xr(this,"name",sUe),xr(this,"version",oUe),xr(this,"pending",new Map),xr(this,"cached",[]),xr(this,"initialized",!1),xr(this,"storagePrefix",rc),xr(this,"subscribeTimeout",Ne.toMiliseconds(Ne.ONE_MINUTE)),xr(this,"initialSubscribeTimeout",Ne.toMiliseconds(Ne.ONE_SECOND*15)),xr(this,"clientId"),xr(this,"batchSubscribeTopicsLimit",500),xr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),xr(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=d5(i),a={topic:n,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const l=await this.rpcSubscribe(n,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),xr(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),xr(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),xr(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),xr(this,"on",(n,i)=>{this.events.on(n,i)}),xr(this,"once",(n,i)=>{this.events.once(n,i)}),xr(this,"off",(n,i)=>{this.events.off(n,i)}),xr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),xr(this,"start",async()=>{await this.onConnect()}),xr(this,"stop",async()=>{await this.onDisconnect()}),xr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),xr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),xr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ff.pulse,async()=>{await this.checkPending()}),this.events.on(Ks.created,async n=>{const i=Ks.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Ks.deleted,async n=>{const i=Ks.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ls(r,this.name),this.clientId=""}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=d5(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Mr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n==null?void 0:n.internal)!=null&&i.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===jr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Jp(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===jr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},Ne.toMiliseconds(Ne.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(Ks.created,f),h(p.id))};this.events.on(Ks.created,f);try{const p=await jl(new Promise((g,m)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ks.created,f),h(p)}catch{}}),u=await jl(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ln.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Jp(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await jl(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Jp(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await jl(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ln.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Jp(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,M9(jm({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,jm({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,jm({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ks.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Re("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ks.deleted,M9(jm({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ks.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ks.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Re("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>M9(jm({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await dje(Ne.toMiliseconds(Ne.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Do(e+await this.getClientId())}};var xWe=Object.defineProperty,vF=Object.getOwnPropertySymbols,EWe=Object.prototype.hasOwnProperty,CWe=Object.prototype.propertyIsEnumerable,J_=(t,e,r)=>e in t?xWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bF=(t,e)=>{for(var r in e||(e={}))EWe.call(e,r)&&J_(t,r,e[r]);if(vF)for(var r of vF(e))CWe.call(e,r)&&J_(t,r,e[r]);return t},ir=(t,e,r)=>J_(t,typeof e!="symbol"?e+"":e,r);let _We=class extends pBe{constructor(e){super(e),ir(this,"protocol","wc"),ir(this,"version",2),ir(this,"core"),ir(this,"logger"),ir(this,"events",new Eo.EventEmitter),ir(this,"provider"),ir(this,"messages"),ir(this,"subscriber"),ir(this,"publisher"),ir(this,"name",eUe),ir(this,"transportExplicitlyClosed",!1),ir(this,"initialized",!1),ir(this,"connectionAttemptInProgress",!1),ir(this,"relayUrl"),ir(this,"projectId"),ir(this,"packageName"),ir(this,"bundleId"),ir(this,"hasExperiencedNetworkDisruption",!1),ir(this,"pingTimeout"),ir(this,"heartBeatTimeout",Ne.toMiliseconds(Ne.THIRTY_SECONDS+Ne.FIVE_SECONDS)),ir(this,"reconnectTimeout"),ir(this,"connectPromise"),ir(this,"reconnectInProgress",!1),ir(this,"requestsInFlight",[]),ir(this,"connectTimeout",Ne.toMiliseconds(Ne.ONE_SECOND*15)),ir(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||ud().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),ir(this,"resetPingTimeout",()=>{a5()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),ir(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),ir(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ln.connect)}),ir(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ir(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(ln.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ir(this,"registerProviderListeners",()=>{this.provider.on(Io.payload,this.onPayloadHandler),this.provider.on(Io.connect,this.onConnectHandler),this.provider.on(Io.disconnect,this.onDisconnectHandler),this.provider.on(Io.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ls(e.logger,this.name):m2(S4({level:e.logger||XBe})),this.messages=new sWe(this.logger,e.core),this.subscriber=new bWe(this,this.logger),this.publisher=new dWe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Tee,YRe()?this.packageName=XM():ZRe()&&(this.bundleId=XM()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return zs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:jr.relay},Rb.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(Ks.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(Ks.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,bF({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await jl(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await WD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=$n(Ne.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(ln.message,e),await this.recordMessageEvent(e,Rb.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Io.disconnect,s),await jl(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Io.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Io.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Io.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Ne.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(a5())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fa(new UBe(tje({sdkVersion:q_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),kI(e)){if(!e.method.endsWith(tUe))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:jr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(bF({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else T4(e)&&this.events.emit(ln.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Rb.inbound),this.events.emit(ln.message,e))}async acknowledgePayload(e){const r=ww(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Io.payload,this.onPayloadHandler),this.provider.off(Io.connect,this.onConnectHandler),this.provider.off(Io.disconnect,this.onDisconnectHandler),this.provider.off(Io.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await WD();zFe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ff.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&qFe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ln.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ne.toMiliseconds(rUe)))))}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function AWe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function xF(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function EF(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kWe="[object RegExp]",$We="[object String]",SWe="[object Number]",IWe="[object Boolean]",CF="[object Arguments]",TWe="[object Symbol]",PWe="[object Date]",NWe="[object Map]",OWe="[object Set]",RWe="[object Array]",jWe="[object Function]",MWe="[object ArrayBuffer]",D9="[object Object]",DWe="[object Error]",FWe="[object DataView]",LWe="[object Uint8Array]",BWe="[object Uint8ClampedArray]",UWe="[object Uint16Array]",zWe="[object Uint32Array]",WWe="[object BigUint64Array]",HWe="[object Int8Array]",qWe="[object Int16Array]",VWe="[object Int32Array]",GWe="[object BigInt64Array]",KWe="[object Float32Array]",YWe="[object Float64Array]";function ZWe(){}function _F(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function JWe(t,e,r){return l1(t,e,void 0,void 0,void 0,void 0,r)}function l1(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return z1(t,e,s,o)}return z1(t,e,s,o)}function z1(t,e,r,n){if(Object.is(t,e))return!0;let i=EF(t),s=EF(e);if(i===CF&&(i=D9),s===CF&&(s=D9),i!==s)return!1;switch(i){case $We:return t.toString()===e.toString();case SWe:{const l=t.valueOf(),c=e.valueOf();return AWe(l,c)}case IWe:case PWe:case TWe:return Object.is(t.valueOf(),e.valueOf());case kWe:return t.source===e.source&&t.flags===e.flags;case jWe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case NWe:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!l1(c,e.get(l),l,t,e,r,n))return!1;return!0}case OWe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>l1(h,p,void 0,t,e,r,n));if(f===-1)return!1;c.splice(f,1)}return!0}case RWe:case LWe:case BWe:case UWe:case zWe:case WWe:case HWe:case qWe:case VWe:case GWe:case KWe:case YWe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!l1(t[l],e[l],l,t,e,r,n))return!1;return!0}case MWe:return t.byteLength!==e.byteLength?!1:z1(new Uint8Array(t),new Uint8Array(e),r,n);case FWe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:z1(new Uint8Array(t),new Uint8Array(e),r,n);case DWe:return t.name===e.name&&t.message===e.message;case D9:{if(!(z1(t.constructor,e.constructor,r,n)||_F(t)&&_F(e)))return!1;const l=[...Object.keys(t),...xF(t)],c=[...Object.keys(e),...xF(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!l1(f,p,h,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function QWe(t,e){return JWe(t,e,ZWe)}var XWe=Object.defineProperty,AF=Object.getOwnPropertySymbols,eHe=Object.prototype.hasOwnProperty,tHe=Object.prototype.propertyIsEnumerable,Q_=(t,e,r)=>e in t?XWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kF=(t,e)=>{for(var r in e||(e={}))eHe.call(e,r)&&Q_(t,r,e[r]);if(AF)for(var r of AF(e))tHe.call(e,r)&&Q_(t,r,e[r]);return t},hs=(t,e,r)=>Q_(t,typeof e!="symbol"?e+"":e,r);let Bf=class extends gBe{constructor(e,r,n,i=rc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,hs(this,"map",new Map),hs(this,"version",nUe),hs(this,"cached",[]),hs(this,"initialized",!1),hs(this,"getKey"),hs(this,"storagePrefix",rc),hs(this,"recentlyDeleted",[]),hs(this,"recentlyDeletedLimit",200),hs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Tn(o)?this.map.set(this.getKey(o),o):vFe(o)?this.map.set(o.id,o):bFe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),hs(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),hs(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),hs(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>QWe(a[l],o[l]))):this.values)),hs(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=kF(kF({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),hs(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ls(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Re("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Re("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Re("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var rHe=Object.defineProperty,nHe=(t,e,r)=>e in t?rHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gt=(t,e,r)=>nHe(t,typeof e!="symbol"?e+"":e,r);let iHe=class{constructor(e,r){this.core=e,this.logger=r,Gt(this,"name",aUe),Gt(this,"version",lUe),Gt(this,"events",new YS),Gt(this,"pairings"),Gt(this,"initialized",!1),Gt(this,"storagePrefix",rc),Gt(this,"ignoredPayloadTypes",[Vc]),Gt(this,"registeredMethods",[]),Gt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Gt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Gt(this,"create",async n=>{this.isInitialized();const i=B_(),s=await this.core.crypto.setSymKey(i),o=$n(Ne.FIVE_MINUTES),a={protocol:Iee},l={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},c=RD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(xh.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:s,uri:c}}),Gt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[xl.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=OD(n.uri);i.props.properties.topic=s,i.addTrace(xl.pairing_uri_validation_success),i.addTrace(xl.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(xl.existing_pairing),u.active)throw i.setError(Cc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(xl.pairing_not_expired)}const h=l||$n(Ne.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(xl.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(xh.create,f),i.addTrace(xl.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(xl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Cc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Cc.subscribe_pairing_topic_failure),p}return i.addTrace(xl.subscribe_pairing_topic_success),f}),Gt(this,"activate",async({topic:n})=>{this.isInitialized();const i=$n(Ne.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Gt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=fh();this.events.once(cr("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),Gt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Gt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Gt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Gt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Mr("USER_DISCONNECTED")),await this.deletePairing(i))}),Gt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,l=this.core.crypto.keychain.get(i);return RD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),Gt(this,"sendRequest",async(n,i,s)=>{const o=Tl(i,s),a=await this.core.crypto.encode(n,o),l=Nm[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,l),o.id}),Gt(this,"sendResult",async(n,i,s)=>{const o=ww(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=Nm[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Gt(this,"sendError",async(n,i,s)=>{const o=I4(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=Nm[l]?Nm[l].res:Nm.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Gt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Mr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Gt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Vu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Gt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Gt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Gt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(xh.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Gt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{kl(i)?this.events.emit(cr("pairing_ping",s),{}):Fo(i)&&this.events.emit(cr("pairing_ping",s),{error:i.error})},500)}),Gt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(xh.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Gt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Mr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Gt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Mr("WC_METHOD_UNSUPPORTED",n))}),Gt(this,"isValidPair",(n,i)=>{var s;if(!ps(n)){const{message:a}=Re("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(!wFe(n.uri)){const{message:a}=Re("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Cc.malformed_pairing_uri),new Error(a)}const o=OD(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Re("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Re("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ne.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Cc.pairing_expired);const{message:a}=Re("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Gt(this,"isValidPing",async n=>{if(!ps(n)){const{message:s}=Re("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Gt(this,"isValidDisconnect",async n=>{if(!ps(n)){const{message:s}=Re("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Gt(this,"isValidPairingTopic",async n=>{if(!bn(n,!1)){const{message:i}=Re("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Re("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Vu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Re("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ls(r,this.name),this.pairings=new Bf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return zs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ln.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==jr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);kI(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):T4(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(jo.expired,async e=>{const{topic:r}=CX(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(xh.expire,{topic:r}))})}};var sHe=Object.defineProperty,oHe=(t,e,r)=>e in t?sHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yn=(t,e,r)=>oHe(t,typeof e!="symbol"?e+"":e,r);let aHe=class extends dBe{constructor(e,r){super(e,r),this.core=e,this.logger=r,Yn(this,"records",new Map),Yn(this,"events",new Eo.EventEmitter),Yn(this,"name",cUe),Yn(this,"version",uUe),Yn(this,"cached",[]),Yn(this,"initialized",!1),Yn(this,"storagePrefix",rc),Yn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Yn(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:$n(Ne.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(va.created,o)}),Yn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Fo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(va.updated,i))}),Yn(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Yn(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(va.deleted,s)}}),this.persist()}),Yn(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Yn(this,"on",(n,i)=>{this.events.on(n,i)}),Yn(this,"once",(n,i)=>{this.events.once(n,i)}),Yn(this,"off",(n,i)=>{this.events.off(n,i)}),Yn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ls(r,this.name)}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Tl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Re("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(va.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Re("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(va.created,e=>{const r=va.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(va.updated,e=>{const r=va.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(va.deleted,e=>{const r=va.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Ff.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Ne.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(va.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var lHe=Object.defineProperty,cHe=(t,e,r)=>e in t?lHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ai=(t,e,r)=>cHe(t,typeof e!="symbol"?e+"":e,r);let uHe=class extends yBe{constructor(e,r){super(e,r),this.core=e,this.logger=r,Ai(this,"expirations",new Map),Ai(this,"events",new Eo.EventEmitter),Ai(this,"name",dUe),Ai(this,"version",hUe),Ai(this,"cached",[]),Ai(this,"initialized",!1),Ai(this,"storagePrefix",rc),Ai(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ai(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Ai(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(jo.created,{target:s,expiration:o})}),Ai(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Ai(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(jo.deleted,{target:i,expiration:s})}}),Ai(this,"on",(n,i)=>{this.events.on(n,i)}),Ai(this,"once",(n,i)=>{this.events.once(n,i)}),Ai(this,"off",(n,i)=>{this.events.off(n,i)}),Ai(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ls(r,this.name)}get context(){return zs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return rje(e);if(typeof e=="number")return nje(e);const{message:r}=Re("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(jo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Re("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Re("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ne.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(jo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Ff.pulse,()=>this.checkExpirations()),this.events.on(jo.created,e=>{const r=jo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(jo.expired,e=>{const r=jo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(jo.deleted,e=>{const r=jo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dHe=Object.defineProperty,hHe=(t,e,r)=>e in t?dHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pn=(t,e,r)=>hHe(t,typeof e!="symbol"?e+"":e,r);let fHe=class extends wBe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,pn(this,"name",fUe),pn(this,"abortController"),pn(this,"isDevEnv"),pn(this,"verifyUrlV3",gUe),pn(this,"storagePrefix",rc),pn(this,"version",See),pn(this,"publicKey"),pn(this,"fetchPromise"),pn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ne.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),pn(this,"register",async i=>{if(!Wg()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=pf(),u=this.startAbortTimer(Ne.ONE_SECOND*5),h=await new Promise((f,p)=>{const g=()=>{window.removeEventListener("message",w),c.body.removeChild(m),p("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=c.createElement("iframe");m.src=l,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if($_(b.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",w),f(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};c.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),pn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if($_(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,l)}),pn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ne.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),pn(this,"getVerifyUrl",i=>{let s=i||U1;return mUe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${U1}`),s=U1),s}),pn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ne.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),pn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),pn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),pn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),pn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),pn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),pn(this,"validateAttestation",(i,s)=>{const o=JDe(i,s.publicKey),a={hasExpired:Ne.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ls(r,this.name),this.abortController=new AbortController,this.isDevEnv=uI(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return zs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ne.toMiliseconds(e))}};var pHe=Object.defineProperty,gHe=(t,e,r)=>e in t?pHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$F=(t,e,r)=>gHe(t,typeof e!="symbol"?e+"":e,r);let mHe=class extends vBe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,$F(this,"context",yUe),$F(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,l=`${wUe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ls(r,this.context)}};var yHe=Object.defineProperty,SF=Object.getOwnPropertySymbols,wHe=Object.prototype.hasOwnProperty,vHe=Object.prototype.propertyIsEnumerable,X_=(t,e,r)=>e in t?yHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mm=(t,e)=>{for(var r in e||(e={}))wHe.call(e,r)&&X_(t,r,e[r]);if(SF)for(var r of SF(e))vHe.call(e,r)&&X_(t,r,e[r]);return t},Mn=(t,e,r)=>X_(t,typeof e!="symbol"?e+"":e,r);let bHe=class extends bBe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Mn(this,"context",bUe),Mn(this,"storagePrefix",rc),Mn(this,"storageVersion",vUe),Mn(this,"events",new Map),Mn(this,"shouldPersist",!1),Mn(this,"init",async()=>{if(!uI())try{const i={eventId:tD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:xX(this.core.relayer.protocol,this.core.relayer.version,q_)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Mn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=tD(),u=this.core.projectId||"",h=Date.now(),f=Mm({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),Mn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return Mm(Mm({},a),this.setMethods(a.eventId))}),Mn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Mn(this,"setEventListeners",()=>{this.core.heartbeat.on(Ff.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ne.fromMiliseconds(Date.now())-Ne.fromMiliseconds(i.timestamp)>xUe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Mn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Mn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Mn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Mn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Mn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Mm(Mm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Mn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Mn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${EUe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${q_}${s}`,{method:"POST",body:JSON.stringify(i)})}),Mn(this,"getAppDomain",()=>bX().url),this.logger=ls(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var xHe=Object.defineProperty,IF=Object.getOwnPropertySymbols,EHe=Object.prototype.hasOwnProperty,CHe=Object.prototype.propertyIsEnumerable,eA=(t,e,r)=>e in t?xHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TF=(t,e)=>{for(var r in e||(e={}))EHe.call(e,r)&&eA(t,r,e[r]);if(IF)for(var r of IF(e))CHe.call(e,r)&&eA(t,r,e[r]);return t},kr=(t,e,r)=>eA(t,typeof e!="symbol"?e+"":e,r);let _He=class Wee extends aBe{constructor(e){var r;super(e),kr(this,"protocol",$ee),kr(this,"version",See),kr(this,"name",H_),kr(this,"relayUrl"),kr(this,"projectId"),kr(this,"customStoragePrefix"),kr(this,"events",new Eo.EventEmitter),kr(this,"logger"),kr(this,"heartbeat"),kr(this,"relayer"),kr(this,"crypto"),kr(this,"storage"),kr(this,"history"),kr(this,"expirer"),kr(this,"pairing"),kr(this,"verify"),kr(this,"echoClient"),kr(this,"linkModeSupportedApps"),kr(this,"eventClient"),kr(this,"initialized",!1),kr(this,"logChunkController"),kr(this,"on",(a,l)=>this.events.on(a,l)),kr(this,"once",(a,l)=>this.events.once(a,l)),kr(this,"off",(a,l)=>this.events.off(a,l)),kr(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),kr(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:jr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Tee,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=S4({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:WBe.logger,name:H_}),{logger:s,chunkLoggerController:o}=iBe({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ls(s,this.name),this.heartbeat=new tLe,this.crypto=new Jze(this,this.logger,e==null?void 0:e.keychain),this.history=new aHe(this,this.logger),this.expirer=new uHe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new TLe(TF(TF({},HBe),e==null?void 0:e.storageOptions)),this.relayer=new _We({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new iHe(this,this.logger),this.verify=new fHe(this,this.logger,this.storage),this.echoClient=new mHe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new bHe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new Wee(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(iUe,n),r}get context(){return zs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(lF,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(lF)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&zBe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const AHe=_He;var kHe=Object.defineProperty,$He=(t,e,r)=>e in t?kHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PF=(t,e,r)=>$He(t,typeof e!="symbol"?e+"":e,r);let SHe=class{constructor(e){this.opts=e,PF(this,"protocol","wc"),PF(this,"version",2)}},IHe=class{constructor(e){this.client=e}};const Hee="wc",qee=2,Vee="client",$I=`${Hee}@${qee}:${Vee}:`,F9={name:Vee,logger:"error"},NF="WALLETCONNECT_DEEPLINK_CHOICE",THe="proposal",OF="Proposal expired",PHe="session",fp=Ne.SEVEN_DAYS,NHe="engine",Zn={wc_sessionPropose:{req:{ttl:Ne.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ne.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ne.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ne.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ne.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ne.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ne.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ne.FIVE_MINUTES,prompt:!1,tag:1119}}},L9={min:Ne.FIVE_MINUTES,max:Ne.SEVEN_DAYS},ml={idle:"IDLE",active:"ACTIVE"},OHe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},RHe="request",jHe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],MHe="wc",DHe="auth",FHe="authKeys",LHe="pairingTopics",BHe="requests",N4=`${MHe}@${1.5}:${DHe}:`,jb=`${N4}:PUB_KEY`;var UHe=Object.defineProperty,zHe=Object.defineProperties,WHe=Object.getOwnPropertyDescriptors,RF=Object.getOwnPropertySymbols,HHe=Object.prototype.hasOwnProperty,qHe=Object.prototype.propertyIsEnumerable,tA=(t,e,r)=>e in t?UHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fr=(t,e)=>{for(var r in e||(e={}))HHe.call(e,r)&&tA(t,r,e[r]);if(RF)for(var r of RF(e))qHe.call(e,r)&&tA(t,r,e[r]);return t},ki=(t,e)=>zHe(t,WHe(e)),Ce=(t,e,r)=>tA(t,typeof e!="symbol"?e+"":e,r);let VHe=class extends IHe{constructor(e){super(e),Ce(this,"name",NHe),Ce(this,"events",new YS),Ce(this,"initialized",!1),Ce(this,"requestQueue",{state:ml.idle,queue:[]}),Ce(this,"sessionRequestQueue",{state:ml.idle,queue:[]}),Ce(this,"emittedSessionRequests",new hje({limit:500})),Ce(this,"requestQueueDelay",Ne.ONE_SECOND),Ce(this,"expectedPairingMethodMap",new Map),Ce(this,"recentlyDeletedMap",new Map),Ce(this,"recentlyDeletedLimit",200),Ce(this,"relayMessageCache",[]),Ce(this,"pendingSessions",new Map),Ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Zn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ne.toMiliseconds(this.requestQueueDelay)))}),Ce(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ki(fr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=fFe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=n;let u=i,h,f=!1;try{if(u){const O=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),O}if(!u||!f){const{topic:O,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=O,h=N}if(!u){const{message:O}=Re("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(O)}const p=await this.client.core.crypto.generateKeyPair(),g=Zn.wc_sessionPropose.req.ttl||Ne.FIVE_MINUTES,m=$n(g),w=ki(fr(fr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:Iee}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:Al()}),y=cr("session_connect",w.id),{reject:b,resolve:v,done:A}=fh(g,OF),E=({id:O})=>{O===w.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:OF,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(y,({error:O,session:N})=>{this.client.events.off("proposal_expire",E),O?b(O):N&&v(N)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:h,approval:A}}),Ce(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Ce(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Uu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(T){throw o.setError(Om.no_internet_connection),T}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(T){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Om.proposal_not_found),T}try{await this.isValidApprove(r)}catch(T){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Om.session_approve_namespace_validation_failure),T}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:w,optionalNamespaces:y}=p;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Uu.session_approve_started,properties:{topic:g,trace:[Uu.session_approve_started,Uu.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),A=m.publicKey,E=await this.client.core.crypto.generateSharedKey(v,A),O=fr(fr(fr({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:v,metadata:this.client.metadata},expiry:$n(fp)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),N=jr.relay;b.addTrace(Uu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:N,internal:{skipSubscribe:!0}})}catch(T){throw b.setError(Om.subscribe_session_topic_failure),T}b.addTrace(Uu.subscribe_session_topic_success);const R=ki(fr({},O),{topic:E,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:g,acknowledged:!1,self:O.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:jr.relay});await this.client.session.set(E,R),b.addTrace(Uu.store_session);try{await this.sendApproveSession({sessionTopic:E,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:v},sessionSettleRequest:O,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),b.addTrace(Uu.session_approve_publish_success)}catch(T){throw this.client.logger.error(T),this.client.session.delete(E,Mr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),T}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(E,$n(fp)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),Ce(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Zn.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Ce(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=fh(),l=Al(),c=ud().toString(),u=this.client.session.get(n).namespaces;return this.events.once(cr("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:u}),a(h)}),{acknowledged:s}}),Ce(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=Al(),{done:s,resolve:o,reject:a}=fh();return this.events.once(cr("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(n,$n(fp)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),Ce(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=Zn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===jr.relay&&await this.confirmOnlineStateOrThrow();const l=Al(),c=ud().toString(),{done:u,resolve:h,reject:f}=fh(o,"Request expired. Please try again.");this.events.once(cr("session_request",l),({error:w,result:y})=>{w?f(w):h(y)});const p="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:ki(fr({},i),{expiryTimestamp:$n(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await u();const m={request:ki(fr({},i),{expiryTimestamp:$n(o)}),chainId:n};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,m)}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const b=await aje(this.client.core.storage,NF);await ije({id:l,topic:s,wcDeepLink:b})}w()}),u()]).then(w=>w[2])}),Ce(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);kl(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Fo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),Ce(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Al(),s=ud().toString(),{done:o,resolve:a,reject:l}=fh();this.events.once(cr("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Ce(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=ud().toString(),a=Al();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Ce(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Mr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Re("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Ce(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>mFe(n,r)))),Ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ce(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?jr.link_mode:jr.relay;o===jr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:g,methods:m=[],expiry:w}=r,y=[...r.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const A=await this.client.core.crypto.generateKeyPair(),E=Pb(A);if(await Promise.all([this.client.auth.authKeys.set(jb,{responseTopic:E,publicKey:A}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:b})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:I}=Wh(a[0]);let D=CMe(I,"request",m);Tb(y)&&(D=AMe(D,y.pop())),y.push(D)}const O=w&&w>Zn.wc_sessionAuthenticate.req.ttl?w:Zn.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:g,resources:y},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:$n(O)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:$n(Zn.wc_sessionPropose.req.ttl),id:Al()},{done:L,resolve:B,reject:W}=fh(O,"Request expired"),j=Al(),_=cr("session_connect",T.id),C=cr("session_request",j),$=async({error:I,session:D})=>{this.events.off(C,P),I?W(I):D&&B({session:D})},P=async I=>{var D,F,k;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),I.error){const re=Mr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return I.error.code===re.code?void 0:(this.events.off(_,$),W(I.error.message))}await this.deleteProposal(T.id),this.events.off(_,$);const{cacaos:z,responder:V}=I.result,M=[],G=[];for(const re of z){await hD({cacao:re,projectId:this.client.core.projectId})||(this.client.logger.error(re,"Signature verification failed"),W(Mr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:le}=re,ne=Tb(le.resources),ae=[P_(le.iss)],me=l5(le.iss);if(ne){const ue=fD(ne),de=pD(ne);M.push(...ue),ae.push(...de)}for(const ue of ae)G.push(`${ue}:${me}`)}const Z=await this.client.core.crypto.generateSharedKey(A,V.publicKey);let K;M.length>0&&(K={topic:Z,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:$n(fp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:FD([...new Set(M)],[...new Set(G)]),transportType:o},await this.client.core.relayer.subscribe(Z,{transportType:o}),await this.client.session.set(Z,K),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:V.metadata}),K=this.client.session.get(Z)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(F=V.metadata.redirect)!=null&&F.linkMode&&(k=V.metadata.redirect)!=null&&k.universal&&n&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(Z,{transportType:jr.link_mode})),B({auths:z,session:K})};this.events.once(_,$),this.events.once(C,P);let S;try{if(s){const I=Tl("wc_sessionAuthenticate",N,j);this.client.core.history.set(b,I);const D=await this.client.core.crypto.encode("",I,{type:p2,encoding:nd});S=Ov(n,b,D)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:N,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:T,expiry:Zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(I){throw this.events.off(_,$),this.events.off(C,P),I}return await this.setProposal(T.id,T),await this.setAuthRequest(j,{request:ki(fr({},N),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:S??v,response:L}}),Ce(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[lh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(Rm.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Rm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||jr.relay;a===jr.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=Pb(l),h={type:Vc,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const w of i){if(!await hD({cacao:w,projectId:this.client.core.projectId})){s.setError(Rm.invalid_cacao);const E=Mr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:E,encodeOpts:h}),new Error(E.message)}s.addTrace(lh.cacaos_verified);const{p:y}=w,b=Tb(y.resources),v=[P_(y.iss)],A=l5(y.iss);if(b){const E=fD(b),O=pD(b);f.push(...E),v.push(...O)}for(const E of v)p.push(`${E}:${A}`)}const g=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(lh.create_authenticated_session_topic);let m;if((f==null?void 0:f.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:$n(fp),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:FD([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(lh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(w){throw s.setError(Rm.subscribe_authenticated_session_topic_failure),w}s.addTrace(lh.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(lh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(lh.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(Rm.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),Ce(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=Pb(o),c={type:Vc,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:l,error:i,encodeOpts:c,rpcOpts:Zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Ce(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return FX(n,i)}),Ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Ce(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Ce(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Mr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(NF).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Mr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=ml.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Ce(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Om.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Mr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Ce(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=ml.idle,this.client.events.emit("session_request_expire",{id:r}))}),Ce(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),Ce(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Ce(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,$n(Zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Ce(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=jr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Ce(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||$n(Zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),Ce(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=r,p=Tl(i,s,l);let g;const m=!!u;try{const b=m?nd:vs;g=await this.client.core.crypto.encode(n,p,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),b}let w;if(jHe.includes(i)){const b=Do(JSON.stringify(p)),v=Do(g);w=await this.client.core.verify.register({id:v,decryptedId:b})}const y=fr(fr({},Zn[i].req),f);if(y.attestation=w,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(n,p),m){const b=Ov(u,n,g);await global.Linking.openURL(b,this.client.name)}else y.tvf=ki(fr({},h),{correlationId:p.id}),c?(y.internal=ki(fr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,g,y)):this.client.core.relayer.publish(n,g,y).catch(b=>this.client.logger.error(b));return p.id}),Ce(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Tl("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:vs}),a=Do(JSON.stringify(s)),l=Do(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:ki(fr({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),Ce(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,l=ww(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:vs}),u=Tl("wc_sessionSettle",o,a==null?void 0:a.id),h=await this.client.core.crypto.encode(n,u,{encoding:vs});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:ki(fr({},a),{publishMethod:"wc_approveSession"})})}),Ce(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=r,c=ww(n,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?nd:vs;u=await this.client.core.crypto.encode(i,c,ki(fr({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let f,p;try{f=await this.client.core.history.get(i,n);const g=f.request;try{p=this.getTVFParams(n,g.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(h){const g=Ov(l,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=f.request.method,m=Zn[g].res;m.tvf=ki(fr({},p),{correlationId:n}),o?(m.internal=ki(fr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)}),Ce(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=r,c=I4(n,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const p=h?nd:vs;u=await this.client.core.crypto.encode(i,c,ki(fr({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),p}if(h){const p=Ov(l,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=a||Zn[p].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(c)}),Ce(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Vu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Vu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Ce(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Ce(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ml.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ml.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=ml.idle}),Ce(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),Ce(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Ce(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Re("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Ce(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ce(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c==null||c.setError(Cc.proposal_listener_not_found)),this.isValidConnect(fr({},i.params));const u=a.expiryTimestamp||$n(Zn.wc_sessionPropose.req.ttl),h=fr({id:l,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Do(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c==null||c.addTrace(xl.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:n,error:c,rpcOpts:Zn.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),Ce(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(kl(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Fo(n)){await this.deleteProposal(s);const o=cr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Ce(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n.params,p=[...this.pendingSessions.values()].find(w=>w.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(p.proposalId),m=ki(fr(fr(fr({topic:r,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:jr.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(cr("session_connect",p.proposalId),{session:m}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;kl(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(cr("session_approve",i),{})):Fo(n)&&(await this.client.session.delete(r,Mr("USER_DISCONNECTED")),this.events.emit(cr("session_approve",i),{error:n.error}))}),Ce(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Pm.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Mr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(fr({topic:r},i));try{Pm.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw Pm.delete(o),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Ce(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=cr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(cr("session_update",i),{}):Fo(n)&&this.events.emit(cr("session_update",i),{error:n.error})}),Ce(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,$n(fp)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ce(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=cr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(cr("session_extend",i),{}):Fo(n)&&this.events.emit(cr("session_extend",i),{error:n.error})}),Ce(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ce(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=cr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);kl(n)?this.events.emit(cr("session_ping",i),{}):Fo(n)&&this.events.emit(cr("session_ping",i),{error:n.error})},500)}),Ce(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(ln.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Mr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Ce(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=r,{id:h,params:f}=a;try{await this.isValidRequest(fr({topic:o},f));const p=this.client.session.get(o),g=await this.getVerifyContext({attestationId:l,hash:Do(JSON.stringify(Tl("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),m={id:h,topic:o,params:f,verifyContext:g};await this.setPendingSessionRequest(m),u===jr.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),Ce(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=cr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);kl(n)?this.events.emit(cr("session_request",i),{result:n.result}):Fo(n)&&this.events.emit(cr("session_request",i),{error:n.error})}),Ce(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Pm.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(fr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Pm.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Ce(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),kl(n)?this.events.emit(cr("session_request",i),{result:n.result}):Fo(n)&&this.events.emit(cr("session_request",i),{error:n.error})}),Ce(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=r;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Do(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===jr.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:Vc,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:Zn.wc_sessionAuthenticate.autoReject,appLink:f})}}),Ce(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Ce(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ml.idle,this.processSessionRequestQueue()},Ne.toMiliseconds(this.requestQueueDelay))}),Ce(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=cr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(cr("session_request",s.request.id),{error:n})})}),Ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ml.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Ce(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=ml.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Ce(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Tl("wc_sessionPropose",ki(fr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Ce(this,"isValidConnect",async r=>{if(!ps(r)){const{message:c}=Re("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=r;if(Tn(n)||await this.isValidPairingTopic(n),!SFe(l)){const{message:c}=Re("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!Tn(i)&&Gl(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!Tn(s)&&Gl(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Tn(o)||this.validateSessionProps(o,"sessionProperties"),!Tn(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),Ce(this,"validateNamespaces",(r,n)=>{const i=$Fe(r,"connect()",n);if(i)throw new Error(i.message)}),Ce(this,"isValidApprove",async r=>{if(!ps(r))throw new Error(Re("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),c=T9(i,"approve()");if(c)throw new Error(c.message);const u=UD(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!bn(s,!0)){const{message:h}=Re("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Tn(o)||this.validateSessionProps(o,"sessionProperties"),!Tn(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),Ce(this,"isValidReject",async r=>{if(!ps(r)){const{message:s}=Re("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!TFe(i)){const{message:s}=Re("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Ce(this,"isValidSessionSettleRequest",r=>{if(!ps(r)){const{message:c}=Re("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!gee(n)){const{message:c}=Re("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=xFe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=T9(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Vu(o)){const{message:c}=Re("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),Ce(this,"isValidUpdate",async r=>{if(!ps(r)){const{message:l}=Re("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=T9(i,"update()");if(o)throw new Error(o.message);const a=UD(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Ce(this,"isValidExtend",async r=>{if(!ps(r)){const{message:i}=Re("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Ce(this,"isValidRequest",async r=>{if(!ps(r)){const{message:l}=Re("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!BD(a,s)){const{message:l}=Re("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!PFe(i)){const{message:l}=Re("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!RFe(a,s,i.method)){const{message:l}=Re("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!FFe(o,L9)){const{message:l}=Re("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${L9.min} and ${L9.max}`);throw new Error(l)}}),Ce(this,"isValidRespond",async r=>{var n;if(!ps(r)){const{message:o}=Re("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!NFe(s)){const{message:o}=Re("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Ce(this,"isValidPing",async r=>{if(!ps(r)){const{message:i}=Re("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ce(this,"isValidEmit",async r=>{if(!ps(r)){const{message:a}=Re("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!BD(o,s)){const{message:a}=Re("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!OFe(i)){const{message:a}=Re("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!jFe(o,s,i.name)){const{message:a}=Re("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Ce(this,"isValidDisconnect",async r=>{if(!ps(r)){const{message:i}=Re("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ce(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!bn(i,!1))throw new Error("uri is required parameter");if(!bn(s,!1))throw new Error("domain is required parameter");if(!bn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>Wh(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Wh(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ce(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,l={verified:{verifyUrl:o.verifyUrl||U1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),Ce(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Re("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),Ce(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Ce(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Ce(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Re("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),Ce(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,l,c,u,h,f;return!r||n!==jr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ce(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),Ce(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=eD(r,"topic")||"",i=decodeURIComponent(eD(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:jr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Ce(this,"registerLinkModeListeners",async()=>{var r;if(uI()||Kd()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Ce(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const c=this.extractTxHashesFromResult(n.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),Ce(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Ce(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=OHe[s];if(s==="sui_signTransaction")return[aMe(n.transactionBytes)];if(s==="near_signTransaction")return[lD(n)];if(s==="near_signTransactions")return n.map(l=>lD(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[XFe({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Yo(n)?n.map(l=>cD(l)):[cD(n)];if(s==="cosmos_signDirect")return[cMe(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Yo(a))return s==="solana_signAllTransactions"?a.map(l=>oMe(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Re("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ln.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(jb)?this.client.auth.authKeys.get(jb):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===jr.link_mode?nd:vs});kI(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Do(n)})):T4(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(jo.expired,async e=>{const{topic:r,id:n}=CX(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Re("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Re("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(xh.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xh.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!bn(e,!1)){const{message:r}=Re("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Re("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Vu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Re("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!bn(e,!1)){const{message:r}=Re("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Re("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Vu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Re("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Re("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(bn(e,!1)){const{message:r}=Re("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Re("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!IFe(e)){const{message:r}=Re("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Re("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Vu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Re("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},GHe=class extends Bf{constructor(e,r){super(e,r,THe,$I),this.core=e,this.logger=r}},KHe=class extends Bf{constructor(e,r){super(e,r,PHe,$I),this.core=e,this.logger=r}},YHe=class extends Bf{constructor(e,r){super(e,r,RHe,$I,n=>n.id),this.core=e,this.logger=r}},ZHe=class extends Bf{constructor(e,r){super(e,r,FHe,N4,()=>jb),this.core=e,this.logger=r}},JHe=class extends Bf{constructor(e,r){super(e,r,LHe,N4),this.core=e,this.logger=r}},QHe=class extends Bf{constructor(e,r){super(e,r,BHe,N4,n=>n.id),this.core=e,this.logger=r}};var XHe=Object.defineProperty,eqe=(t,e,r)=>e in t?XHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B9=(t,e,r)=>eqe(t,typeof e!="symbol"?e+"":e,r);let tqe=class{constructor(e,r){this.core=e,this.logger=r,B9(this,"authKeys"),B9(this,"pairingTopics"),B9(this,"requests"),this.authKeys=new ZHe(this.core,this.logger),this.pairingTopics=new JHe(this.core,this.logger),this.requests=new QHe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var rqe=Object.defineProperty,nqe=(t,e,r)=>e in t?rqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kt=(t,e,r)=>nqe(t,typeof e!="symbol"?e+"":e,r);let iqe=class Gee extends SHe{constructor(e){super(e),Kt(this,"protocol",Hee),Kt(this,"version",qee),Kt(this,"name",F9.name),Kt(this,"metadata"),Kt(this,"core"),Kt(this,"logger"),Kt(this,"events",new Eo.EventEmitter),Kt(this,"engine"),Kt(this,"session"),Kt(this,"proposal"),Kt(this,"pendingRequest"),Kt(this,"auth"),Kt(this,"signConfig"),Kt(this,"on",(n,i)=>this.events.on(n,i)),Kt(this,"once",(n,i)=>this.events.once(n,i)),Kt(this,"off",(n,i)=>this.events.off(n,i)),Kt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Kt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Kt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Kt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Kt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||F9.name,this.metadata=QRe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:m2(S4({level:(e==null?void 0:e.logger)||F9.logger}));this.core=(e==null?void 0:e.core)||new AHe(e),this.logger=ls(r,this.name),this.session=new KHe(this.core,this.logger),this.proposal=new GHe(this.core,this.logger),this.pendingRequest=new YHe(this.core,this.logger),this.engine=new VHe(this),this.auth=new tqe(this.core,this.logger)}static async init(e){const r=new Gee(e);return await r.initialize(),r}get context(){return zs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var rA={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof bs<"u"&&bs,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof bs<"u"&&bs||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(C){return C&&DataView.prototype.isPrototypeOf(C)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(C){return C&&u.indexOf(Object.prototype.toString.call(C))>-1};function f(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function g(C){var $={next:function(){var P=C.shift();return{done:P===void 0,value:P}}};return l.iterable&&($[Symbol.iterator]=function(){return $}),$}function m(C){this.map={},C instanceof m?C.forEach(function($,P){this.append(P,$)},this):Array.isArray(C)?C.forEach(function($){if($.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+$.length);this.append($[0],$[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function($){this.append($,C[$])},this)}m.prototype.append=function(C,$){C=f(C),$=p($);var P=this.map[C];this.map[C]=P?P+", "+$:$},m.prototype.delete=function(C){delete this.map[f(C)]},m.prototype.get=function(C){return C=f(C),this.has(C)?this.map[C]:null},m.prototype.has=function(C){return this.map.hasOwnProperty(f(C))},m.prototype.set=function(C,$){this.map[f(C)]=p($)},m.prototype.forEach=function(C,$){for(var P in this.map)this.map.hasOwnProperty(P)&&C.call($,this.map[P],P,this)},m.prototype.keys=function(){var C=[];return this.forEach(function($,P){C.push(P)}),g(C)},m.prototype.values=function(){var C=[];return this.forEach(function($){C.push($)}),g(C)},m.prototype.entries=function(){var C=[];return this.forEach(function($,P){C.push([P,$])}),g(C)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(C){if(!C._noBody){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}}function y(C){return new Promise(function($,P){C.onload=function(){$(C.result)},C.onerror=function(){P(C.error)}})}function b(C){var $=new FileReader,P=y($);return $.readAsArrayBuffer(C),P}function v(C){var $=new FileReader,P=y($),S=/charset=([A-Za-z0-9_-]+)/.exec(C.type),I=S?S[1]:"utf-8";return $.readAsText(C,I),P}function A(C){for(var $=new Uint8Array(C),P=new Array($.length),S=0;S<$.length;S++)P[S]=String.fromCharCode($[S]);return P.join("")}function E(C){if(C.slice)return C.slice(0);var $=new Uint8Array(C.byteLength);return $.set(new Uint8Array(C)),$.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:l.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:l.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():l.arrayBuffer&&l.blob&&c(C)?(this._bodyArrayBuffer=E(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||h(C))?this._bodyArrayBuffer=E(C):this._bodyText=C=Object.prototype.toString.call(C):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var C=w(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=w(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var C=w(this);if(C)return C;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(C){var $=C.toUpperCase();return N.indexOf($)>-1?$:C}function T(C,$){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var P=$.body;if(C instanceof T){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,$.headers||(this.headers=new m(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!P&&C._bodyInit!=null&&(P=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new m($.headers)),this.method=R($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var S=/([?&])_=[^&]*/;if(S.test(this.url))this.url=this.url.replace(S,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function L(C){var $=new FormData;return C.trim().split("&").forEach(function(P){if(P){var S=P.split("="),I=S.shift().replace(/\+/g," "),D=S.join("=").replace(/\+/g," ");$.append(decodeURIComponent(I),decodeURIComponent(D))}}),$}function B(C){var $=new m,P=C.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function(S){return S.indexOf(`
`)===0?S.substr(1,S.length):S}).forEach(function(S){var I=S.split(":"),D=I.shift().trim();if(D){var F=I.join(":").trim();try{$.append(D,F)}catch(k){console.warn("Response "+k.message)}}}),$}O.call(T.prototype);function W(C,$){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if($||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new m($.headers),this.url=$.url||"",this._initBody(C)}O.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},W.error=function(){var C=new W(null,{status:200,statusText:""});return C.ok=!1,C.status=0,C.type="error",C};var j=[301,302,303,307,308];W.redirect=function(C,$){if(j.indexOf($)===-1)throw new RangeError("Invalid status code");return new W(null,{status:$,headers:{location:C}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function($,P){this.message=$,this.name=P;var S=Error($);this.stack=S.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function _(C,$){return new Promise(function(P,S){var I=new T(C,$);if(I.signal&&I.signal.aborted)return S(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function F(){D.abort()}D.onload=function(){var V={statusText:D.statusText,headers:B(D.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(D.status<200||D.status>599)?V.status=200:V.status=D.status,V.url="responseURL"in D?D.responseURL:V.headers.get("X-Request-URL");var M="response"in D?D.response:D.responseText;setTimeout(function(){P(new W(M,V))},0)},D.onerror=function(){setTimeout(function(){S(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){S(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){S(new o.DOMException("Aborted","AbortError"))},0)};function k(V){try{return V===""&&a.location.href?a.location.href:V}catch{return V}}if(D.open(I.method,k(I.url),!0),I.credentials==="include"?D.withCredentials=!0:I.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(l.blob?D.responseType="blob":l.arrayBuffer&&(D.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof m||a.Headers&&$.headers instanceof a.Headers)){var z=[];Object.getOwnPropertyNames($.headers).forEach(function(V){z.push(f(V)),D.setRequestHeader(V,p($.headers[V]))}),I.headers.forEach(function(V,M){z.indexOf(M)===-1&&D.setRequestHeader(M,V)})}else I.headers.forEach(function(V,M){D.setRequestHeader(M,V)});I.signal&&(I.signal.addEventListener("abort",F),D.onreadystatechange=function(){D.readyState===4&&I.signal.removeEventListener("abort",F)}),D.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return _.polyfill=!0,a.fetch||(a.fetch=_,a.Headers=m,a.Request=T,a.Response=W),o.Headers=m,o.Request=T,o.Response=W,o.fetch=_,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(rA,rA.exports);var sqe=rA.exports;const jF=mo(sqe);var oqe=Object.defineProperty,aqe=Object.defineProperties,lqe=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,cqe=Object.prototype.hasOwnProperty,uqe=Object.prototype.propertyIsEnumerable,DF=(t,e,r)=>e in t?oqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,FF=(t,e)=>{for(var r in e||(e={}))cqe.call(e,r)&&DF(t,r,e[r]);if(MF)for(var r of MF(e))uqe.call(e,r)&&DF(t,r,e[r]);return t},LF=(t,e)=>aqe(t,lqe(e));const dqe={Accept:"application/json","Content-Type":"application/json"},hqe="POST",BF={headers:dqe,method:hqe},UF=10;let sl=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Eo.EventEmitter,this.isAvailable=!1,this.registering=!1,!nF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=au(e),n=await(await jF(this.url,LF(FF({},BF),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!nF(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=au({id:1,jsonrpc:"2.0",method:"test",params:[]});await jF(e,LF(FF({},BF),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?mf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=I4(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Cee(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>UF&&this.events.setMaxListeners(UF)}};const zF="error",fqe="wss://relay.walletconnect.org",pqe="wc",gqe="universal_provider",Mv=`${pqe}@2:${gqe}:`,Kee="https://rpc.walletconnect.org/v1/",Yee="generic",mqe=`${Kee}bundler`,pa={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function SI(t){return t==null||typeof t!="object"&&typeof t!="function"}function Zee(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Jee(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const yqe="[object RegExp]",Qee="[object String]",Xee="[object Number]",ete="[object Boolean]",tte="[object Arguments]",wqe="[object Symbol]",vqe="[object Date]",bqe="[object Map]",xqe="[object Set]",Eqe="[object Array]",Cqe="[object ArrayBuffer]",_qe="[object Object]",Aqe="[object DataView]",kqe="[object Uint8Array]",$qe="[object Uint8ClampedArray]",Sqe="[object Uint16Array]",Iqe="[object Uint32Array]",Tqe="[object Int8Array]",Pqe="[object Int16Array]",Nqe="[object Int32Array]",Oqe="[object Float32Array]",Rqe="[object Float64Array]";function II(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jqe(t,e){return Xp(t,void 0,t,new Map,e)}function Xp(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(SI(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Xp(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,l]of t)o.set(a,Xp(l,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Xp(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(II(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Xp(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Eh(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Eh(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Eh(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Eh(o,t,r,n,i),o}if(typeof t=="object"&&Mqe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Eh(o,t,r,n,i),o}return t}function Eh(t,e,r=t,n,i){const s=[...Object.keys(e),...Zee(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=Xp(e[a],a,r,n,i))}}function Mqe(t){switch(Jee(t)){case tte:case Eqe:case Cqe:case Aqe:case ete:case vqe:case Oqe:case Rqe:case Tqe:case Pqe:case Nqe:case bqe:case Xee:case _qe:case yqe:case xqe:case Qee:case wqe:case kqe:case $qe:case Sqe:case Iqe:return!0;default:return!1}}function Dqe(t,e){return jqe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Xee:case Qee:case ete:{const o=new t.constructor(t==null?void 0:t.valueOf());return Eh(o,t),o}case tte:{const o={};return Eh(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function WF(t){return Dqe(t)}function HF(t){return t!==null&&typeof t=="object"&&Jee(t)==="[object Arguments]"}function qF(t){return typeof t=="object"&&t!==null}function Fqe(){}function Lqe(t){return II(t)}function Bqe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Uqe(t){if(SI(t))return t;if(Array.isArray(t)||II(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function zqe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=nA(i,o,n,new Map)}return i}function nA(t,e,r,n){if(SI(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Uqe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Zee(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(HF(a)&&(a={...a}),HF(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=WF(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=r(l,a,o,t,e,n);c!=null?t[o]=c:Array.isArray(a)||qF(l)&&qF(a)?t[o]=nA(l,a,r,n):l==null&&Bqe(a)?t[o]=nA({},a,r,n):l==null&&Lqe(a)?t[o]=WF(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function Wqe(t,...e){return zqe(t,...e,Fqe)}var Hqe=Object.defineProperty,qqe=Object.defineProperties,Vqe=Object.getOwnPropertyDescriptors,VF=Object.getOwnPropertySymbols,Gqe=Object.prototype.hasOwnProperty,Kqe=Object.prototype.propertyIsEnumerable,GF=(t,e,r)=>e in t?Hqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dv=(t,e)=>{for(var r in e||(e={}))Gqe.call(e,r)&&GF(t,r,e[r]);if(VF)for(var r of VF(e))Kqe.call(e,r)&&GF(t,r,e[r]);return t},Yqe=(t,e)=>qqe(t,Vqe(e));function po(t,e,r){var n;const i=Wh(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Kee}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Uf(t){return t.includes(":")?t.split(":")[1]:t}function rte(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Zqe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function KF(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((i=r==null?void 0:r.chains)==null?void 0:i.length)>0}))}function Fv(t={},e={}){const r=KF(YF(t)),n=KF(YF(e));return Wqe(r,n)}function YF(t){var e,r,n,i,s;const o={};if(!Gl(t))return o;for(const[a,l]of Object.entries(t)){const c=k4(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=Qp(a);o[p]=Yqe(Dv(Dv({},o[p]),l),{chains:Vl(c,(e=o[p])==null?void 0:e.chains),methods:Vl(u,(r=o[p])==null?void 0:r.methods),events:Vl(h,(n=o[p])==null?void 0:n.events)}),(Gl(f)||Gl(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=Dv(Dv({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function ZF(t){return t.includes(":")?t.split(":")[2]:t}function JF(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=k4(r)?[r]:n.chains?n.chains:rte(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function U9(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const nte={},ar=t=>nte[t],z9=(t,e)=>{nte[t]=e};var Jqe=Object.defineProperty,QF=Object.getOwnPropertySymbols,Qqe=Object.prototype.hasOwnProperty,Xqe=Object.prototype.propertyIsEnumerable,XF=(t,e,r)=>e in t?Jqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eL=(t,e)=>{for(var r in e||(e={}))Qqe.call(e,r)&&XF(t,r,e[r]);if(QF)for(var r of QF(e))Xqe.call(e,r)&&XF(t,r,e[r]);return t};const tL="eip155",eVe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],tVe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,W9=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,rL=t=>Object.keys(t).filter(e=>eVe.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),rVe=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Gl(i)&&!Gl(n))return;const o=rL(n);for(const a of r){const l=tVe(a);if(!l)continue;s[W9(l)]=o;const c=i==null?void 0:i[`${tL}:${l}`];if(c){const u=c==null?void 0:c[`${tL}:${l}:${e}`];s[W9(l)]=eL(eL({},s[W9(l)]),rL(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var nVe=Object.defineProperty,iVe=(t,e,r)=>e in t?nVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pp=(t,e,r)=>iVe(t,typeof e!="symbol"?e+"":e,r);class sVe{constructor(e){pp(this,"name","polkadot"),pp(this,"client"),pp(this,"httpProviders"),pp(this,"events"),pp(this,"namespace"),pp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Uf(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}}var oVe=Object.defineProperty,aVe=Object.defineProperties,lVe=Object.getOwnPropertyDescriptors,nL=Object.getOwnPropertySymbols,cVe=Object.prototype.hasOwnProperty,uVe=Object.prototype.propertyIsEnumerable,iA=(t,e,r)=>e in t?oVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iL=(t,e)=>{for(var r in e||(e={}))cVe.call(e,r)&&iA(t,r,e[r]);if(nL)for(var r of nL(e))uVe.call(e,r)&&iA(t,r,e[r]);return t},sL=(t,e)=>aVe(t,lVe(e)),gp=(t,e,r)=>iA(t,typeof e!="symbol"?e+"":e,r);class dVe{constructor(e){gp(this,"name","eip155"),gp(this,"client"),gp(this,"chainId"),gp(this,"namespace"),gp(this,"httpProviders"),gp(this,"events"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||po(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Uf(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c==null?void 0:c.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u==null?void 0:u[h];if(f)return f;let p;try{p=rVe(c,a,l)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(p)return p;const g=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:sL(iL({},c.sessionProperties||{}),{capabilities:sL(iL({},u||{}),{[h]:g})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return g}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Tl("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${mqe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var hVe=Object.defineProperty,fVe=(t,e,r)=>e in t?hVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mp=(t,e,r)=>fVe(t,typeof e!="symbol"?e+"":e,r);class pVe{constructor(e){mp(this,"name","solana"),mp(this,"client"),mp(this,"httpProviders"),mp(this,"events"),mp(this,"namespace"),mp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Uf(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}}var gVe=Object.defineProperty,mVe=(t,e,r)=>e in t?gVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yp=(t,e,r)=>mVe(t,typeof e!="symbol"?e+"":e,r);class yVe{constructor(e){yp(this,"name","cosmos"),yp(this,"client"),yp(this,"httpProviders"),yp(this,"events"),yp(this,"namespace"),yp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Uf(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}}var wVe=Object.defineProperty,vVe=(t,e,r)=>e in t?wVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wp=(t,e,r)=>vVe(t,typeof e!="symbol"?e+"":e,r);class bVe{constructor(e){wp(this,"name","algorand"),wp(this,"client"),wp(this,"httpProviders"),wp(this,"events"),wp(this,"namespace"),wp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||po(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new fa(new sl(n,ar("disableProviderPing")))}}var xVe=Object.defineProperty,EVe=(t,e,r)=>e in t?xVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vp=(t,e,r)=>EVe(t,typeof e!="symbol"?e+"":e,r);class CVe{constructor(e){vp(this,"name","cip34"),vp(this,"client"),vp(this,"httpProviders"),vp(this,"events"),vp(this,"namespace"),vp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Uf(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}}var _Ve=Object.defineProperty,AVe=(t,e,r)=>e in t?_Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bp=(t,e,r)=>AVe(t,typeof e!="symbol"?e+"":e,r);class kVe{constructor(e){bp(this,"name","elrond"),bp(this,"client"),bp(this,"httpProviders"),bp(this,"events"),bp(this,"namespace"),bp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Uf(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}}var $Ve=Object.defineProperty,SVe=(t,e,r)=>e in t?$Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xp=(t,e,r)=>SVe(t,typeof e!="symbol"?e+"":e,r);let IVe=class{constructor(e){xp(this,"name","multiversx"),xp(this,"client"),xp(this,"httpProviders"),xp(this,"events"),xp(this,"namespace"),xp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Uf(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}};var TVe=Object.defineProperty,PVe=(t,e,r)=>e in t?TVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ep=(t,e,r)=>PVe(t,typeof e!="symbol"?e+"":e,r);let NVe=class{constructor(e){Ep(this,"name","near"),Ep(this,"client"),Ep(this,"httpProviders"),Ep(this,"events"),Ep(this,"namespace"),Ep(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||po(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace);return typeof n>"u"?void 0:new fa(new sl(n,ar("disableProviderPing")))}};var OVe=Object.defineProperty,RVe=(t,e,r)=>e in t?OVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cp=(t,e,r)=>RVe(t,typeof e!="symbol"?e+"":e,r);let jVe=class{constructor(e){Cp(this,"name","tezos"),Cp(this,"client"),Cp(this,"httpProviders"),Cp(this,"events"),Cp(this,"namespace"),Cp(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||po(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace);return typeof n>"u"?void 0:new fa(new sl(n))}};var MVe=Object.defineProperty,DVe=(t,e,r)=>e in t?MVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_p=(t,e,r)=>DVe(t,typeof e!="symbol"?e+"":e,r);let FVe=class{constructor(e){_p(this,"name",Yee),_p(this,"client"),_p(this,"httpProviders"),_p(this,"events"),_p(this,"namespace"),_p(this,"chainId"),this.namespace=e.namespace,this.events=ar("events"),this.client=ar("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(pa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Wh(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=Wh(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||po(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fa(new sl(n,ar("disableProviderPing")))}};var LVe=Object.defineProperty,BVe=Object.defineProperties,UVe=Object.getOwnPropertyDescriptors,oL=Object.getOwnPropertySymbols,zVe=Object.prototype.hasOwnProperty,WVe=Object.prototype.propertyIsEnumerable,sA=(t,e,r)=>e in t?LVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lv=(t,e)=>{for(var r in e||(e={}))zVe.call(e,r)&&sA(t,r,e[r]);if(oL)for(var r of oL(e))WVe.call(e,r)&&sA(t,r,e[r]);return t},H9=(t,e)=>BVe(t,UVe(e)),Po=(t,e,r)=>sA(t,typeof e!="symbol"?e+"":e,r);let HVe=class ite{constructor(e){Po(this,"client"),Po(this,"namespaces"),Po(this,"optionalNamespaces"),Po(this,"sessionProperties"),Po(this,"scopedProperties"),Po(this,"events",new YS),Po(this,"rpcProviders",{}),Po(this,"session"),Po(this,"providerOpts"),Po(this,"logger"),Po(this,"uri"),Po(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:m2(S4({level:(e==null?void 0:e.logger)||zF})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new ite(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Lv({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,ww(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Mr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=JF(this.session.namespaces);this.namespaces=Fv(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=JF(i.namespaces);return this.namespaces=Fv(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Yo(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await iqe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||zF,relayUrl:this.providerOpts.relayUrl||fqe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Qp(r)))];z9("client",this.client),z9("events",this.events),z9("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Zqe(r,this.session);if((n==null?void 0:n.length)===0)return;const i=rte(n),s=Fv(this.namespaces,this.optionalNamespaces),o=H9(Lv({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new dVe({namespace:o});break;case"algorand":this.rpcProviders[r]=new bVe({namespace:o});break;case"solana":this.rpcProviders[r]=new pVe({namespace:o});break;case"cosmos":this.rpcProviders[r]=new yVe({namespace:o});break;case"polkadot":this.rpcProviders[r]=new sVe({namespace:o});break;case"cip34":this.rpcProviders[r]=new CVe({namespace:o});break;case"elrond":this.rpcProviders[r]=new kVe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new IVe({namespace:o});break;case"near":this.rpcProviders[r]=new NVe({namespace:o});break;case"tezos":this.rpcProviders[r]=new jVe({namespace:o});break;default:this.rpcProviders[r]=new FVe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Yo(o)&&this.events.emit("accountsChanged",o.map(ZF))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,l=Qp(o),c=U9(o)!==U9(a)?`${l}:${U9(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=H9(Lv({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",H9(Lv({},Mr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(pa.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Yee]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Fv(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Qp(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Qp(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${n}:`)).map(ZF);if(!Yo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Mv}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Mv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Mv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Mv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const qVe=HVe,VVe="wc",GVe="ethereum_provider",KVe=`${VVe}@2:${GVe}:`,YVe="https://rpc.walletconnect.org/v1/",oA=["eth_sendTransaction","personal_sign"],ste=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],aA=["chainChanged","accountsChanged"],ote=["chainChanged","accountsChanged","message","disconnect","connect"],ZVe=async()=>{const{createAppKit:t}=await Fl(()=>import("./core-BF8Ty917.js").then(e=>e.X),[]);return t};var JVe=Object.defineProperty,QVe=Object.defineProperties,XVe=Object.getOwnPropertyDescriptors,aL=Object.getOwnPropertySymbols,eGe=Object.prototype.hasOwnProperty,tGe=Object.prototype.propertyIsEnumerable,lA=(t,e,r)=>e in t?JVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ph=(t,e)=>{for(var r in e||(e={}))eGe.call(e,r)&&lA(t,r,e[r]);if(aL)for(var r of aL(e))tGe.call(e,r)&&lA(t,r,e[r]);return t},Dm=(t,e)=>QVe(t,XVe(e)),Vs=(t,e,r)=>lA(t,typeof e!="symbol"?e+"":e,r);function g5(t){return Number(t[0].split(":")[1])}function Bv(t){return`0x${t.toString(16)}`}function rGe(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Yo(e))throw new Error("Invalid chains");const l={chains:e,methods:n||oA,events:s||aA,rpcMap:ph({},e.length?{[g5(e)]:a[g5(e)]}:{})},c=s==null?void 0:s.filter(p=>!aA.includes(p)),u=n==null?void 0:n.filter(p=>!oA.includes(p));if(!r&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(c==null?void 0:c.length)&&(u==null?void 0:u.length)||!r,f={chains:[...new Set(h?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:ste))],events:[...new Set(l.events.concat(o!=null&&o.length?o:ote))],rpcMap:a};return{required:e.length?l:void 0,optional:r.length?f:void 0}}class TI{constructor(){Vs(this,"events",new Eo.EventEmitter),Vs(this,"namespace","eip155"),Vs(this,"accounts",[]),Vs(this,"signer"),Vs(this,"chainId",1),Vs(this,"modal"),Vs(this,"rpc"),Vs(this,"STORAGE_KEY",KVe),Vs(this,"on",(e,r)=>(this.events.on(e,r),this)),Vs(this,"once",(e,r)=>(this.events.once(e,r),this)),Vs(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),Vs(this,"off",(e,r)=>(this.events.off(e,r),this)),Vs(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new TI;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=rGe(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Dm(ph({namespaces:ph({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=YM(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Bv(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Dm(ph({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=YM(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Bv(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Bv(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Dm(ph({},Mr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Bv(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||oA:[],l=i.length?(e==null?void 0:e.events)||aA:[],c=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),f=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?g5(this.rpc.chains):g5(this.rpc.optionalChains),this.signer=await qVe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await ZVe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return fGe}),s=i(Dm(ph({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");r=n(Dm(ph({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&Yo(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&Yo(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${YVe}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const nGe=TI;var iGe=Object.defineProperty,sGe=Object.defineProperties,oGe=Object.getOwnPropertyDescriptors,lL=Object.getOwnPropertySymbols,aGe=Object.prototype.hasOwnProperty,lGe=Object.prototype.propertyIsEnumerable,cL=(t,e,r)=>e in t?iGe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ate=(t,e)=>{for(var r in e||(e={}))aGe.call(e,r)&&cL(t,r,e[r]);if(lL)for(var r of lL(e))lGe.call(e,r)&&cL(t,r,e[r]);return t},cGe=(t,e)=>sGe(t,oGe(e));function uGe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const dGe=t=>{const[e,r]=t.split(":");return lte({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function hGe(t){var e,r,n,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(dGe).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:uGe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:cGe(ate({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(g=>!f.includes(g.id));p.length&&(u.customWallets=p)}return u}function lte(t){return ate({formatters:void 0,fees:void 0,serializers:void 0},t)}var fGe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:hGe,defineChain:lte}),pGe=function(e,r){return Math.round(r*Math.log(e)/Math.LN2)},gGe=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],mGe=function(e){return function(r){return e.reduce(function(n,i){return n+(i.re.test(r)?i.length:0)},0)}},yGe=mGe(gGe),wGe=function(e){return e?pGe(yGe(e),e.length):0},vGe=wGe;const bGe=mo(vGe);function cte(t){return crypto.getRandomValues(new Uint8Array(t))}const xGe=256,W1=65536;function EGe(){const[t]=cte(1);return t}function CGe(){const[t,e]=cte(2);return(t<<8)+e}function _Ge(t){if(typeof t!="number"||t<2||t>W1)throw new Error(`Invalid number: number must be at least two and at most ${W1}`);const e=t>256,r=e?W1:xGe,n=e?CGe:EGe,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function AGe(t,e,r){if(typeof r!="number"||r>W1)throw new Error(`Invalid argument: end must be a number less than or equal to ${W1}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+_Ge(r-e);return n}function kGe(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return AGe(t,0,e.length).reduce((n,i,s)=>{const o=e[i];return n+(s===0?o:r+o)},"")}const $Ge=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),SGe=Object.freeze($Ge.filter(t=>!t.includes("-")));function IGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const TGe=x.forwardRef(IGe);function PGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const NGe=x.forwardRef(PGe);function OGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const O4=x.forwardRef(OGe);function RGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const R4=x.forwardRef(RGe);function jGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const PI=x.forwardRef(jGe);function MGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const DGe=x.forwardRef(MGe);function FGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const LGe=x.forwardRef(FGe);function BGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const UGe=x.forwardRef(BGe);function zGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const WGe=x.forwardRef(zGe);function HGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const qGe=x.forwardRef(HGe);function VGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Gg=x.forwardRef(VGe);function GGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const KGe=x.forwardRef(GGe);function YGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ZGe=x.forwardRef(YGe);function JGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ute=x.forwardRef(JGe);function QGe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const XGe=x.forwardRef(QGe);function eKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tKe=x.forwardRef(eKe);function rKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const nKe=x.forwardRef(rKe);function iKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const sKe=x.forwardRef(iKe);function oKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const aKe=x.forwardRef(oKe);function lKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const cKe=x.forwardRef(lKe);function uKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const dte=x.forwardRef(uKe);function dKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const hKe=x.forwardRef(dKe);function fKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const pKe=x.forwardRef(fKe);function gKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const hte=x.forwardRef(gKe);function mKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const yKe=x.forwardRef(mKe);function wKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const q9=x.forwardRef(wKe);function vKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const bKe=x.forwardRef(vKe);function xKe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const EKe=x.forwardRef(xKe);var v2={},CKe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},fte={},Co={};let NI;const _Ke=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Co.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Co.getSymbolTotalCodewords=function(e){return _Ke[e]};Co.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Co.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');NI=e};Co.isKanjiModeEnabled=function(){return typeof NI<"u"};Co.toSJIS=function(e){return NI(e)};var j4={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(j4);function pte(){this.buffer=[],this.length=0}pte.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var AKe=pte;function b2(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}b2.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};b2.prototype.get=function(t,e){return this.data[t*this.size+e]};b2.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};b2.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var kKe=b2,gte={};(function(t){const e=Co.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(gte);var mte={};const $Ke=Co.getSymbolSize,uL=7;mte.getPositions=function(e){const r=$Ke(e);return[[0,0],[r-uL,0],[0,r-uL]]};var yte={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(yte);var M4={};const dd=j4,Uv=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],zv=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];M4.getBlocksCount=function(e,r){switch(r){case dd.L:return Uv[(e-1)*4+0];case dd.M:return Uv[(e-1)*4+1];case dd.Q:return Uv[(e-1)*4+2];case dd.H:return Uv[(e-1)*4+3];default:return}};M4.getTotalCodewordsCount=function(e,r){switch(r){case dd.L:return zv[(e-1)*4+0];case dd.M:return zv[(e-1)*4+1];case dd.Q:return zv[(e-1)*4+2];case dd.H:return zv[(e-1)*4+3];default:return}};var wte={},D4={};const H1=new Uint8Array(512),m5=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)H1[r]=e,m5[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)H1[r]=H1[r-255]})();D4.log=function(e){if(e<1)throw new Error("log("+e+")");return m5[e]};D4.exp=function(e){return H1[e]};D4.mul=function(e,r){return e===0||r===0?0:H1[m5[e]+m5[r]]};(function(t){const e=D4;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(wte);const vte=wte;function OI(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}OI.prototype.initialize=function(e){this.degree=e,this.genPoly=vte.generateECPolynomial(this.degree)};OI.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=vte.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var SKe=OI,bte={},Yd={},RI={};RI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var lc={};const xte="[0-9]+",IKe="[A-Z $%*+\\-./:]+";let vw="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";vw=vw.replace(/u/g,"\\u");const TKe="(?:(?![A-Z0-9 $%*+\\-./:]|"+vw+`)(?:.|[\r
]))+`;lc.KANJI=new RegExp(vw,"g");lc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");lc.BYTE=new RegExp(TKe,"g");lc.NUMERIC=new RegExp(xte,"g");lc.ALPHANUMERIC=new RegExp(IKe,"g");const PKe=new RegExp("^"+vw+"$"),NKe=new RegExp("^"+xte+"$"),OKe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");lc.testKanji=function(e){return PKe.test(e)};lc.testNumeric=function(e){return NKe.test(e)};lc.testAlphanumeric=function(e){return OKe.test(e)};(function(t){const e=RI,r=lc;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Yd);(function(t){const e=Co,r=M4,n=j4,i=Yd,s=RI,o=7973,a=e.getBCHDigit(o);function l(f,p,g){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,g,f))return m}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let g=0;return f.forEach(function(m){const w=c(m.mode,p);g+=w+m.getBitsLength()}),g}function h(f,p){for(let g=1;g<=40;g++)if(u(f,g)<=t.getCapacity(g,p,i.MIXED))return g}t.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},t.getCapacity=function(p,g,m){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(p),y=r.getTotalCodewordsCount(p,g),b=(w-y)*8;if(m===i.MIXED)return b;const v=b-c(m,p);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(p,g){let m;const w=n.from(g,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,w);if(p.length===0)return 1;m=p[0]}else m=p;return l(m.mode,m.getLength(),w)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}})(bte);var Ete={};const cA=Co,Cte=1335,RKe=21522,dL=cA.getBCHDigit(Cte);Ete.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;cA.getBCHDigit(i)-dL>=0;)i^=Cte<<cA.getBCHDigit(i)-dL;return(n<<10|i)^RKe};var _te={};const jKe=Yd;function ag(t){this.mode=jKe.NUMERIC,this.data=t.toString()}ag.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ag.prototype.getLength=function(){return this.data.length};ag.prototype.getBitsLength=function(){return ag.getBitsLength(this.data.length)};ag.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var MKe=ag;const DKe=Yd,V9=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function lg(t){this.mode=DKe.ALPHANUMERIC,this.data=t}lg.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};lg.prototype.getLength=function(){return this.data.length};lg.prototype.getBitsLength=function(){return lg.getBitsLength(this.data.length)};lg.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=V9.indexOf(this.data[r])*45;n+=V9.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(V9.indexOf(this.data[r]),6)};var FKe=lg;const LKe=Yd;function cg(t){this.mode=LKe.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}cg.getBitsLength=function(e){return e*8};cg.prototype.getLength=function(){return this.data.length};cg.prototype.getBitsLength=function(){return cg.getBitsLength(this.data.length)};cg.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var BKe=cg;const UKe=Yd,zKe=Co;function ug(t){this.mode=UKe.KANJI,this.data=t}ug.getBitsLength=function(e){return e*13};ug.prototype.getLength=function(){return this.data.length};ug.prototype.getBitsLength=function(){return ug.getBitsLength(this.data.length)};ug.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=zKe.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var WKe=ug,Ate={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,u,h,f,p,g,m,w;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=r[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],g=h+p,m=o[u],w=typeof o[u]>"u",(w||m>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Ate);var HKe=Ate.exports;(function(t){const e=Yd,r=MKe,n=FKe,i=BKe,s=WKe,o=lc,a=Co,l=HKe;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,b,v){const A=[];let E;for(;(E=y.exec(v))!==null;)A.push({data:E[0],index:E.index,mode:b,length:E[0].length});return A}function h(y){const b=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let A,E;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,y),E=u(o.KANJI,e.KANJI,y)):(A=u(o.BYTE_KANJI,e.BYTE,y),E=[]),b.concat(v,A,E).sort(function(N,R){return N.index-R.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function f(y,b){switch(b){case e.NUMERIC:return r.getBitsLength(y);case e.ALPHANUMERIC:return n.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(b,v){const A=b.length-1>=0?b[b.length-1]:null;return A&&A.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(y){const b=[];for(let v=0;v<y.length;v++){const A=y[v];switch(A.mode){case e.NUMERIC:b.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:b.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:b.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:b.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return b}function m(y,b){const v={},A={start:{}};let E=["start"];for(let O=0;O<y.length;O++){const N=y[O],R=[];for(let T=0;T<N.length;T++){const L=N[T],B=""+O+T;R.push(B),v[B]={node:L,lastCount:0},A[B]={};for(let W=0;W<E.length;W++){const j=E[W];v[j]&&v[j].node.mode===L.mode?(A[j][B]=f(v[j].lastCount+L.length,L.mode)-f(v[j].lastCount,L.mode),v[j].lastCount+=L.length):(v[j]&&(v[j].lastCount=L.length),A[j][B]=f(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,b))}}E=R}for(let O=0;O<E.length;O++)A[E[O]].end=0;return{map:A,table:v}}function w(y,b){let v;const A=e.getBestModeForData(y);if(v=e.from(b,A),v!==e.BYTE&&v.bit<A.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(A));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new r(y);case e.ALPHANUMERIC:return new n(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(v,A){return typeof A=="string"?v.push(w(A,null)):A.data&&v.push(w(A.data,A.mode)),v},[])},t.fromString=function(b,v){const A=h(b,a.isKanjiModeEnabled()),E=g(A),O=m(E,v),N=l.find_path(O.map,"start","end"),R=[];for(let T=1;T<N.length-1;T++)R.push(O.table[N[T]].node);return t.fromArray(p(R))},t.rawSplit=function(b){return t.fromArray(h(b,a.isKanjiModeEnabled()))}})(_te);const F4=Co,G9=j4,qKe=AKe,VKe=kKe,GKe=gte,KKe=mte,uA=yte,dA=M4,YKe=SKe,y5=bte,ZKe=Ete,JKe=Yd,K9=_te;function QKe(t,e){const r=t.size,n=KKe.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function XKe(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function eYe(t,e){const r=GKe.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function tYe(t,e){const r=t.size,n=y5.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Y9(t,e,r){const n=t.size,i=ZKe.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function rYe(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function nYe(t,e,r){const n=new qKe;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),JKe.getCharCountIndicator(l.mode,t)),l.write(n)});const i=F4.getSymbolTotalCodewords(t),s=dA.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return iYe(n,t,e)}function iYe(t,e,r){const n=F4.getSymbolTotalCodewords(e),i=dA.getTotalCodewordsCount(e,r),s=n-i,o=dA.getBlocksCount(e,r),a=n%o,l=o-a,c=Math.floor(n/o),u=Math.floor(s/o),h=u+1,f=c-u,p=new YKe(f);let g=0;const m=new Array(o),w=new Array(o);let y=0;const b=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const R=N<l?u:h;m[N]=b.slice(g,g+R),w[N]=p.encode(m[N]),g+=R,y=Math.max(y,R)}const v=new Uint8Array(n);let A=0,E,O;for(E=0;E<y;E++)for(O=0;O<o;O++)E<m[O].length&&(v[A++]=m[O][E]);for(E=0;E<f;E++)for(O=0;O<o;O++)v[A++]=w[O][E];return v}function sYe(t,e,r,n){let i;if(Array.isArray(t))i=K9.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=K9.rawSplit(t);c=y5.getBestVersionForData(u,r)}i=K9.fromString(t,c||40)}else throw new Error("Invalid data");const s=y5.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=nYe(e,r,i),a=F4.getSymbolSize(e),l=new VKe(a);return QKe(l,e),XKe(l),eYe(l,e),Y9(l,r,0),e>=7&&tYe(l,e),rYe(l,o),isNaN(n)&&(n=uA.getBestMask(l,Y9.bind(null,l,r))),uA.applyMask(n,l),Y9(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}fte.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=G9.M,i,s;return typeof r<"u"&&(n=G9.from(r.errorCorrectionLevel,G9.M),i=y5.from(r.version),s=uA.from(r.maskPattern),r.toSJISFunc&&F4.setToSJISFunction(r.toSJISFunc)),sYe(e,i,n,s)};var kte={},jI={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let g=(f*c+p)*4,m=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const w=Math.floor((f-u)/l),y=Math.floor((p-u)/l);m=h[a[w*o+y]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(jI);(function(t){const e=jI;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),r(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(kte);var $te={};const oYe=jI;function hL(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Z9(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function aYe(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(n+=s?Z9("M",l+r,.5+c+r):Z9("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(n+=Z9("h",o),o=0)):i++}return n}$te.render=function(e,r,n){const i=oYe.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+hL(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+hL(i.color.dark,"stroke")+' d="'+aYe(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,f),f};const lYe=CKe,hA=fte,Ste=kte,cYe=$te;function MI(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!lYe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,c){try{const u=hA.create(r,n);l(t(u,e,n))}catch(u){c(u)}})}try{const l=hA.create(r,n);i(null,t(l,e,n))}catch(l){i(l)}}v2.create=hA.create;v2.toCanvas=MI.bind(null,Ste.render);v2.toDataURL=MI.bind(null,Ste.renderToDataURL);v2.toString=MI.bind(null,function(t,e,r){return cYe.render(t,r)});function uYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const bw=x.forwardRef(uYe);function dYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const hYe=x.forwardRef(dYe);function fYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const DI=x.forwardRef(fYe);function pYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const gYe=x.forwardRef(pYe);function mYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const yYe=x.forwardRef(mYe);function wYe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const vYe=x.forwardRef(wYe);function xw(t){return t?{"privy-ui":"t"}:void 0}class e0{async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new Q("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Gxe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new Q("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(Kxe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw zt(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new Q("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new Q("Email must be set when initialzing authentication.");let i=xw(n);try{return await this.api.post(Vxe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw zt(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}}class bYe extends e0{async link(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new Q("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Zxe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw zt(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}}class Ite{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function fA(){try{let t="privy:__session_storage__test",e=new Ite;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var it=typeof window<"u"&&window.localStorage?new Ite:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function Tte(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function fL(t,e){let r=Tte(e);if(r.universalLink)return FI(r.universalLink,t)}let J9="WALLETCONNECT_DEEPLINK_CHOICE";function Pte(t){return t.startsWith("http://")||t.startsWith("https://")}function Nte(t,e){if(Pte(t))return FI(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function FI(t,e){if(!Pte(t))return Nte(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function Ote(t,e){window.open(t,e,"noreferrer noopener")}class Xi{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class pL{get meta(){return this._meta}async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.channelToken)throw new Q("Auth flow must be initialized first");try{let e=await this.api.post(Uxe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new Q("No response from authentication");return e}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(zxe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw zt(e)}}async _startChannelOnce(){if(!this.api)throw new Q("Auth flow has no API instance");let e=await this.api.post(Bxe,{token:this.captchaToken});Sr&&!Kk&&e.connect_uri&&Ote(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new Q("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.channelToken)throw new Q("Auth flow must be initialized first");let e=await this.api.get(Wxe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Xi(this._startChannelOnce.bind(this)),this.pollForReady=new Xi(this._pollForReady.bind(this)),this._meta.disableSignup=r}}const pA="https://auth.privy.io",Br=1400,LI=2500,L4=4e3,xYe="2.25.0",c1="privy:token",gL="privy-token",Q9="privy:refresh_token",Mb="privy:pat",mL="privy:id_token",yL="privy-id-token",X9="privy-session",gA="privy:caid",Rte=t=>`privy:guest:${t}`,Wv=t=>`privy:cross-app:${t}`,w5="privy:state_code",Fm="privy:code_verifier",v5="privy:headless_oauth",q1="privy:oauth_disable_signup",eE=t=>`privy:wallet:${t}`,wL="privy:connectors",jte="privy:connections",B4=12e4,Mte=3e4,EYe="https://api.moonpay.com/v1",CYe="https://api.moonpay.com/v1",_Ye="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",AYe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function BI(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function Dte(){var e;if(!BI())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function mA(){var e;if(!BI())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function vL(t){return new Promise((e,r)=>{mA()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async n=>{try{let i=function(){var u,h;if(!BI())return;let c=window.chrome;return(h=(u=c==null?void 0:c.runtime)==null?void 0:u.lastError)==null?void 0:h.message}();if(i||!n){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(n),o=Dte();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){r(i)}}):r(Error("Chrome identity API not available"))})}function yA(t){return crypto.getRandomValues(new Uint8Array(t))}function U4(){return af(yA(36))}function UI(){return U4()}async function zI(t,e="S256"){if(e!="S256")return t;{let r=await async function(n){let i=new TextEncoder().encode(n);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return af(r)}}class Pp{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new Q("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new Q("User denied confirmation during OAuth flow");let e=function(){let r=it.get(Fm);if(!r)throw new Q("Authentication error.");return r}();try{let r=await this.api.post(UK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return it.del(Fm),it.del(v5),it.del(q1),r}catch(r){let n=zt(r);throw n.privyErrorCode?new Q(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new Q("Invalid code during oauth flow.",void 0,ee.OAUTH_USER_DENIED):new Q("Invalid code during OAuth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new Q("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new Q("User denied confirmation during OAuth flow");let e=it.get(Fm);if(!e)throw new Q("Authentication error.");try{let r=await this.api.post(zK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return it.del(Fm),r}catch(r){throw zt(r)}}async getAuthorizationUrl(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.provider)throw new Q("Provider must be set when initializing OAuth authentication.");let e=U4();it.put(Fm,e);let r=UI();it.put(w5,r);let n=await zI(e);this.meta.withPrivyUi||it.put(v5,!0),this.meta.disableSignup?it.put(q1,!0):it.del(q1);let i=xw(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=Dte();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(BK,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(a){throw zt(a)}}constructor(e){this.meta=e}}function Fte(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Lte=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Bte=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),Ute=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),kYe=({style:t})=>d.jsx(dte,{style:{color:"var(--privy-color-error)",...t}}),zte=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function Wte(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Hte(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function qte(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function Vte(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Gte(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Kte=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let bL={google:{name:"Google",component:zte},discord:{name:"Discord",component:Bte},github:{name:"Github",component:Ute},linkedin:{name:"LinkedIn",component:qte},twitter:{name:"Twitter",component:Kte},spotify:{name:"Spotify",component:Vte},instagram:{name:"Instagram",component:Wte},tiktok:{name:"Tiktok",component:Gte},line:{name:"LINE",component:Hte},apple:{name:"Apple",component:Lte}};const tE=t=>t in bL?bL[t]:{name:"Unknown",component:kYe};function $Ye(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!it.get(v5),popupFlow:window.opener!==null&&i,disableSignup:!!it.get(q1)}}function wA(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),it.del(w5),window.history.replaceState({},"",t)}class Ap{async initRegisterFlow(e){if(!this.api)throw new Q("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new Q("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new Q("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var r,n;let e=await Fl(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new Q("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Q("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(p8e,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new Q("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):zt(i)}}async authenticate(){var n,i,s;if(this.authenticateForRegistration)return this.register();let e=await Fl(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new Q("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Q("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=((n=this.meta.allowedCredentialsIds)==null?void 0:n.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(f8e,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new Q("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):zt(o)}}async link(){var r,n;let e=await Fl(()=>import("./index-Bjltdz_y.js"),[]);if(!this.api)throw new Q("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new Q("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(h8e,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new Q("Passkey request timed out or rejected by user.",void 0,ee.PASSKEY_NOT_ALLOWED):zt(i)}}async _initRegisterOnce(e){if(!this.api)throw new Q("Auth flow has no API instance");let r=xw(e);return await this.api.post(d8e,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new Q("Auth flow has no API instance");let r=xw(e);return await this.api.post(u8e,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new Q("Auth flow has no API instance");return await this.api.post(c8e,{})}_transformInitLinkOptionsToCamelCase(e){var r,n,i,s,o,a,l,c,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(h=>({type:h.type,alg:h.alg})),timeout:e.timeout,excludeCredentials:(r=e.exclude_credentials)==null?void 0:r.map(h=>({id:h.id,type:h.type,transports:h.transports})),authenticatorSelection:{authenticatorAttachment:(n=e.authenticator_selection)==null?void 0:n.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(c=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:c.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var r,n,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((r=e.allow_credentials)==null?void 0:r.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(n=e.extensions)==null?void 0:n.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Xi(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Xi(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Xi(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}}const vA=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class k0{get meta(){var e,r,n,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,chainId:(n=this.wallet)==null?void 0:n.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,r,n;if(!this.client)throw new Q("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,connectorType:(n=this.wallet)==null?void 0:n.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new Q("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw zt(i)}}async link(){if(!this.client)throw new Q("SiweFlow has no client instance");try{if(!this.wallet)throw new Q("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw zt(e)}}async sign(){if(!this.client)throw new Q("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new Q("Could not prepare SIWE message");if(!this.wallet)throw new Q("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new Q("SiweFlow has no client instance");if(!this.wallet)throw new Q("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new Q("SiweFlow has no client instance");if(!this.wallet)throw new Q("SiweFlow has no wallet instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=vA({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Xi(this._getNonceOnce.bind(this)),this.wallet=r,this.captchaToken=n,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const Ri=(...t)=>{if(typeof Buffer>"u")throw new Q("Buffer is not defined.",void 0,ee.BUFFER_NOT_DEFINED);return Buffer.from(...t)},SYe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class b5{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new Q("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw zt(e)}}async link(){if(!this.client)throw new Q("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw zt(e)}}async sign(){var i;let e,r;if(!this.client)throw new Q("SiwsFlow has no client instance");await this.buildMessage();let n=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new Q("Could not prepare SIWS message");if(!n&&!this.wallet.signMessage||n&&!this.wallet.signTransaction)throw new Q("Wallet does not support the necessary signing methods");if(n&&this._siwsTransactionMethods){let s=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=s.serialize().toString("base64"),r=Ri(((i=s.signatures[0])==null?void 0:i.signature)??Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,r=Ri(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:r}}async _getNonceOnce(){if(!this.client)throw new Q("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new Q("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=SYe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Xi(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}}class t0{async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new Q("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(t8e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new Q("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Xxe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw zt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new Q("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new Q("phone nNumber must be set when initialzing authentication.");let i=xw(n);try{return await this.api.post(Qxe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw zt(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}}class IYe extends t0{async link(){if(!this.api)throw new Q("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new Q("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(r8e,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw zt(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}const Yte=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Zte=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Yte(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!Zte(r))return!1}return!0},Jte=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},dg=(t,e,r,n)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new _r(`Unsupported chainId ${t}`,4901);return ru({transport:nu(cu(s,r,n.appId)),chain:s})},cu=(t,e,r)=>{var o,a,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let c=new URL(t.rpcUrls.privy.http[0]);c.searchParams.append("privyAppId",r),n=c.toString()}else n=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new _r(`No RPC url found for ${i}`);return n},Qte=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),si=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},rE=(t,e=3,r=4)=>si(t,e,r,"solana"),x5=t=>new Promise(e=>setTimeout(e,t)),bA=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let o=!1,a=0;for(;!o&&a<n;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(c=>{o=!0,i(c)},(...c)=>{o=!0,s(...c)}),a+=1,await x5(r)}o||s(Error("Exceeded max attempts before resolving function"))})},Xte=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(n);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},TYe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),xA=t=>typeof t=="string"?t:"0x"+t.toString(16);async function PYe({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map(h=>h.info));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(n!=="solana-only")for(let h of function(){var m;let f=window,p=f.ethereum;if(!p)return[];let g=[];if((m=p.providers)!=null&&m.length)for(let w of p.providers)w&&g.push(w);return g.push(f.ethereum),g}()){let f=Yte(h);if(!c.some(p=>p.info.name===f)){if(Zte(h,!0)&&!u.find(p=>p.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find(p=>p.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find(p=>{var g,m,w;return p.type==="coinbase_wallet"&&((w=(m=(g=r.coinbaseWallet)==null?void 0:g.config)==null?void 0:m.preference)==null?void 0:w.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find(p=>p.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function V1(t){return`eip155:${String(Number(t))}`}const NYe=(t,e,r,n)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new _r(`Unsupported chainId ${t}`,4901);return cu(s,r,n)},Db=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map(([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}}).filter(n=>n!==void 0);return{...t,types:{...t.types,EIP712Domain:r}}},ere=x.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:oe,setError:oe,setExecuting:oe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:oe,reset:oe,execute:oe});class z4 extends Li{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}}const OYe=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=x.useRef(null),[s,o]=x.useState(),[a,l]=x.useState(),[c,u]=x.useState(!1),h=x.useMemo(()=>n?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,s,a,c]);return d.jsx(ere.Provider,{value:{...h,ref:i,enabled:n,siteKey:r,appId:e,setToken:o,setError:l,setExecuting:u,remove(){var f;n&&((f=i.current)==null||f.remove(),u(!1),l(void 0),o(void 0))},reset(){var f;n&&((f=i.current)==null||f.reset(),u(!1),l(void 0),o(void 0))},execute(){var f;n&&(u(!0),(f=i.current)==null||f.execute())},async waitForResult(){if(!n)return"";try{return await function(f,{interval:p=100,timeout:g=5e3}={}){return new Promise((m,w)=>{let y,b=0,v=()=>{b>=g?w("Max attempts reached without result"):(y=f(),b+=p,y==null?setTimeout(v,p):m(y))};v()})}(()=>{var f;return(f=i.current)==null?void 0:f.getResponse()},{interval:200,timeout:2e4})}catch{throw new z4("Captcha failed",null,ee.CAPTCHA_TIMEOUT)}}},children:t})},Ws=()=>x.useContext(ere);class Lm{async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(g8e,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(m8e,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw zt(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}}function xL(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===ee.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===ee.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===ee.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof z4&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function EL(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function CL(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}class id{static parse(e){try{return new id(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return mC(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=mC(e)}}class WI extends id{static parse(e){try{return new WI(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let _L=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const ni=(t,e)=>{if(e!=null&&e.imported)return _L(e);let r=ea(t);if(!r)throw Error("Failed to find primary wallet");return _L(r)},RYe=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),tre="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",rre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class nre extends _r{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class ire extends _r{constructor(){super("User rejected connection"),this.type="wallet_error"}}const Zd=t=>t instanceof _r?t:t!=null&&t.code?new $i(t):new _r("Unknown connector error",t);class $0 extends Li{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}}class $i extends $0{constructor(e){var n,i,s;super(e.message,e.code,e.data);let r=Object.values(Ra).find(o=>o.eipCode===e.code);this.details=r||Ra.UNKNOWN_ERROR,e.code===-32002&&((n=e.message)!=null&&n.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Ra.E32002_CONNECTION_ALREADY_PENDING:this.details=Ra.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Ra.E32002_WALLET_LOCKED))}}const sd={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Ra};function Rc(t){return t.type==="ethereum"}function EA(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if((n==null?void 0:n.address)!==(i==null?void 0:i.address)||n&&i&&Rc(n)&&Rc(i)&&(n==null?void 0:n.chainId)!==(i==null?void 0:i.chainId)||(n==null?void 0:n.connectorType)!==(i==null?void 0:i.connectorType)||(n==null?void 0:n.connectedAt)!==(i==null?void 0:i.connectedAt)||(n==null?void 0:n.walletClientType)!==(i==null?void 0:i.walletClientType)||(n==null?void 0:n.isConnected)!==(i==null?void 0:i.isConnected)||(n==null?void 0:n.linked)!==(i==null?void 0:i.linked))return!1}return!0}class sre extends Tf{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const HI=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||B4;let kp,Bm;function Um(t){return t.chainType==="ethereum"}class zf extends sre{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find(o=>an(o.address)===an(e));return{type:"ethereum",address:an(e),chainId:r,meta:n,imported:i,switchChain:async o=>{var f,p,g,m;let a,l;if(!s)throw new _r("Wallet is not currently connected.");let c=(f=this.wallets.find(w=>an(w.address)===an(e)))==null?void 0:f.chainId;if(!c)throw new _r("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===V1(a))return;let u=this.chains.find(w=>w.id===l);if(!u)throw new _r(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(w){if(((y,b)=>{var v;switch(b){case"coinbase_wallet":case"base_account":return y.message.includes("addEthereumChain");case"rabby_wallet":return y.message.includes("Unrecognized chain ID");default:return y.code===4902||((v=y.message)==null?void 0:v.includes("4902"))}})(w,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await x5(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((p=u.rpcUrls.default)==null?void 0:p.http[0])??""],blockExplorerUrls:[((g=u.blockExplorers)==null?void 0:g.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((m=w.message)!=null&&m.includes("wallet_switchEthereumChain"))?new _r(`Rainbow does not support the chainId ${r}`):w}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new _r("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new _r("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await bA(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=an(i),o=[];if(this.walletClientType==="privy"){let l=it.get(eE(s));this.chains.find(c=>c.id===Number(l))||(it.del(eE(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await bA(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),r="0x1"}let a=V1(r);if(!o.find(l=>an(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(an(i),a,l,this.connectorType==="embedded_imported"))}EA(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((r,n)=>n.connectedAt-r.connectedAt).find(r=>e.find(n=>an(n)===an(r.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var r;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[cn(e),(r=this.wallets[0])==null?void 0:r.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=V1(s),this.walletClientType==="privy"&&it.put(eE(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await x5(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=HI(i,e),this.connected=!1,this.initialized=!1}}class Jd{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new _r(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(r=>{throw Zd(r)})}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new nre,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(n)},i)),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=n,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=r||B4,this._subscriptions=[]}}class jYe extends zf{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:rre,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new _r("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Zd(e)}}constructor(e,r,n,i,s){super("base_account",e,r,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Jd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[r.id].concat(e.map(o=>o.id))},kp?(this.proxyProvider.setWalletProvider(kp.getProvider()),this.setBaseAccountSdk(kp),console.log("Base Account SDK Initialized")):this.importPromise=Fl(()=>import("./index-BHIS2OrD.js"),[]).then(({createBaseAccountSDK:o})=>{kp=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(kp.getProvider()),this.setBaseAccountSdk(kp),console.log("Base Account SDK Initialized")}).catch(console.error)}}let MYe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class DYe extends zf{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:tre,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new _r("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Zd(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Bm=YR({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Bm.getProvider())}constructor(e,r,n,i){var s,o;if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Jd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[r.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Bm){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!MYe.includes(l)):[];a.length>0&&!a.every(l=>uG.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),Bm=YR(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Bm.getProvider())}}const ore=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class AL extends zf{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[xA((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:ore,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:o}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const FYe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class ba extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}class kL extends Tf{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ba(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await pr()||!this.address)throw new ba("Disconnected",4900);let{hash:n}=await est(r,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ba(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await pr()||!this.address)throw new ba("Disconnected",4900);let{signature:n}=await Xit(r,{address:this.address});return n}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new ba(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new ba(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.publicClient=dg(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1],{signature:i}=await Jit({message:r},{address:n});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await Qit(Db(n),{address:r});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:xA(this.chainId)};return await this.publicClient.estimateGas({account:r.from??this.address,...UY(r)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return xA(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(r=>FYe.includes(r))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let r=await pr();if(await tst({address:this.address}),!r||!this.address)throw new ba("Disconnected",4900);try{let n={method:e.method,params:e.params},i=this.walletAccount;return i&&Fn(i)?this.handleWalletApiRequest(n,i,r):(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(n){throw console.error(n),new ba("Disconnected",4900)}}}async handleWalletApiRequest(e,r,n){let i=this.privyClient;if(!i)throw new ba("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Ki(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:n,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:r.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new ba(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new ba(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=dg(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=HI(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}class qI extends zf{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:r,icon:n,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Jd(void 0,B4),this.id=e,this.name=r,this.icon=n,this.connectorType=i}}const VI=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),CA=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),are=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function nE(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var LYe=0;class lre extends zf{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new _r("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Zd(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new Jd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var ch="__private_"+LYe+++"__walletBranding";class iE extends zf{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return nE(this,ch)[ch]??{name:"Browser Extension",icon:VI,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new _r("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Zd(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,ch,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Jd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?nE(this,ch)[ch]={name:"MetaMask",icon:CA,id:"io.metamask"}:s==="phantom"&&(nE(this,ch)[ch]={name:"Phantom",icon:are,id:"phantom"})}}class BYe extends lre{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Sr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new _r("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Zd(e)}}}const UYe=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],GI=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:RP?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((n=(r=o==null?void 0:o.phantom)==null?void 0:r.ethereum)!=null&&n.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Hv({client:this.client,isSolana:e,connectOnly:r});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:RP?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Hv({client:this.client,isSolana:e,connectOnly:r});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((n=(r=window==null?void 0:window.backpack)==null?void 0:r.solana)!=null&&n.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=Hv({client:this.client,isSolana:e,connectOnly:r});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+Hv({client:this.client,isSolana:t,connectOnly:e}))}}});function cre({connectorType:t,walletClientType:e}){for(let r of UYe)if(t===r||e===r)return GI[r]}function Hv({client:t,isSolana:e,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",e?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",t),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}const Fb=()=>{let t=it.get(jte);return t&&Array.isArray(t)&&t.map(e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e)).every(Boolean)?t:[]};let zYe=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function WYe(t){return t.toLowerCase().split(" ").join("_")}class HYe extends sre{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,r){let n,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(n=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:r,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:vm(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:n??vm(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??vm(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??vm(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??vm(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(r=>this.adapter.publicKey&&r.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,r)=>r.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!zYe.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||Fb().some(({walletClientType:e})=>e==="phantom"))}constructor(e,r){super(WYe(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(n=>console.error("Error disconnecting",n))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(n){throw Zd(n)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=n=>{this.syncAccounts()},this.onError=n=>{this.syncAccounts()},this.onReadyStateChange=n=>{n!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=r,this.wallets=[]}}class KI extends HYe{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:r,icon:n}){super({name:r},!1),this.connectorType="null",this.proxyProvider=new Jd(void 0,B4),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=r,this.icon=n}}function qYe(t){return t.chainType==="solana"}function $L(t){return t.type==="solana"}const x2=jg(()=>({listings:[]})),VYe=x2.setState,sE=t=>{let e;try{e=new URL(t).hostname}catch{return}return x2.getState().listings.find(({homepage:r})=>{let n;try{n=new URL(r).hostname}catch{return!1}return e.includes(n)})},yu=t=>x2(({listings:e})=>e.find(({slug:r})=>E5(r)===E5(t)));function E5(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function GYe({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const yl={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let KYe=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),SL=t=>KYe.has(t),IL=(t,e,r)=>r.indexOf(t)===e;const _A=792703809,AA="11111111111111111111111111111111";function Kg(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function YYe(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function qv(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return Ge({...t.toHsl(),l:r})}function oE(t,e){let r=t.getLuminance(),n=e.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function ZYe({backgroundTheme:t,accentHex:e}){let r,n;t==="light"?r=!1:t==="dark"?r=!0:(r=.5>=Ge(t).getLuminance(),n=Ge(t).toHslString());let i=r?"dark":"light",s=r?zm:Vv,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=function(g,m){if(!g){let y=m?zm:Vv;return{accent:Ge(y.background.interactive),accentLight:Ge(y.background.interactive),accentHover:Ge(y.background["interactive-hover"]),accentDark:Ge(y.background["interactive-clicked"]),accentDarkest:Ge(y.background["interactive-disabled"])}}let w=Ge(g);return{accent:w,accentLight:qv(w,.15),accentHover:qv(w,.3),accentDark:qv(w,-.06),accentDarkest:qv(w,-.6)}}(e,r),h=function(g){let m=Ge(Vv.text.default),w=Ge(zm.text.default),y=oE(g,m),b=oE(g,w),v=g.toHsl();return v.h>=220&&v.h<=300&&b>=3?zm.text.default:y>b?Vv.text.default:zm.text.default}(o),f=Ge(h),p=oE(o,Ge(s.background.default))>=3;return{colorScheme:i,background:n||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const zm={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Vv={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function ure(t,e,r,n){var Z,K,re,le,ne,ae,me,ue,de,Je,ie,be,ve,se,ye,yt,ce,$e,De,Xe,Ke,kt,ht,rt,Ae,Se,he,He,nt,Ve,ot,Ie,dt,bt,wt,Le,Ar,qe,Ft,zi,er,Jt,U,H,Y,J,X,te,ge,fe,Be,vt,Ee,Me,at,Fe,xe,ft,Ct,jt,qt,Qt,Vt,dr,et,Zr,_t,hr;let i,s,o,a,l,c,u,h,f,p,g,m,w,y,b,v,A=r?console.warn:()=>{};e!=null&&e.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),c=e.loginMethods.includes("twitter"),u=e.loginMethods.includes("discord"),p=e.loginMethods.includes("spotify"),g=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),m=e.loginMethods.includes("linkedin"),y=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),v=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,c=t.twitter_oauth,u=t.discord_oauth,w=t.github_oauth,p=t.spotify_oauth,g=t.instagram_oauth,h=t.tiktok_oauth,f=t.line_oauth,m=t.linkedin_oauth,y=t.apple_oauth,b=t.farcaster_auth,v=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let E=[i,s].filter(Boolean),O=[l,c,u,w,p,g,h,f,m,y,b,v].filter(Boolean),N=[a].filter(Boolean),R=((Z=e==null?void 0:e.loginMethods)==null?void 0:Z.includes("passkey"))??!1,T=t.passkeys_for_signup_enabled??!1,L=[o&&(T||R)].filter(Boolean);if(E.length+O.length+N.length+L.length===0)throw Error("You must enable at least one login method");let B=((K=e==null?void 0:e.appearance)==null?void 0:K.showWalletLoginFirst)!==void 0?(re=e==null?void 0:e.appearance)==null?void 0:re.showWalletLoginFirst:t.show_wallet_login_first;B&&N.length===0?(A("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),B=!1):B||O.length+E.length!==0||(A("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),B=!0);let W=((ne=(le=e==null?void 0:e.externalWallets)==null?void 0:le.walletConnect)==null?void 0:ne.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&A("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let j=(({input:lt,overrides:$t})=>$t?$t.primary.concat($t.overflow??[]).filter(SL).filter(IL):lt?lt.filter(SL).filter(IL):yl.appearance.walletList)({input:(ae=e==null?void 0:e.appearance)==null?void 0:ae.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),_=(({input:lt})=>{if(!lt||!lt.primary[0])return;let $t=[lt.primary[0]],yr=[];for(let Pr of(lt.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),lt.primary.slice(1)))$t.includes(Pr)?console.warn(`Duplicated login method: ${Pr}`):$t.push(Pr);for(let Pr of lt.overflow??[])$t.includes(Pr)||yr.includes(Pr)?console.warn(`Duplicated login method: ${Pr}`):yr.push(Pr);return{primary:$t,overflow:yr}})({input:e==null?void 0:e.loginMethodsAndOrder}),C=((me=e==null?void 0:e.intl)==null?void 0:me.defaultCountry)??"US",{chains:$,defaultChain:P}=function({supportedChains:lt,defaultChainFromConfig:$t}){let yr;if(lt){if(lt.length===0)throw Error("`supportedChains` must contain at least one chain");yr=dG(lt)}else yr=[...Kw];let Pr=lt?yr[0]:ua,pi=$t??Pr;if(!yr.find(rh=>rh.id===pi.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:yr,defaultChain:pi}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),S=!!(e!=null&&e.defaultChain),I=((ue=e==null?void 0:e.customAuth)==null?void 0:ue.getCustomAccessToken)&&((de=e==null?void 0:e.customAuth)==null?void 0:de.enabled)!==!1,D=(Je=e==null?void 0:e.embeddedWallets)==null?void 0:Je.requireUserPasswordOnCreate,F=(ie=e==null?void 0:e.embeddedWallets)==null?void 0:ie.createOnLogin,k=I?"all-users":t.embedded_wallet_config.ethereum.create_on_login,z=t.embedded_wallet_config.solana.create_on_login,V={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e!=null&&e.solanaClusters)for(let lt of e.solanaClusters){let{name:$t,rpcUrl:yr,blockExplorerUrl:Pr}=lt;V[$t]={rpcUrl:yr??V[$t].rpcUrl,blockExplorerUrl:Pr??V[$t].blockExplorerUrl}}t.solana_wallet_auth&&!((ve=(be=e==null?void 0:e.externalWallets)==null?void 0:be.solana)!=null&&ve.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let M=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,G=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((se=e==null?void 0:e.appearance)==null?void 0:se.logo)??t.logo_url??void 0,landingHeader:((ye=e==null?void 0:e.appearance)==null?void 0:ye.landingHeader)??yl.appearance.landingHeader,loginMessage:typeof((yt=e==null?void 0:e.appearance)==null?void 0:yt.loginMessage)=="string"?(ce=e==null?void 0:e.appearance)==null?void 0:ce.loginMessage.slice(0,100):($e=e==null?void 0:e.appearance)==null?void 0:$e.loginMessage,footerLogo:(De=e==null?void 0:e.appearance)==null?void 0:De.footerLogo,palette:ZYe({backgroundTheme:((Xe=e==null?void 0:e.appearance)==null?void 0:Xe.theme)??yl.appearance.theme,accentHex:((Ke=e==null?void 0:e.appearance)==null?void 0:Ke.accentColor)??t.accent_color}),loginGroupPriority:B?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((kt=e==null?void 0:e.appearance)!=null&&kt.hideDirectWeb2Inputs),walletList:j,walletChainType:((ht=e==null?void 0:e.appearance)==null?void 0:ht.walletChainType)??(({evmWalletAuth:lt,solanaWalletAuth:$t})=>lt&&$t?"ethereum-and-solana":lt?"ethereum-only":$t?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:l,twitter:c,discord:u,github:w,spotify:p,instagram:g,tiktok:h,line:f,linkedin:m,apple:y,farcaster:b,telegram:v},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:_,legal:{termsAndConditionsUrl:((rt=e==null?void 0:e.legal)==null?void 0:rt.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((Ae=e==null?void 0:e.legal)==null?void 0:Ae.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??yl.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((Se=e==null?void 0:e.externalWallets)==null?void 0:Se.signatureRequestTimeouts)??{}},chains:$,solanaClusters:V,defaultChain:P,intl:{defaultCountry:C},shouldEnforceDefaultChainOnConnect:S,captchaEnabled:t.captcha_enabled??yl.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:((He=(he=e==null?void 0:e.externalWallets)==null?void 0:he.coinbaseWallet)==null?void 0:He.connectionOptions)??yl.externalWallets.coinbaseWallet.connectionOptions,...(ot=(Ve=(nt=e==null?void 0:e.externalWallets)==null?void 0:nt.coinbaseWallet)==null?void 0:Ve.config)==null?void 0:ot.preference},...(dt=(Ie=e==null?void 0:e.externalWallets)==null?void 0:Ie.coinbaseWallet)==null?void 0:dt.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(wt=(bt=e==null?void 0:e.externalWallets)==null?void 0:bt.baseAccount)==null?void 0:wt.config,preference:{...(qe=(Ar=(Le=e==null?void 0:e.externalWallets)==null?void 0:Le.baseAccount)==null?void 0:Ar.config)==null?void 0:qe.preference,telemetry:!1}}},walletConnect:{enabled:W,appKit:(zi=(Ft=e==null?void 0:e.externalWallets)==null?void 0:Ft.walletConnect)==null?void 0:zi.appKit},solana:{connectors:(Jt=(er=e==null?void 0:e.externalWallets)==null?void 0:er.solana)==null?void 0:Jt.connectors},disableAllExternalWallets:((U=e==null?void 0:e.externalWallets)==null?void 0:U.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:D??(!I&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:I?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((H=e==null?void 0:e.embeddedWallets)==null?void 0:H.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:F??((J=(Y=e==null?void 0:e.embeddedWallets)==null?void 0:Y.ethereum)==null?void 0:J.createOnLogin)??k},solana:{createOnLogin:((te=(X=e==null?void 0:e.embeddedWallets)==null?void 0:X.solana)==null?void 0:te.createOnLogin)??z},disableAutomaticMigration:((ge=e==null?void 0:e.embeddedWallets)==null?void 0:ge.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((fe=e==null?void 0:e.embeddedWallets)==null?void 0:fe.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((Be=e==null?void 0:e.embeddedWallets)==null?void 0:Be.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((Ee=(vt=e==null?void 0:e.embeddedWallets)==null?void 0:vt.transactionScanning)==null?void 0:Ee.enabled)??!1,domain:((at=(Me=e==null?void 0:e.embeddedWallets)==null?void 0:Me.transactionScanning)==null?void 0:at.domain)??n??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Fe=e==null?void 0:e.mfa)==null?void 0:Fe.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(xe=e==null?void 0:e.passkeys)==null?void 0:xe.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(ft=e==null?void 0:e.passkeys)==null?void 0:ft.shouldUnenrollMfaOnUnlink},customAuth:I?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:M,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((Ct=e==null?void 0:e._render)==null?void 0:Ct.standalone)??yl._render.standalone},fundingConfig:G,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??yl.fundingMethodConfig,moonpay:{...((jt=e==null?void 0:e.fundingMethodConfig)==null?void 0:jt.moonpay)??yl.fundingMethodConfig.moonpay,useSandbox:((qt=e==null?void 0:e.fundingMethodConfig)==null?void 0:qt.moonpay.useSandbox)??((Qt=e==null?void 0:e.fiatOnRamp)==null?void 0:Qt.useSandbox)??yl.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((dr=(Vt=e==null?void 0:e.solana)==null?void 0:Vt.rpcs)==null?void 0:dr["solana:mainnet"])??null,"solana:devnet":((Zr=(et=e==null?void 0:e.solana)==null?void 0:et.rpcs)==null?void 0:Zr["solana:devnet"])??null,"solana:testnet":((hr=(_t=e==null?void 0:e.solana)==null?void 0:_t.rpcs)==null?void 0:hr["solana:testnet"])??null}}}const dre={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},hre=ure(dre,void 0,!1);let YI=x.createContext({appConfig:hre,isServerConfigLoaded:!1});const JYe=({children:t,client:e,legacyClient:r,clientConfig:n})=>{let[i,s]=x.useState(null),o=x.useMemo(()=>ure(i??dre,n,!!i,typeof window<"u"?window.location.origin:void 0),[i,n]);return x.useEffect(()=>{if(!i)return;let a=function(u){var w,y;if(!u)return{};let{appearance:h,supportedChains:f,defaultChain:p,externalWallets:g,...m}=u;return{...m,...f?{supportedChains:f.map(b=>b.id)}:void 0,...p?{defaultChain:p.id}:void 0,...g?{walletConnect:g.walletConnect?{enabled:g.walletConnect.enabled}:void 0,coinbaseWallet:g.coinbaseWallet,solana:{connectors:(y=(w=g.solana)==null?void 0:w.connectors)==null?void 0:y.get().map(b=>b.walletClientType)}}:void 0}}(n),l=function(u,h=0){let f=3735928559^h,p=1103547991^h;for(let g,m=0;m<u.length;m++)f=Math.imul(f^(g=u.charCodeAt(m)),2654435761),p=Math.imul(p^g,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),4294967296*(2097151&(p=Math.imul(p^p>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)}(JSON.stringify(a)).toString(),c=`privy:sent:${i.id}:${l}`;localStorage.getItem(c)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(c,"t"))},[n,i]),x.useEffect(()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&r.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()},[]),d.jsx(YI.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},Xt=()=>{let{appConfig:t}=x.useContext(YI);return t},fre=()=>{let{isServerConfigLoaded:t}=x.useContext(YI);return t},pre=x.createContext({app:hre,currentScreen:null,lastScreen:null,navigate:oe,navigateBack:oe,resetNavigation:oe,setModalData:oe,onUserCloseViaDialogOrKeybindRef:void 0}),QYe=t=>{var a;let e=Xt(),r=t.authenticated,[n,i]=x.useState(t.initialScreen);x.useEffect(()=>{r||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[r]);let s=x.useRef(null);x.useEffect(()=>{t.open||(s.current=null)},[t.open]),x.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(l,c=!0)=>{t.setInitialScreen(l),c&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(pre.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&d.jsx(GYe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},je=()=>x.useContext(pre),XYe=({style:t,...e})=>{let{app:r}=je();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:(r==null?void 0:r.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},gre="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class S0 extends zf{async initialize(){var r,n,i,s,o,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((n=(r=this.walletProvider)==null?void 0:r.session)!=null&&n.peer.metadata.url&&(this.walletEntry=sE((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),(a=this.modal)==null||a.subscribeState(l=>{var c;l.open||(c=this.walletProvider)!=null&&c.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var r,n,i,s,o,a,l;let e=(i=(n=(r=this.walletProvider)==null?void 0:r.session)==null?void 0:n.peer.metadata.icons)==null?void 0:i[0];return{name:TYe(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:gre,id:((l=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(J9)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,r)=>{this.onQrModalClosed=()=>{r(new ire)},(async()=>{var s,o,a,l,c,u;let n="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(n=i[0]),!n||n==="")throw new _r("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=sE((c=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:c.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=HI(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(n=>{r(n?Zd(n):new _r("Unknown error during connection"))}).finally(()=>{var n;return(n=this.modal)==null?void 0:n.close()})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=NYe(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map(s=>s.id),i=await nGe.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:ote,optionalMethods:ste,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o,a;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(J9)}catch{}}(),!this.showPrivyQrModal){if(!this.modal)throw new _r("Unable to open connect modal");return(o=this.modal)==null?void 0:o.open({uri:s})}if(Sr&&this.walletEntry){let{redirect:l,href:c}=function(h,f){let p=Tte(f);if(p.deepLink)return Nte(p.deepLink,h);if(p.universalLink)return FI(p.universalLink,h);throw new Q(`Unsupported wallet ${f.id}`)}(s,this.walletEntry);Ote(l,"_self"),function({href:h,name:f}){try{localStorage.setItem(J9,JSON.stringify({href:h,name:f}))}catch{}}({href:c,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let u=fL(s,this.walletEntry);return this.redirectUri=l,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:l,universal:l})}if(this.redirectUri=void 0,this.walletEntry){let l=fL(s,this.walletEntry);this.fallbackUniversalRedirectUri=l==null?void 0:l.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a,l;(s=this.modal)==null||s.close(),(o=i.session)!=null&&o.peer.metadata.url&&(this.walletEntry=sE((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((l=this.walletEntry)==null?void 0:l.slug)||"unknown")}),i}async enableProvider(){var e,r;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((r=this.walletProvider)==null?void 0:r.enable())}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l,appKit:c}){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Jd(void 0,this.rpcTimeoutDuration),this.modal=c,l&&(this.walletEntry=(u=>x2.getState().listings.find(({slug:h})=>E5(h)===E5(u)))(l),this.walletClientType=l)}}class eZe extends Tf{get wallets(){let e=new Set,r=this.walletConnectors.flatMap(i=>i.wallets).sort((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0).filter(i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)}),n=r.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return n>=0&&r.unshift(r.splice(n,1)[0]),r}async initialize(e){var n,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),it.get(wL)&&(it.getKeys().forEach(o=>{o.startsWith("walletconnect")&&it.del(o)}),it.del(wL)),this.externalWalletConfig.disableAllExternalWallets))return;let r=PYe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:l,legacyInjectedProvider:c})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:c}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(GI)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new KI({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(n=this.externalWalletConfig.solana.connectors)==null||n.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await r,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(Um).find(n=>n.connectorType===e)??null:this.walletConnectors.filter(Um).find(n=>n.connectorType===e&&n.walletClientType===r)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(qYe).find(r=>r.walletClientType==="unknown"?r.walletBranding.id===e:r.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(r=>{let n=this.storedConnections.find(i=>i.address===r.address&&i.connectorType===r.connectorType&&(r.type==="solana"&&i.walletClientType==="unknown"&&r.walletClientType==="unknown"?r.meta.id===i.id:i.walletClientType===r.walletClientType));n&&(r.connectedAt=n.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:r,embeddedWallets:n,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=ni(r);for(let c of n){let u=this.findEmbeddedWalletConnectors().find(h=>h.walletIndex===c.walletIndex);if(u&&Um(u))u.proxyProvider.walletProxy=e;else{let h=new AL({provider:new kL({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&Um(s))s.proxyProvider.walletProxy=e;else{let o=new AL({provider:new kL({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=Fb(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.storedConnections=Fb(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:r,providers:n,walletConfig:i}){let s=this.findWalletConnector(e,r);if(s&&Um(s))return s instanceof S0&&s.resetConnection(r),s;let o=e!=="injected"?e==="coinbase_wallet"?new DYe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new jYe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new S0({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:r,appKit:this.appKit}):i?new qI({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:r==="metamask"&&(n!=null&&n.eip6963InjectedProvider)?new BYe(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,"metamask"):r==="metamask"&&(n!=null&&n.legacyInjectedProvider)?new iE(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"metamask"):r==="phantom"&&(n!=null&&n.legacyInjectedProvider)?new iE(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"phantom"):n!=null&&n.legacyInjectedProvider&&r==="unknown_browser_extension"?new iE(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider):n!=null&&n.eip6963InjectedProvider?new lre(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,r):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(r=>{console.debug("Failed to initialize connector",r)})}async activeWalletSign(e){let r=this.wallets,n=r.length>0?r[0]:null;return n&&Rc(n)?n.sign(e):null}setActiveWallet(e){this.activeWallet=an(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,r,n,i,s,o,a,l,c,u,h,f,p){super(),this.addSolanaWalletConnector=async g=>{let m=this.findSolanaWalletConnector(g.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let w=this.walletConnectors.indexOf(m);this.walletConnectors.splice(w,1)}this.addWalletConnector(g)}},this.getEthereumProvider=()=>{let g=this.wallets[0],m=this.walletConnectors.find(w=>w.wallets.find(y=>y.address===(g==null?void 0:g.address)));return g&&m?m.proxyProvider:new Jd},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.appKit=p,this.setBaseAccountSdk=h,this.storedConnections=Fb()}}let tZe=[FK,LK,WK];class rZe{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw zt(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw zt(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw zt(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=xYe,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=DK.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=tZe.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new $xe}})}}let nZe=/paymaster\.biconomy\.io\/api/i,iZe={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const sZe=(t,e)=>t&&nZe.test(t)?iZe:e&&e.policy_id?{policyId:e.policy_id}:void 0,oZe=t=>{var e,r,n,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(r=t.extensions)==null?void 0:r.app_id,credProps:(n=t.extensions)==null?void 0:n.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class mre{async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(E8e,{token:this.meta.token})}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(C8e,{token:this.meta.token})}catch(e){throw zt(e)}}constructor(e){this.meta={token:e}}}class aZe{getOrCreateGuestCredential(e){let r=Rte(e);if(fA()){if(it.get(r))return it.get(r);{let n=af(yA(32));return it.put(r,n),n}}return af(yA(32))}async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(_8e,{guest_credential:this.meta.guestCredential})}catch(e){throw zt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function aE(){return!(jle&&window.location.origin.startsWith("http://localhost"))}const TL=jg(()=>({identityToken:null}));var lE,PL=((lE={}).PRIVY="privy_access_token",lE.CUSTOMER="customer_access_token",lE);class lZe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(c1)}get privyAccessToken(){return this._getToken(Mb)}_getToken(e){try{let r=it.get(e);return typeof r=="string"?id.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=it.get(Q9);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=it.get(Wv(e));if(typeof r!="string")return null;{let n=new id(r);return n.isExpired()?(it.del(Wv(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=on.get(X9);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||r&&n}hasActiveAccessToken(e){let r=id.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?it.put(Wv(e),r):it.del(Wv(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Xn(n),isNewUser:i,oAuthTokens:o}}catch(r){throw console.warn("Error authenticating session"),Rr(r)}}_trackAuthenticateEvents(e,r){let n=function(i){return i instanceof e0?"email":i instanceof t0?"sms":i instanceof k0?"siwe":i instanceof aZe?"guest":i instanceof mre?"custom_auth":i instanceof Pp?i.meta.provider:null}(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:Xn(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),Rr(r)}}async _refresh(){if(!this.api)throw new Q("Session has no API instance");if(!this.client)throw new Q("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&r||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),n=await this.api.post(FK,r?{refresh_token:r}:{},{headers:i})}return this.handleTokenResponse(n),Xn(n.user)}catch(n){if(n instanceof to&&n.privyErrorCode===ee.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Rr(n)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(LK,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var r,n,i,s,o,a;if(typeof e=="string"){let l=it.get(c1);if(it.put(c1,e),!((r=this.client)!=null&&r.useServerCookies)){let c=(n=id.parse(e))==null?void 0:n.expiration;on.set(gL,e,{sameSite:"Strict",secure:aE(),expires:c?new Date(1e3*c):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else it.del(c1),on.remove(gL),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var r;typeof e=="string"?(it.put(Q9,e),(r=this.client)!=null&&r.useServerCookies||on.set(X9,"t",{sameSite:"Strict",secure:aE(),expires:30})):(it.del(Q9),on.remove("privy-refresh-token"),on.remove(X9))}storePrivyAccessToken(e){typeof e=="string"?it.put(Mb,e):it.del(Mb)}storeIdentityToken(e){var n,i;if(TL.setState({identityToken:e}),(n=this.client)==null?void 0:n.useServerCookies)return;it.put(mL,e);let r=(i=id.parse(e))==null?void 0:i.expiration;on.set(yL,e,{sameSite:"Strict",secure:aE(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){it.del(mL),TL.setState({identityToken:null}),on.remove(yL)}constructor(){this.authenticateOnce=new Xi(async e=>this._authenticate(e)),this.linkOnce=new Xi(async e=>this._link(e)),this.refreshOnce=new Xi(this._refresh.bind(this)),this.destroyOnce=new Xi(this._destroy.bind(this))}}let cE;var cZe=0,uE="__private_"+cZe+++"__getOrGenerateClientAnalyticsId";class uZe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h,appKit:f}){this.connectors||(this.connectors=new eZe(this.appId,e,r,n,i,s,o,a,l,c,h,u,f))}generateApi(){let e=new rZe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new Q("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new Q("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(r=>r.type==="cross_app").forEach(r=>{this.storeProviderAccessToken(r.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(v8e,{action:"verify"})}catch(e){throw zt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(b8e,{});return oZe(e.options)}catch(e){throw zt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(x8e,{});return Xn(e)}catch(e){throw Rr(e)}}async unlinkEmail(e){try{let r=await this.api.post(Yxe,{address:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async unlinkPhone(e){try{let r=await this.api.post(e8e,{phoneNumber:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(Oxe,{address:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(Fxe,{address:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(i8e,{provider:e,subject:r});return await this.getAuthenticatedUser()??Xn(n)}catch(n){throw Rr(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(Hxe,{fid:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async unlinkTelegram(e){try{let r=await this.api.post(y8e,{telegram_user_id:e});return await this.getAuthenticatedUser()??Xn(r)}catch(r){throw Rr(r)}}async revokeDelegatedWallet(){try{await this.api.post(S8e,{})}catch(e){throw Rr(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(WK,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(A8e,e)}catch(r){throw Rr(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(k8e,e)}catch(r){throw Rr(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${$8e}?partnerUserId=${e}`)}catch(r){throw Rr(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(PL.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(PL.PRIVY,e)}async _getToken(e,r){var n;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((n=WI.parse(this.session.getToken(e)))==null?void 0:n.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(r!=null&&r.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:sZe(i.paymaster_url,i.paymaster_context)}))}:{enabled:n.enabled}}catch(e){throw Rr(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(Ixe,{address:e,token:r})).nonce}catch(n){throw Rr(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(Txe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post(Pxe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n,smartWalletVersion:i}){try{let s=await this.api.post(Nxe,{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i});return Xn(s)}catch(s){throw Rr(s)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return Xn(o)}catch(o){throw Rr(o)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(jxe,{address:e,token:r})).nonce}catch(n){throw Rr(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(Mxe,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=Xn(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(n){case"email":c=Jxe,u={nonce:e,email:r};break;case"sms":c=n8e,u={nonce:e,phoneNumber:r};break;case"siwe":if(c=Rxe,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:r,...i};break;case"farcaster":c=qxe,u={nonce:e,farcaster_id:r,farcaster_embedded_address:a};break;case"telegram":c=w8e,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=Lxe,u={nonce:e,address:r,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=s8e,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??Xn(h)}catch(c){throw Rr(c)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){return await this.api.post(Dxe,{message:e,signature:r,walletClientType:n,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s});return Xn(o)}catch(o){throw Rr(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(I8e);return this.session.updateIdentityToken(e.identity_token),Xn(e.user)}catch(e){throw Rr(e)}}async scanTransaction(e){try{return await this.api.post(T8e,e)}catch(r){throw Rr(r)}}constructor({apiUrl:e=pA,appId:r,appClientId:n,timeout:i=2e4}){Object.defineProperty(this,uE,{value:dZe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==pA&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,uE)[uE](),cE||(cE=new lZe),this.session=cE,this.api=this.generateApi(),this.session.client=this}}function dZe(){if(typeof window>"u")return null;try{let e=it.get(gA);if(typeof e=="string"&&e.length>0)return e}catch{}let t=O3();try{return it.put(gA,t),t}catch{return t}}const hZe=({delayedExecution:t,...e})=>{let{enabled:r,siteKey:n,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=Ws(),[,c]=x.useMemo(()=>(n==null?void 0:n.split("t:"))||[],[n]);if(x.useEffect(()=>{var u;return(u=l.current)==null?void 0:u.remove},[]),!r)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(WY,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),o(u),a(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},fZe=t=>{let[e,r]=x.useState("auto");return x.useEffect(()=>{let n=new ResizeObserver(i=>{var s;r(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}},[t.current]),e},pZe={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},yre=x.createContext(void 0);let wre=()=>x.useContext(yre);function Yg(t,e){if(!e)return;let r=wre().current[t];return x.useEffect(()=>{var n;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(n=r[i])==null||n.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),r[s]=(i=r[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function _e(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function wu(){let t=wre();return(e,r,...n)=>_e(t,e,r,...n)}function gZe(t){Yg("configureMfa",t)}const jd=q.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),mZe=q.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),kA=q.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),vre=q(kA).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let yZe=jn(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const wZe=q.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Hr=q.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],yZe),Yl=q.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),hg=q.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),vZe=q.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),bZe=q.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function xZe(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let NL=q.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function ZI({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!t||!e);return r&&!n||!e&&!t?d.jsx(NL,{}):d.jsxs(NL,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Yt=({className:t})=>{let{appearance:e}=Xt();return d.jsx(fn,{className:t,children:e.footerLogo??d.jsx(EZe,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(xZe,{color:"currentColor",height:13,width:150})})})};let EZe=q.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const fn=q.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),bre=({success:t,fail:e})=>d.jsxs(CZe,{children:[d.jsx(OL,{children:d.jsx(JI,{className:t?"success":e?"fail":""})}),d.jsx(OL,{children:d.jsx(ia,{className:t?"success":e?"fail":""})})]});let OL=q.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),CZe=q.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const ia=q.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),JI=q(ia).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),Qd=t=>d.jsx(_Ze,{color:t.color||"var(--privy-color-foreground-3)"});let _Ze=q(ia).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const vf=({variant:t="primary",size:e="lg",children:r,success:n,...i})=>{switch(t){case"secondary":return d.jsx(rl,{size:e,...i,children:r});case"error":return d.jsx(rl,{$warn:!0,size:e,...i,children:r});case"muted":return d.jsx($Ze,{size:e,...i,children:r});default:return d.jsx(ur,{size:e,success:n,...i,children:r})}},W4=q.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),ur=({children:t,loading:e,disabled:r,success:n,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!r);return d.jsx(kZe,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:n,$size:i,onClick:h=>{c&&u?h.preventDefault():a==null||a(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Qd,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},C5=({children:t,loading:e,disabled:r,...n})=>d.jsx(AZe,{disabled:r,...n,children:e?d.jsx(Qd,{color:"var(--privy-color-foreground-accent)"}):t});let AZe=q(W4).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),kZe=q(W4).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&jn(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const rl=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(SZe,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Qd,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},$Ze=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(IZe,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o==null||o(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(Qd,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let SZe=q(W4).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&jn(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),IZe=q(W4).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&jn(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const H4=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>d.jsxs(TZe,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(Qd,{})})]});let TZe=q.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const PZe=({backFn:t})=>d.jsx("div",{children:d.jsx(QI,{onClick:t,children:d.jsx(X7e,{height:"16px",width:"16px",strokeWidth:2})})}),NZe=({infoFn:t})=>d.jsx("div",{children:d.jsx(RZe,{"aria-label":"info",onClick:t,children:d.jsx(x0,{height:"22px",width:"22px",strokeWidth:2})})}),OZe=t=>d.jsx("div",{children:d.jsx(QI,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(iCe,{height:"16px",width:"16px",strokeWidth:2})})}),Pt=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=Te(),a=Xt();return d.jsxs(jZe,{className:s,children:[d.jsxs(MZe,{children:[t&&d.jsx(PZe,{backFn:t}),e&&d.jsx(NZe,{infoFn:e})]}),n&&d.jsx(FZe,{id:"privy-dialog-title",children:n}),d.jsx(DZe,{children:!a.render.standalone&&i&&d.jsx(OZe,{onClose:r||(()=>o())})})]})};let QI=q.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),RZe=q(QI).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),jZe=q.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),MZe=q.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),DZe=q.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),FZe=q.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Wf=({size:t})=>d.jsx(LZe,{$size:t,children:d.jsxs(BZe,{children:[d.jsx(UZe,{}),d.jsx(zZe,{})]})});let LZe=q.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),BZe=q.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),UZe=q.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),zZe=q.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const WZe=q.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),HZe=q.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),qZe=q.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),VZe=q(Pt).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),GZe=q.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),KZe=q.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let YZe=q.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),ZZe=q.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),JZe=q.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),QZe=q.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),RL=q.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),XZe=q.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),eJe=q.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const gr=({children:t,...e})=>d.jsx(WZe,{children:d.jsx(HZe,{...e,children:t})});let tJe=q.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),rJe=q(Yt).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),nJe=q.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),iJe=({step:t})=>t?d.jsx(tJe,{children:d.jsx(nJe,{pct:Math.min(100,t.current/t.total*100)})}):null;gr.Header=({title:t,subtitle:e,icon:r,iconVariant:n,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(qZe,{...f,children:[d.jsx(VZe,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(r||n||t||e)&&d.jsxs(YZe,{children:[r||n?d.jsx(gr.Icon,{icon:r,variant:n,loadingStatus:i}):null,d.jsxs(ZZe,{children:[t&&d.jsx(JZe,{children:t}),e&&d.jsx(QZe,{children:e})]})]}),h&&d.jsx(iJe,{step:h})]}),gr.Body=Pe.forwardRef(({children:t,...e},r)=>d.jsx(GZe,{ref:r,...e,children:t})),gr.Body.displayName="Screen.Body",gr.Footer=({children:t,...e})=>d.jsx(KZe,{...e,children:t}),gr.Actions=({children:t,...e})=>d.jsx(sJe,{...e,children:t}),gr.HelpText=({children:t,...e})=>d.jsx(oJe,{...e,children:t}),gr.Watermark=()=>d.jsx(rJe,{}),gr.Icon=({icon:t,variant:e="subtle",loadingStatus:r})=>e==="logo"&&t?d.jsx(XZe,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:Pe.isValidElement(t)?{children:t}:{children:Pe.createElement(t)}):e==="loading"?t?d.jsx(eJe,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(bre,{success:r==null?void 0:r.success,fail:r==null?void 0:r.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Pe.isValidElement(t)?Pe.cloneElement(t,{style:{width:"38px",height:"38px"}}):Pe.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(RL,{$variant:e,children:d.jsx(Wf,{size:"64px"})}):d.jsx(RL,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Pe.isValidElement(t)?t:Pe.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let sJe=q.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),oJe=q.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Ht=({primaryCta:t,secondaryCta:e,helpText:r,watermark:n=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(vf,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(vf,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(gr,{id:s.id,className:s.className,children:[d.jsx(gr.Header,{...s}),i?d.jsx(gr.Body,{children:i}):null,r||o||n?d.jsxs(gr.Footer,{children:[r?d.jsx(gr.HelpText,{children:r}):null,o?d.jsx(gr.Actions,{children:o}):null,n?d.jsx(gr.Watermark,{}):null]}):null]})},XI=q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Es=q.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Ho=q.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),bf=q.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),q4=q.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Hh=q.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),qh=q.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Np=q.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),xre=q.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),dE=q.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),hE=q.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),fE=q.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),jL=q.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),pE=q.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),Ere=q.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),$A=q.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),qo=q.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),Cre=q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),_re=({handleClose:t,user:e,onSelect:r})=>d.jsxs(Ht,{title:"Verify your identity",subtitle:"Choose a verification method",icon:uf,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(xre,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Hr,{onClick:()=>r("totp"),children:[d.jsx(Yl,{children:d.jsx(J6,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Hr,{onClick:()=>r("sms"),children:[d.jsx(Yl,{children:d.jsx(Pd,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Hr,{onClick:()=>r("passkey"),children:[d.jsx(Yl,{children:d.jsx(IS,{})}),"Passkey"]},"passkey")]}),d.jsx(fn,{})]}),gE=({label:t,children:e,valueStyles:r})=>d.jsxs(aJe,{children:[d.jsx("div",{children:t}),d.jsx(lJe,{style:{...r},children:e})]});let aJe=q.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),lJe=q.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),cJe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),Are=t=>cJe.format(t);const kre=(t,e)=>{let r=Are(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},Vh=(t,e)=>{let r=Are(e*parseFloat(kf(t)));return r==="$0.00"?"<$0.01":r},Wa=(t,e,r=6,n=!1)=>`${$re(t,r,n)} ${e}`,$re=(t,e=6,r=!1)=>{let n=parseFloat(kf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${n==="0"?"<0.001":n}`},eT=t=>t.reduce((e,r)=>e+r,0n),uJe=(t,e)=>{let{chains:r}=Te(),n=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var c;let a=Number(s),l=o.find(u=>u.id===a);if(!l)throw new _r(`Unsupported chainId ${s}`,4901);return(c=l.blockExplorers)==null?void 0:c.default.url})(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i},dJe=1e9;function G1(t,e){let r=parseFloat(t.toString())/dJe,n=hJe.format(e*r);return n==="$0.00"?"<$0.01":n}let hJe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const fJe=(t,e=0)=>{let r=t[e],n=t[e+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(n<<24))<<32n)+BigInt(r+256*t[++e]+65536*t[++e]+16777216*t[++e])};function pJe(t,e=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(t[e+n])<<BigInt(8*n);return r}async function $p(t,e){try{return await t}catch{return e}}const u1="11111111111111111111111111111111",gJe=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],mJe=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function _d(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function Sre({amount:t,fee:e,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(t)*10**(n?6:9))),s=n?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?G1(i,r):void 0,totalPriceInUsd:r?G1(s,r):void 0,totalPriceInNativeCurrency:_d(s),feePriceInNativeCurrency:_d(e),feePriceInUsd:r?G1(e,r):void 0}}let yJe={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Na(t,e,r){let n=yJe[t];if(!n[r]){let i=await e.getSplTokenMetadata({mintAddress:r,cluster:t});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function Md(t){return"version"in t}function _5(t,e){let r=(Md(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}function ML(t,e,r){var n;return{signature:t,parsedTransaction:r??null,signedTransaction:e,fees:BigInt(((n=r==null?void 0:r.meta)==null?void 0:n.fee)||0)}}async function Ire(t,e){var n;let{value:r}=await e.simulateTransaction(t);if(r.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return r.err==null&&((n=r.logs)==null?void 0:n.every(i=>!/insufficient funds/gi.test(i)))}async function wJe({tx:t,connection:e,client:r,checkFunds:n}){var h,f,p,g;let i=Md(t)?t.message:t.compileMessage(),s=((h=i.staticAccountKeys[0])==null?void 0:h.toBase58())??"",o=await async function(m,w){return BigInt((Md(m)?(await w.getFeeForMessage(m.message)).value:await m.getEstimatedFee(w))??0)}(t,e),a=!n||await $p(Ire(t,e),!0),l={},c=[],u=await async function(m,w){return[...m.staticAccountKeys.map(y=>y),...(await Promise.all(m.addressTableLookups.map(async y=>w.getAddressLookupTable(y.accountKey).then(({value:b})=>b)))).map((y,b)=>{var v,A;return[...((v=m.addressTableLookups[b])==null?void 0:v.writableIndexes.map(E=>{let O=y==null?void 0:y.state.addresses[E];if(O)return{key:O,isWritable:!0,altIdx:b}}))??[],...((A=m.addressTableLookups[b])==null?void 0:A.readonlyIndexes.map(E=>{let O=y==null?void 0:y.state.addresses[E];if(O)return{key:O,isWritable:!1,altIdx:b}}))??[]]}).flat().filter(y=>!!y).sort((y,b)=>y.isWritable!==b.isWritable?y.isWritable?-1:1:y.altIdx-b.altIdx).map(({key:y})=>y)]}(i,e);for(let m of i.compiledInstructions){let w=((f=i.staticAccountKeys[m.programIdIndex])==null?void 0:f.toBase58())||"";if(w!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&w!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(w!==u1){if(w==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let y=await $p(function(b,v,A){let[E,O,N,R]=b.accountKeyIndexes.map(T=>v[T]);return{type:"ata-creation",program:A,payer:E==null?void 0:E.toBase58(),ata:O==null?void 0:O.toBase58(),owner:N==null?void 0:N.toBase58(),mint:R==null?void 0:R.toBase58()}}(m,u,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}if(c.push(y),y.ata&&y.owner&&y.mint){l[y.ata]={owner:y.owner,mint:y.mint};continue}}if(gJe.includes(w)){let y=await $p(xJe(m,u,e,r,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else if(mJe.includes(w)){let y=await $p(EJe(m,u,e,r,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else c.push({type:"unknown",program:w,discriminator:m.data[0]})}else{let y=await $p(bJe(m,u));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y)}else{let y=await $p(vJe(m,u,e,r,l,w));if(!y){c.push({type:"unknown",program:w,discriminator:m.data[0]});continue}c.push(y),y.type==="spl-transfer"&&(y.fromAta&&y.fromAccount&&y.token.address&&(l[p=y.fromAta]??(l[p]={owner:y.fromAccount,mint:y.token.address})),y.toAta&&y.toAccount&&y.token.address&&(l[g=y.toAta]??(l[g]={owner:y.toAccount,mint:y.token.address})))}}return{spender:s,fee:o,instructions:c,hasFunds:!!a}}function Yi(t,e=0){try{return pJe(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let r=Ri(t);try{return fJe(r)}catch{}try{return r.subarray(e).readBigInt64LE()}catch{}try{return r.readBigInt64LE(e)}catch{}return 0n}async function vJe(t,e,r,n,i,s){var l,c,u,h,f,p,g,m,w,y,b;let o=t.data[0],a=t.accountKeyIndexes.map(v=>e[v]);if(o===1){let[v,A,E]=a;return{type:"spl-init-account",program:s,account:v==null?void 0:v.toBase58(),mint:A==null?void 0:A.toBase58(),owner:E==null?void 0:E.toBase58()}}if(o===3){let v,A,[E,O,N]=a,R="",T=O?i[O.toBase58()]:void 0;if(T)v=T.owner,R=T.mint;else if(O){let j=await r.getParsedAccountInfo(O,"confirmed"),_=(l=j.value)==null?void 0:l.data;v=(u=(c=_==null?void 0:_.parsed)==null?void 0:c.info)==null?void 0:u.owner,R=((f=(h=_==null?void 0:_.parsed)==null?void 0:h.info)==null?void 0:f.mint)??"",A=(m=(g=(p=_==null?void 0:_.parsed)==null?void 0:p.info)==null?void 0:g.tokenAmount)==null?void 0:m.decimals}if(!R&&E){let j=await r.getParsedAccountInfo(E,"confirmed"),_=(w=j.value)==null?void 0:w.data;R=((b=(y=_==null?void 0:_.parsed)==null?void 0:y.info)==null?void 0:b.mint)??""}let L=Kg(r.rpcEndpoint),B=await Na(L,n,R),W=(B==null?void 0:B.symbol)??"";return A??(A=(B==null?void 0:B.decimals)??9),{type:"spl-transfer",program:s,fromAta:E==null?void 0:E.toBase58(),fromAccount:N==null?void 0:N.toBase58(),toAta:O==null?void 0:O.toBase58(),toAccount:v,value:Yi(t.data,1),token:{symbol:W,decimals:A,address:R}}}if(o===9){let[v,A,E]=a;return{type:"spl-close-account",program:s,source:v==null?void 0:v.toBase58(),destination:A==null?void 0:A.toBase58(),owner:E==null?void 0:E.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function bJe(t,e){let r=t.data[0],n=t.accountKeyIndexes.map(i=>e[i]);if(r===0){let[,i]=n;return{type:"create-account",program:u1,account:i==null?void 0:i.toBase58(),value:Yi(t.data,4),withSeed:!1}}if(r===2){let[i,s]=n;return{type:"sol-transfer",program:u1,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),token:{symbol:"SOL",decimals:9},value:Yi(t.data,4),withSeed:!1}}if(r===3){let[,i]=n,s=Yi(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:u1,account:i==null?void 0:i.toBase58(),withSeed:!0,value:s}}if(r===11){let[i,s]=n;return{type:"sol-transfer",program:u1,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),value:Yi(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function xJe(t,e,r,n,i){let s=t.accountKeyIndexes.map(l=>{var c;return(c=e[l])==null?void 0:c.toBase58()}),o=t.data[0],a=Kg(r.rpcEndpoint);if(o===143){let l=s[10],c=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:l,mintOut:c,tokenIn:l?await Na(a,n,l):void 0,tokenOut:c?await Na(a,n,c):void 0,amountIn:Yi(t.data,8),minimumAmountOut:Yi(t.data,16)}}if(o===55){let l=s[10],c=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:l,mintOut:c,tokenIn:l?await Na(a,n,l):void 0,tokenOut:c?await Na(a,n,c):void 0,maxAmountIn:Yi(t.data,8),amountOut:Yi(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function EJe(t,e,r,n,i){var l,c,u,h,f,p;let s=t.data[0],o=t.accountKeyIndexes.map(g=>e[g]),a=Kg(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let g=(l=o[5])==null?void 0:l.toBase58(),m=(c=o[6])==null?void 0:c.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Na(a,n,g):void 0,tokenOut:m?await Na(a,n,m):void 0,outAmount:Yi(t.data,t.data.length-1-2-8-8),quotedInAmount:Yi(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let g=(u=o[7])==null?void 0:u.toBase58(),m=(h=o[8])==null?void 0:h.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Na(a,n,g):void 0,tokenOut:m?await Na(a,n,m):void 0,outAmount:Yi(t.data,t.data.length-1-2-8-8),quotedInAmount:Yi(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let g=(f=o[7])==null?void 0:f.toBase58(),m=(p=o[8])==null?void 0:p.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:g,mintOut:m,tokenIn:g?await Na(a,n,g):void 0,tokenOut:m?await Na(a,n,m):void 0,inAmount:Yi(t.data,t.data.length-1-2-8-8),quotedOutAmount:Yi(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const CJe=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=eT(t),i=e?Vh(n,e):void 0,s=Wa(n,r);return d.jsx(tT,{children:i||s})},Tre=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=eT(t),i=e?Vh(n,e):void 0,s=Wa(n,r);return d.jsx(tT,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(_Je,{children:"USD"}),i==="<$0.01"?d.jsxs(Nre,{children:[d.jsx(Pre,{children:"<"}),"$0.01"]}):i]}):s})},DL=({quantities:t,tokenPrice:e,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=t.reduce((a,l)=>a+l,0n),s=e&&r==="SOL"&&n===9?G1(i,e):void 0,o=r==="SOL"&&n===9?_d(i):`${ai(i,n)} ${r}`;return d.jsx(tT,{children:s?d.jsx(d.Fragment,{children:s==="<$0.01"?d.jsxs(Nre,{children:[d.jsx(Pre,{children:"<"}),"$0.01"]}):s}):o})};let tT=q.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),_Je=q.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),Pre=q.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),Nre=q.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const Ore=q.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),rT=q.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),AJe=q.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),kJe=q(rT).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),E2=q(rT).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),V4=q.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),nT=q.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),$Je=q.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),ol=q.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),_o=q.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),SJe=q.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),IJe=({gas:t,tokenPrice:e,tokenSymbol:r})=>d.jsxs(V4,{style:{paddingBottom:"12px"},children:[d.jsxs(Rre,{children:[d.jsx(Mre,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(Tre,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:r})})]}),e&&d.jsx(jre,{children:`${Wa(BigInt(t),r)}`})]}),TJe=({value:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(V4,{children:[d.jsxs(Rre,{children:[d.jsx(Mre,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(Tre,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:r,tokenSymbol:n})})]}),r&&d.jsx(jre,{children:Wa(i,n)})]})};let Rre=q.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),jre=q.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),Mre=q.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const C2=x.createContext(void 0),G4=x.createContext(void 0),PJe=({defaultValue:t,children:e})=>{let[r,n]=x.useState(t||null);return d.jsx(C2.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:d.jsx(MJe,{children:e})})},NJe=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=x.useContext(C2),i=r===t;return d.jsx(G4.Provider,{value:{onToggle:()=>n(t),value:t},children:d.jsx(BJe,{isActive:i?"true":"false","data-open":String(i),children:e})})},OJe=({children:t})=>{let{activePanel:e}=x.useContext(C2),{onToggle:r,value:n}=x.useContext(G4),i=e===n;return d.jsxs(d.Fragment,{children:[d.jsxs(DJe,{onClick:r,"data-open":String(i),children:[d.jsx(LJe,{children:t}),d.jsx(zJe,{isactive:i?"true":"false",children:d.jsx(Q6,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(FJe,{})]})},RJe=({children:t})=>{let{activePanel:e}=x.useContext(C2),{value:r}=x.useContext(G4);return d.jsx(UJe,{"data-open":String(e===r),children:d.jsx(Dre,{children:t})})},jJe=({children:t})=>{let{activePanel:e}=x.useContext(C2),{value:r}=x.useContext(G4);return d.jsx(Dre,{children:typeof t=="function"?t({isActive:e===r}):t})};let MJe=q.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),DJe=q.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),FJe=q.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),LJe=q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),BJe=q.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),UJe=q.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),Dre=q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),zJe=q.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");const SA=({walletAddress:t,chainId:e=1,network:r,rpcEndpoint:n})=>d.jsx(WJe,{href:r==="ethereum"?uJe(e,t):YYe(t,Kg(n||"")),target:"_blank",children:si(t)});let WJe=q.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const Fre=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((r==null?void 0:r.value)||0);return d.jsx(PJe,{...Xt().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(NJe,{value:"details",children:[d.jsx(OJe,{children:d.jsxs(HJe,{children:[d.jsx("div",{children:(n==null?void 0:n.title)||"Details"}),d.jsx(qJe,{children:d.jsx(CJe,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(RJe,{children:[d.jsx(gE,{label:"From",children:d.jsx(SA,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),d.jsx(gE,{label:"To",children:d.jsx(SA,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&d.jsx(gE,{label:"Action",children:n.action}),s&&d.jsx(IJe,{value:r.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(jJe,{children:({isActive:l})=>d.jsx(TJe,{value:r.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let HJe=q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),qJe=q.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const Lre=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=Te(),[n,i]=x.useState(!0),[s,o]=x.useState(void 0),[a,l]=x.useState(void 0);return x.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let c=await r();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:n,solPriceError:s}};function Zg(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=Te(),[h,f]=x.useState(!0),[p,g]=x.useState(void 0),[m,w]=x.useState(void 0);return x.useEffect(()=>{a||(a=1);let y=V$(u).find(b=>b.id===Number(a));(async()=>{if(l){if(!y)return f(!1),void g(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let b=await c(y);b?w(b):g(Error(`Unable to fetch token price on chain id ${y.id}`))}catch(b){g(b)}finally{f(!1)}}else f(!1)})()},[a]),{tokenPrice:m,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=Lre({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const Bre=x.createContext(null);function al(){let t=x.useContext(Bre);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function A5(t,e,r,n){let i=UY(t),s=await(async()=>n?await n():await e.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...s,type:mEe[s.type]}}const IA=({pendingTransaction:t})=>{let{wallets:e}=al(),{walletProxy:r,rpcConfig:n,chains:i,appId:s,nativeTokenSymbolForChainId:o}=Te(),[a,l]=x.useState(null),[c,u]=x.useState(t),{tokenPrice:h}=Zg(c.chainId),f=o(t.chainId)||"ETH",p=x.useMemo(()=>e.find(g=>g.walletClientType==="privy"),[e]);return x.useEffect(()=>{(async function(){if(!r||!p)return c;let g=dg(c.chainId,i,n,{appId:s}),m=await A5(c,g,p.address);return l(cn(BigInt(m.gas??0))),m})().then(u).catch(console.error)},[r]),p?d.jsx(VJe,{children:d.jsx(Fre,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let VJe=q.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),iT=q.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const sT=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),Ure=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:o})=>{var l;let{pendingTransaction:a}=Te();return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:r},"header"),d.jsx(iT,{children:d.jsxs("div",{children:[d.jsx(bre,{success:o,fail:!!e}),d.jsx(e?Nf:sT,{style:{width:"38px",height:"38px"}})]})}),d.jsx(Es,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(q4,{children:[d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(uf,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(oCe,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(bf,{children:d.jsx(IA,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(Cre,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(ur,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&d.jsx($A,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),d.jsx(fn,{})]})};let GJe=Array(6).fill("");var Wm,KJe=((Wm=KJe||{})[Wm.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Wm[Wm.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Wm);function TA(t){return/^[0-9]{1}$/.test(t)}function FL(t){return t.length===6&&t.every(TA)}const k5=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=x.useState(GJe),[o,a]=x.useState(null),[l,c]=x.useState(null),u=async f=>{var N;f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let g=i.reduce((R,T)=>R+Number(TA(T)),0),m=p.split(""),w=!m.every(TA),y=m.length+g>6;if(w)return a("Passcode can only be numbers"),void c(1);if(y)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let b=Number((N=f.currentTarget.name)==null?void 0:N.charAt(4)),v=[...p||[""]].slice(0,6-b),A=[...i.slice(0,b),...v,...i.slice(b+v.length)];s(A);let E=Math.min(Math.max(b+v.length,0),5),O=document.querySelector(`input[name=pin-${E}]`);if(O==null||O.focus(),FL(A))try{await t(A.join(""));let R=document.querySelector(`input[name=pin-${E}]`);R==null||R.blur()}catch(R){c(1),a(R.message)}else try{await t(null)}catch(R){c(1),a(R.message)}},h=n?"success":!r&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(YJe,{children:[d.jsx("div",{children:i.map((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:g=>{g.key==="Backspace"&&(m=>{l===1&&(a(null),c(null));let w=[...i.slice(0,m),"",...i.slice(m+1)];if(s(w),m>0){let y=document.querySelector(`input[name=pin-${m-1}]`);y==null||y.focus()}FL(w)?t(w.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Sr?"one-time-code":"off",disabled:e},p))}),d.jsx("div",{children:d.jsx(ZJe,{$fail:!!r||!!o,children:r||o})})]})})};let YJe=q.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ZJe=q.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const zre=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:o}=je(),{pendingTransaction:a}=Te();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:n},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(Pd,{})}),d.jsx(Es,{children:"Enter verification code"}),d.jsxs(bf,{children:[d.jsx(k5,{success:e,disabled:r,onChange:s}),d.jsxs(Ho,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(IA,{pendingTransaction:a})]}),i&&d.jsx($A,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(rl,{onClick:n,children:"Cancel"}),d.jsx(fn,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:n},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(J6,{})}),d.jsx(Es,{children:"Enter verification code"}),d.jsxs(bf,{children:[d.jsx(k5,{success:e,disabled:r,onChange:s}),d.jsxs(Ho,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(IA,{pendingTransaction:a})]}),i&&d.jsx($A,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(rl,{onClick:n,children:"Cancel"}),d.jsx(fn,{})]});default:return null}},JJe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class qr extends Error{constructor(e,r){super(r),this.type=e}}function Jg(t){let e=t.type;return typeof e=="string"&&JJe.includes(e)}function Ew(t){return Jg(t)&&t.type==="wallet_not_on_device"}function oT(t){return!!Jg(t)&&t.type==="mfa_timeout"}function aT(t){return!!Jg(t)&&t.type==="missing_or_invalid_mfa"}function QJe(t){return!!Jg(t)&&t.type==="mfa_verification_max_attempts_reached"}function Wre(t){return!(!Jg(t)||!t.message.includes("code 429"))}function Hre(t){return!!function(e){let r=e.type;return typeof r=="string"&&r==="client_error"}(t)&&t.message==="MFA canceled"}const $5=t=>QJe(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:aT(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:oT(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),XJe={component:()=>{let{user:t}=Dt(),{data:e}=je(),[r,n]=x.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=x.useState(!1),[o,a]=x.useState(),[l,c]=x.useState();if(x.useEffect(()=>{n(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:g,verifySmsCode:m,sendSmsCode:w}=e.mfaVerify,y=async E=>{if(E!=="passkey")try{n(E),E==="sms"&&(n(E),await w()),E==="totp"&&n(E)}catch(O){console.error(O)}else try{n(E);let O=await f();if(!O)throw Error("something went wrong");a(O),await g(O),s(!0),c(void 0),h()}catch(O){c($5(O))}},b=async E=>{c(void 0);try{if(!E||!r)return;if(r==="passkey"){if(!o)throw Error("Missing passkey challenge");await g(o)}else r==="sms"?await m(E):r==="totp"&&await p(E);c(void 0),s(!0),h()}catch(O){throw $5(O).error}},v=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},A=x.useRef(!1);return x.useEffect(()=>{!A.current&&r&&(A.current=!0,y(r).finally(()=>{A.current=!1}))},[open]),t?r==="passkey"?d.jsx(Ure,{account:t.linkedAccounts.filter(E=>E.type==="passkey"&&E.enrolledInMfa).sort((E,O)=>O.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:v,onBack:()=>{n(void 0),c(void 0)},handleSubmit:()=>b(o).catch(c)}):r==="sms"||r==="totp"?d.jsx(zre,{selectedMethod:r,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:b,onClose:v,onBack:t.mfaMethods.length>1?()=>n(void 0):void 0}):d.jsx(_re,{user:t,onSelect:y,handleClose:v}):null}};function qre(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=x.useContext(Og);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}const LL=({onClose:t})=>{let{user:e}=Dt(),[r,n]=x.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=qre(),[a,l]=x.useState(!1),[c,u]=x.useState(null),[h,f]=x.useState();x.useEffect(()=>{n((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let p=x.useRef(!1);async function g(y){f(void 0);try{if(!y||!r)return;await o(r,y),l(!0),f(void 0),t()}catch(b){throw $5(b).error}}async function m(y){if(y!=="passkey")try{n(y),await i(y)}catch(b){console.error(b)}else try{n(y);let b=await i(y);if(!b)throw Error("something went wrong");u(b),await o(y,b),l(!0),f(void 0),t()}catch(b){f($5(b))}}x.useEffect(()=>{!p.current&&r&&(p.current=!0,m(r).finally(()=>{p.current=!1}))},[]);let w=()=>{n(null),f(void 0),s(),t()};return e?r==="passkey"?d.jsx(Ure,{account:e.linkedAccounts.filter(y=>y.type==="passkey"&&y.enrolledInMfa).sort((y,b)=>b.firstVerifiedAt.valueOf()-y.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:w,onBack:()=>{n(null),f(void 0)},handleSubmit:()=>g(c).catch(f)}):r?d.jsx(zre,{submitSuccess:a,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:g,selectedMethod:r,onClose:w,onBack:e.mfaMethods.length>1?()=>n(null):void 0}):d.jsx(_re,{user:e,onSelect:m,handleClose:w}):null},S5=jg(()=>({inProgressMfaFlow:void 0})),eQe=C7e([":root{","};"],t=>tQe(t.palette)),tQe=t=>jn(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,r])=>`${e}: ${r};`).join(`
`)),BL=q.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),rQe=({children:t,open:e,onClick:r,...n})=>d.jsx(UJ,{show:e,as:Pe.Fragment,children:d.jsxs(M$e,{onClose:r,...n,as:iQe,children:[d.jsx(lw,{as:Pe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(nQe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(sQe,{children:d.jsx(lw,{as:Pe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(zJ,{as:oQe,children:t})})})]})});let nQe=q.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),iQe=q.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),sQe=q.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const oQe=q.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),aQe=q.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let Vre=()=>{let{ready:t,isModalOpen:e}=Dt(),{headless:r}=Xt(),{currentScreen:n}=je(),{status:i,execute:s,reset:o,enabled:a}=Ws(),l=S5(h=>h.inProgressMfaFlow),c=()=>S5.setState({inProgressMfaFlow:void 0}),u=e&&n&&n.isCaptchaRequired&&!r&&i==="ready";return x.useEffect(()=>{u&&s()},[u]),x.useEffect(()=>{!e&&a&&o()},[e,a]),n&&!t&&n.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(Pt,{}),d.jsx(ol,{}),d.jsx(aQe,{children:d.jsx(ia,{})}),d.jsx(_o,{}),d.jsx(fn,{})]}):n||l!=="txn"?n?d.jsxs(d.Fragment,{children:[d.jsx(hg,{$if:!!l,children:d.jsx(n.component,{})}),l==="txn"&&d.jsx(LL,{onClose:c}),l==="auth"&&d.jsx(XJe.component,{})]}):null:d.jsx(LL,{onClose:c})},lQe=()=>{let t=x.useRef(null);return d.jsx(uQe,{style:{height:fZe(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(Vre,{})})})};const cQe=({open:t})=>{let e=Xt(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:i}=Te(),{onUserCloseViaDialogOrKeybindRef:s}=je();return{gracefulClosePrivyModal:x.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),n=S5(i=>i.inProgressMfaFlow);return gZe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||S5.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(BL,{children:d.jsx(Gre,{id:"privy-modal-content",children:d.jsx(Vre,{})})}):d.jsx(rQe,{open:!(!t&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:d.jsx(BL,{children:d.jsx(lQe,{})})})};let Gre=q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),uQe=q(Gre).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function dQe(t){let e=x.useRef(null),r=x.useRef();return x.useEffect(()=>{var n,i;(n=r.current)==null||n.remove(),r.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:l}=new URL(o);return a.async=!0,a.src=`${l}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(r.current)},[t]),d.jsx("div",{ref:e,hidden:!0})}const Rt=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=x.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return x.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),d.jsxs(hQe,r?{children:[d.jsx(pQe,{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:si(t)}),e&&d.jsx(rl,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(cw,{size:16})]}:{children:["Copy",d.jsx(X3,{size:16})]})})]}:{children:[d.jsx(fQe,{title:t,className:n,children:si(t)}),e&&d.jsx(rl,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(cw,{size:14})]}:{children:["Copy",d.jsx(X3,{size:14})]})})]})};let hQe=q.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),fQe=q.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),pQe=q.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const gQe=()=>{let{solanaWallets:t}=Te(),{ready:e,wallets:r}=al();return x.useEffect(()=>{if(e){let n=[...r,...t].map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));it.put(jte,n)}},[e,r,t]),null};async function No(t,e,r,n,i,s=!1){var c,u,h;let o=s,a=async f=>{var p;if(o&&e&&e.length>0){f===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(p=n.current)==null||p.reject(new qr("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise((m,w)=>{r.current={resolve:m,reject:w},setTimeout(()=>{var b;let y=new qr("mfa_timeout","Timed out waiting for MFA code");(b=n.current)==null||b.reject(y),w(y)},3e5)});return await t(g)}return await t()},l=null;for(let f=0;f<4;f++)try{l=await a(f),(c=n.current)==null||c.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(u=n.current)==null||u.resolve(void 0),p;o=!0}if(l===null){let f=new qr("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=n.current)==null||h.reject(f),f}return l}var UL;let mQe=(UL=0,()=>"id-"+UL++);function An(t){return t.error!==void 0}let gn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let r=this.callbacks[e];if(!r)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},mE=new Map,yQe=(t,e)=>typeof e=="bigint"?e.toString():e;function kn(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,yQe)}`)(t,e);if(t==="privy:wallet:create"){let a=mE.get(s);if(a)return a}let o=new Promise((a,l)=>{let c=mQe();gn.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},n)}).finally(()=>{mE.delete(s)});return mE.set(s,o),o}function wQe(t){let e=fre(),r=x.useRef(null),n=x.useRef(t.mfaMethods),i=wu(),[s,o]=x.useState(!1);return x.useEffect(()=>{n.current=t.mfaMethods},[t.mfaMethods]),x.useEffect(()=>{if(!s)return;let a=r.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&function(p){switch(p.event){case"privy:iframe:ready":let g=gn.dequeue(p.event,p.id);return An(p)?g.reject(new qr(p.error.type,p.error.message)):g.resolve(p.data);case"privy:user-signer:sign":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:add":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:set-recovery":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:connect":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:recover":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallets:rpc":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:wallet:create":let m=gn.dequeue(p.event,p.id);return An(p)?m.reject(new qr(p.error.type,p.error.message)):m.resolve(p.data);case"privy:wallets:import":let w=gn.dequeue(p.event,p.id);return An(p)?w.reject(new qr(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:verify":let y=gn.dequeue(p.event,p.id);return An(p)?y.reject(new qr(p.error.type,p.error.message)):y.resolve(p.data);case"privy:mfa:init-enrollment":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:submit-enrollment":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:unenroll":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:mfa:clear":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:auth:unlink-passkey":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:solana-wallet:create":let b=gn.dequeue(p.event,p.id);return An(p)?b.reject(new qr(p.error.type,p.error.message)):b.resolve(p.data);case"privy:farcaster:init-signer":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:farcaster:sign":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}case"privy:delegated-actions:consent":{let v=gn.dequeue(p.event,p.id);return An(p)?v.reject(new qr(p.error.type,p.error.message)):v.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}}(h.data)}let c={signWithUserSigner:h=>No(f=>kn("privy:user-signer:sign",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>No(f=>kn("privy:wallets:add",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>No(f=>kn("privy:wallets:set-recovery",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>No(f=>kn("privy:wallets:connect",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>No(f=>kn("privy:wallets:recover",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>No(f=>kn("privy:wallets:rpc",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>kn("privy:wallet:create",h,a,t.origin),importWallet:h=>kn("privy:wallets:import",h,a,t.origin),createSolana:h=>No(f=>kn("privy:solana-wallet:create",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>kn("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>No(f=>kn("privy:mfa:verify",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>No(f=>kn("privy:mfa:init-enrollment",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>No(f=>kn("privy:mfa:submit-enrollment",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>No(f=>kn("privy:mfa:unenroll",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>kn("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>No(f=>kn("privy:auth:unlink-passkey",{...h,...f},a,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>kn("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>kn("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return bA(()=>kn("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(c),(...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),u.abort()}},[s]),e?d.jsx("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:Xte(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function fg(t){return["ethereum","solana"].includes(t.chainType)}const vQe=({address:t,user:e})=>{let r=e.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t);if(!r)throw new Q("Address to delegate is not associated with current user.");if(!fg(r))throw new Q(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},bQe=({address:t,user:e})=>{let r=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!r)throw new Q("Address to delegate is not associated with current user.");let n=r.imported?r:ea(e);if(!n)throw new Q("Unable to determine root address for delegated address.");if(!fg(n))throw new Q(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}},zL=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),xQe=()=>{let t=Xt();x.useEffect(()=>{(async e=>{let r=new URL("v3/wallets","https://explorer-api.walletconnect.com");r.searchParams.append("projectId",e);let n=await fetch(r);return n.ok?Object.values((await n.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>VYe({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])};function Kre(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const WL="popup-privy-oauth",HL="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class EQe{async authenticate(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(UK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw zt(e)}}async link(){if(!this.api)throw new Q("Auth flow has no API instance");try{return await this.api.post(zK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw zt(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}}async function Yre({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===r);if(!n)throw new Q("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only,customAuthAuthorizeUrl:n.provider_app_custom_auth_authorize_url,customAuthTransactUrl:n.provider_app_custom_auth_transact_url}}const K4=()=>window.open(void 0,void 0,CQe({w:440,h:680}));let CQe=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};const Gv=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let o=t==null?void 0:t.linkedAccounts.find(h=>h.type==="cross_app"&&(h.embeddedWallets.some(f=>f.address===e)||h.smartWallets.some(f=>f.address===e)));if(!t||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new Q("Cannot request a signature with this wallet address");let a=r.getProviderAccessToken(o.providerApp.id),l=await Yre({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new Q("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=r.getProviderAccessToken(o.providerApp.id))}if(!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new Q("Transactions require a valid token");let c=K4();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new Q("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",_Qe(n)),c.location=u.href,new Promise((h,f)=>{let p=setTimeout(()=>{w(),f(new Q("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),g=setInterval(()=>{c.closed&&(w(),f(new Q("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=y=>{var b,v,A;y.data&&(((b=y.data.token)==null?void 0:b.action)==="set"&&((v=y.data.token)==null?void 0:v.value)!==void 0?r.storeProviderAccessToken(o.providerApp.id,y.data.token.value):((A=y.data.token)==null?void 0:A.action)==="clear"&&r.storeProviderAccessToken(o.providerApp.id,null),y.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&y.data.result&&(w(),h(y.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),y.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&y.data.error&&(w(),f(y.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:y.data.error,address:e}})))};window.addEventListener("message",m);let w=()=>{c.close(),clearInterval(g),clearTimeout(p),window.removeEventListener("message",m)}})};let _Qe=t=>JSON.stringify({content:{request:{request:PA(t,cn)}},timestamp:Date.now(),callbackUrl:window.origin});const PA=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(r=>PA(r,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,n])=>[r,PA(n,e)])):t,AQe=({title:t,description:e,children:r,...n})=>d.jsx(Zre,{...n,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,r]})}),go=({title:t,description:e,icon:r,children:n,...i})=>d.jsxs(kQe,{...i,children:[r||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,n]});let Zre=q.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),kQe=q(Zre).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const Jre=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),Qre=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function qL({url:t,popup:e,provider:r}){return e.location=t,new Promise((n,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(n(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function $Qe({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new Q("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new Q("User denied confirmation during OAuth flow");try{return(await t.post(l8e,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let o=zt(s);throw o.privyErrorCode?new Q(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new Q("Invalid code during oauth flow.",void 0,ee.OAUTH_USER_DENIED):new Q("Invalid code during OAuth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}async function VL({api:t,provider:e}){let r=U4(),n=UI(),i=await zI(r);try{return e==="icloud"?{url:(await t.post(a8e,{client_type:"web"})).url}:{url:(await t.post(o8e,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw zt(s)}}const lT=(t,{chainType:e,walletIndex:r}={})=>(t==null?void 0:t.linkedAccounts.filter(n=>!(n.type!=="wallet"||n.walletClientType!=="privy"||r!==void 0&&n.walletIndex!==r||e!==void 0&&n.chainType!==e)))??[],Xre=async({user:t,accessToken:e,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wC(i,{request:{chain_type:c}});else if(c==="ethereum"){let m=Pf(t);m&&await o({address:m.address}),await r.create({accessToken:e,solanaAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let m=Sl(t);m&&await o({address:m.address}),await r.createSolana({accessToken:e,ethereumAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await wC(i,{request:{chain_type:c}});else{let{entropyId:m,entropyIdVerifier:w}=ni(t);await o(),await r.addWallet({accessToken:e,entropyId:m,entropyIdVerifier:w,chainType:c,hdWalletIndex:l})}let p=await n(),g=lT(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:g}},cT=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:r,refreshSessionAndUser:n,privy:i,client:s}=Te(),o=Xt();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await n());let g=await s.getAccessToken();if(!p||!g||!t)throw Error("User must be authenticated before creating a Privy wallet");return await Xre({appConfig:o,user:p,refreshSessionAndUser:n,privy:i,accessToken:g,proxy:t,recoverEmbeddedWallet:e,setUser:r,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},SQe=({title:t,description:e,onClose:r})=>d.jsx(Ht,{title:t,subtitle:e,icon:o2,iconVariant:"success",watermark:!0,onBack:r}),uT={component:()=>{let{user:t}=Dt(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=Te(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=je(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=Sl(t)??Pf(t);t&&h?(n(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return x.useEffect(()=>{let h=setTimeout(u,LI);return()=>clearTimeout(h)},[]),o.current=u,d.jsx(SQe,{title:r?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:r?"You've successfully created an account.":"Your account is secured.",onClose:u})}},NA=q.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),IQe=q.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let GL={"google-drive":{name:"Google Drive",component:Qre},icloud:{name:"iCloud",component:Jre}};const ene={component:()=>{var L;let{logout:t}=Dt(),{navigate:e,setModalData:r,data:n}=je(),{closePrivyModal:i,createAnalyticsEvent:s}=Te(),{execute:o}=(()=>{let{client:B,walletProxy:W,refreshSessionAndUser:j}=Te(),{data:_}=je(),{user:C}=Dt(),$=wu(),{create:P}=cT();return{execute:async({provider:S,action:I,popup:D,shouldCreateEth:F,shouldCreateSol:k})=>{var G,Z;let z,V;if(!B)throw new Q("Missing client");function M(K){if(!K&&B)throw B.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:S}}),new Q("Recovery OAuth failed")}switch(S){case"google-drive":{let K,re,{url:le,codeVerifier:ne,stateCode:ae}=await VL({api:B.api,provider:S});M(le);try{let me=await qL({url:le,popup:D,provider:S});if(K=me.stateCode,re=me.authorizationCode,K!==ae)throw B.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:S,storedStateCode:ae??"",returnedStateCode:K??""}}),new Q("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED)}catch(me){throw B.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:me.toString(),provider:S}}),new Q("Recovery OAuth failed")}[z,V]=await Promise.all([B.getAccessToken(),$Qe({api:B.api,provider:S,codeVerifier:ne,stateCode:K,authorizationCode:re})]);break}case"icloud":{let{url:K}=await VL({api:B.api,provider:S});M(K);let{ckWebAuthToken:re}=await qL({url:K,popup:D,provider:S});V=re,z=await B.getAccessToken()}}if(!W)throw new Q("Cannot connect to wallet proxy");if(!z)throw new Q("Unable to authorize user");switch(I){case"recover":{let K=(G=_==null?void 0:_.recoverWallet)==null?void 0:G.entropyId,re=(Z=_==null?void 0:_.recoverWallet)==null?void 0:Z.entropyIdVerifier;if(!K||!re)throw new Q("Recovery OAuth failed");B.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:K,recoveryMethod:S}}),await W.recover({accessToken:z,entropyId:K,entropyIdVerifier:re,recoveryAccessToken:V}),B.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:K,recoveryMethod:S}});break}case"create-wallet":{let K;if(B.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),F&&k)K=await P({recoveryMethod:S,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:C}),K=await P({chainType:"solana",walletIndex:0,latestUser:K.user});else if(k)K=await P({recoveryMethod:S,recoveryAccessToken:V,chainType:"solana",walletIndex:0,latestUser:C});else{if(!F)throw Error("Invalid args to create wallet");K=await P({recoveryMethod:S,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:C})}if(!K)throw $("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");B.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:K.account.address}}),$("createWallet","onSuccess",{wallet:K.account});break}case"set-recovery":{let K=ea(C);if(!K)throw $("setWalletRecovery","onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");B.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:S}});let{entropyId:re,entropyIdVerifier:le}=ni(C);await W.setRecovery({accessToken:z,entropyId:re,entropyIdVerifier:le,recoveryMethod:S,recoveryAccessToken:V});let ne=ea(await j());if(!ne)throw $("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");B.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:K.address,existingRecoveryMethod:K.recoveryMethod,targetRecoveryMethod:S}}),$("setWalletRecovery","onSuccess",{method:S,wallet:ne});break}default:throw new Q("Unsupported recovery action")}}}})(),[a,l]=x.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=n==null?void 0:n.recoveryOAuthStatus,[g,m]=x.useState(void 0),[w,y]=x.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let b=GL[c].name,v=GL[c].component,A=(L=n==null?void 0:n.recoverWallet)==null?void 0:L.onCompleteNavigateTo,E=new Xi(async(B="create-wallet")=>(y(!0),new Promise((W,j)=>{setTimeout(async()=>{try{let _=window.open();await o({provider:c,action:B,popup:_,shouldCreateEth:f,shouldCreateSol:p}),l(!0),W()}catch{m({message:`${B==="recover"?"Recovery":"Back up"} with ${b} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${b} account associated with your backup.`:"",retryable:!0}),j()}},0)})));x.useEffect(()=>{u!=="recover"&&E.execute(h?"create-wallet":"set-recovery")},[]),x.useEffect(()=>{if(!a)return;let B=setTimeout(()=>{h?(r({createWallet:{onSuccess:()=>{},onFailure:W=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:W,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(uT)):i({shouldCallAuthOnSuccess:!1})},Br);return()=>clearTimeout(B)},[a]);let O=x.useCallback(async()=>{await E.execute("recover"),A?e(A):l(!0)},[]),N=c==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${N}.`||g&&g.message||`${u==="recover"?"Recovering":"Backing up"} with ${N}...`,T=g?g.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{}),w?d.jsx(d.Fragment,{children:d.jsxs(NA,{children:[d.jsx(go,{title:R,icon:d.jsx(v,{style:{width:"38px",height:"38px"}}),description:T}),g&&(g!=null&&g.retryable)?d.jsx(ur,{onClick:()=>{wA(),m(void 0),u==="create-wallet"?E.execute("create-wallet"):O()},disabled:!a&&!(g!=null&&g.retryable),children:"Try again"}):null]})}):d.jsxs(NA,{children:[d.jsx(go,{title:"Confirm it's really you",icon:d.jsx(v,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${N} where your account is backed up.`}),d.jsxs(ur,{onClick:O,children:["Confirm with ",N]})]}),d.jsx(Yt,{})]})}};let yE=q.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),TQe={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},PQe=({onClose:t})=>d.jsxs(IQe,{children:[d.jsx(go,{title:"Why do I need to secure my account?",icon:d.jsx(x0,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(ur,{onClick:t,children:"Select backup method"})]});const OA={component:()=>{let[t,e]=x.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=je(),{user:l}=Dt(),{embeddedWallets:c}=Xt(),{closePrivyModal:u}=Te(),h=ea(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:g,shouldCreateEth:m,shouldCreateSol:w}=o.recoverySelection,y=h&&h.recoveryMethod!=="privy",b=y?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:TQe[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function v(E){s({recoveryOAuthStatus:{provider:E,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:m,shouldCreateSol:w}}),r(ene)}function A(){var E,O;(E=o==null?void 0:o.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((O=o==null?void 0:o.setWalletPassword)==null?void 0:O.callAuthOnSuccessOnClose)??!1})}return a.current=A,d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:A,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?d.jsx(PQe,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(go,{title:y?"Update backup method":"Secure your account",icon:d.jsx(hte,{width:48}),description:b}),d.jsx(NA,{children:c.userOwnedRecoveryOptions.filter(E=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||E!==(h==null?void 0:h.recoveryMethod)).sort().map(E=>{switch(E){case"google-drive":return d.jsxs(Hr,{onClick:()=>v("google-drive"),children:[d.jsx(yE,{children:d.jsx(Qre,{style:{width:18}})}),"Back up to Google Drive"]},E);case"icloud":return d.jsxs(Hr,{onClick:()=>v("icloud"),children:[d.jsx(yE,{children:d.jsx(Jre,{style:{width:24}})}),"Back up to Apple iCloud"]},E);case"user-passcode":return d.jsxs(Hr,{onClick:()=>{r(Gne({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx(yE,{children:d.jsx(bKe,{style:{width:18}})}),g?"Reset your":"Set a"," password"]},E);default:return null}})})]}),d.jsx(Yt,{})]})}};let NQe=jn(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const tne=q.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],NQe,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),Y4=q.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),Z4=q(ur).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&jn(["&&{transition:none;}"]));let rne=jn(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const dT=q.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],rne),OQe=q.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],rne),J4=q.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),Q4=q.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),hT=q.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),RA=q.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),KL=q(vf).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),X4=q.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),RQe=q(UGe).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),ex=q(aKe).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),tx=q(cKe).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),jQe=q.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),MQe=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,o]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),h=r===c;return x.useEffect(()=>{c&&!a&&l(!0)},[c]),d.jsxs(d.Fragment,{children:[d.jsx(Pt,{closeable:!1,backFn:i}),d.jsx(ol,{}),d.jsxs(Y4,{children:[d.jsxs(Q4,{children:[d.jsx(Nf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(J4,{children:[d.jsx(dT,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(X4,{style:{right:"0.75rem"},children:s?d.jsx(ex,{onClick:()=>o(!1)}):d.jsx(tx,{onClick:()=>o(!0)})})]}),d.jsx(tne,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(Z4,{onClick:n,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(_o,{}),d.jsx(Yt,{})]})},nne=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>d.jsx("label",{children:d.jsxs(DQe,{className:t,children:[d.jsx(sne,{checked:e,...n}),d.jsx(FQe,{color:r,checked:e,children:d.jsx(ine,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let DQe=q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),ine=q.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),sne=q.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),FQe=q.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",sne,t=>t.color,ine,t=>t.checked?"visible":"hidden");const LQe=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,o]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{closeable:!1,backFn:n}),d.jsx(ol,{}),d.jsxs(Y4,{children:[d.jsxs(Q4,{children:[d.jsx(Nf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(hT,{children:d.jsxs(RA,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(l=>!l)},children:[d.jsx(nne,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(BQe,{children:[i.initiatedBy==="user"&&d.jsx(rl,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(Z4,{onClick:r,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(_o,{}),d.jsx(Yt,{})]})};let BQe=q.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),UQe=/[a-z]/,zQe=/[A-Z]/,WQe=/[0-9]/,one="!@#$%^&*()\\-_+.",ane=`a-zA-Z0-9${one}`,HQe=RegExp(`[${one}]`),qQe=RegExp(`[${ane}]`);const VQe=RegExp(`^[${ane}]{6,}$`),lne=()=>kGe(4,SGe);function GQe(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function KQe(t=""){return(.3*function(e){if(e.length<8)return 0;let r=0;return UQe.test(e)&&(r+=1),zQe.test(e)&&(r+=1),WQe.test(e)&&(r+=1),HQe.test(e)&&(r+=1),Math.max(0,Math.min(1,r/3))}(t)+bGe(t)/95)/2}const YQe=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect(()=>{r&&!f&&p(!0)},[r]);let g=x.useMemo(()=>f?6>((r==null?void 0:r.length)||0)?"Password must be at least 6 characters":VQe.test(r||"")?null:`Invalid characters used ( ${((y="")=>[...new Set(y.split("").filter(b=>!qQe.test(b)).map(b=>b.replace(" ","SPACE")))])(r).join(" ")} )`:null,[r,f]),m=x.useMemo(()=>g?{value:0,label:"Weak"}:function(y=""){let b=KQe(y);return{value:b,label:GQe(b)}}(r),[r,g]),w=x.useMemo(()=>!(r!=null&&r.length)||!!g,[g,r]);return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:o,closeable:n.initiatedBy==="user",backFn:a}),d.jsx(ol,{}),d.jsxs(Y4,{children:[d.jsxs(Q4,{children:[d.jsx(pKe,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(J4,{children:[d.jsx(dT,{value:r,onChange:y=>l(y.target.value),onKeyUp:y=>{y.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(X4,{style:{width:"3.5rem"},children:[u?d.jsx(ex,{onClick:()=>h(!1)}):d.jsx(tx,{onClick:()=>h(!0)}),d.jsx(RQe,{onClick:c})]})]}),d.jsx(jQe,{value:m.value===0?.01:m.value,label:m.label}),d.jsx(tne,{error:!!g,children:g||`Password Strength: ${f?m.label:"--"}`}),d.jsxs(JQe,{children:[d.jsx(ZQe,{children:d.jsxs(hT,{children:[d.jsxs(RA,{children:[d.jsx(bw,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(RA,{children:[d.jsx(bw,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(Z4,{onClick:s,loading:e,disabled:w,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(_o,{}),d.jsx(Yt,{})]})};let ZQe=q(hT).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),JQe=q.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const QQe=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[o,a]=x.useState(!1),[l,c]=x.useState(!0),u=x.useCallback(()=>{a(!0),n&&navigator.clipboard.writeText(n)},[n]),h=x.useCallback(()=>{let f=document.createElement("a"),p=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),g=new Blob([XQe(r,n)],{type:"text/plain"}),m=URL.createObjectURL(g);f.href=m,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout(()=>{f.remove(),URL.revokeObjectURL(m)},5e3)},[n]);return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:s,closeable:!1}),d.jsx(ol,{}),d.jsxs(Y4,{children:[d.jsxs(Q4,{children:[d.jsx(Nf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(J4,{centered:!0,children:[d.jsx(OQe,{children:l?"".repeat(n.length):n}),d.jsx(X4,{style:{right:"0.75rem"},children:l?d.jsx(ex,{onClick:()=>c(!1)}):d.jsx(tx,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(KL,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(ute,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(sKe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(KL,{onClick:h,children:[d.jsx(LGe,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(Z4,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(_o,{}),d.jsx(Yt,{})]})};let XQe=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const eXe=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(Pt,{closeable:!1}),d.jsx(ol,{}),d.jsxs(E2,t?{children:[d.jsx(hYe,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(go,{title:"Something went wrong",description:t})]}:{children:[d.jsx(bw,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(go,{title:"Success"})]}),d.jsx(ur,{onClick:e,children:"Close"}),d.jsx(_o,{}),d.jsx(Yt,{})]});let tXe=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const cne=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=je(),{send:i,state:s}=(()=>{let[c,u]=x.useReducer(tXe,"creating");return{send:u,state:c}})(),o=x.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);x.useEffect(()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},Br)),()=>{c&&clearTimeout(c)}},[s,e.config.initiatedBy,e.onClose]);let a=x.useCallback(()=>{i("back")},[i]),l=x.useCallback(()=>{n(OA)},[r,n]);return s==="creating"?d.jsx(YQe,{...e,onSubmit:o,onBack:r===OA?l:void 0}):s==="saving"?d.jsx(QQe,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(MQe,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(LQe,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(eXe,{...e,onSubmit:o}):null};let rXe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const rx=t=>{let e=rXe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let une=x.createContext({});const nXe=({children:t})=>{let e=Xt(),[r,n]=x.useState({});return Yg("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(it.put(YL(e.id),i.type),i.type==="wallet"?(it.put(wE(e.id),i.walletClientType),it.put(vE(e.id),i.chainType),n({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(it.del(wE(e.id)),it.del(vE(e.id)),n({accountType:i.type})))}}),x.useEffect(()=>{if(!e.id)return;let i=it.get(YL(e.id)),s=it.get(wE(e.id)),o=it.get(vE(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),d.jsx(une.Provider,{value:r,children:t})};let YL=t=>`privy:${t}:recent-login-method`,wE=t=>`privy:${t}:recent-login-wallet-client`,vE=t=>`privy:${t}:recent-login-chain-type`;const Xd=()=>x.useContext(une),dne=()=>{var i;let{app:t}=je(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,r=`${t==null?void 0:t.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?Pe.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},iXe=t=>{let{app:e}=je();return e!=null&&e.appearance.logo?d.jsx(sXe,{...t,children:d.jsx(dne,{})}):null},sXe=q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),oXe=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),aXe=({appId:t})=>{let[e,r]=x.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=Dt(),{client:s}=Te();return x.useEffect(()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()},[s]),d.jsx(Hr,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(oXe,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(Qd,{})})};let lXe=q.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const pg=({size:t="md",variant:e="navigation",disabled:r=!1,as:n,children:i,onClick:s,...o})=>d.jsx(lXe,{as:n,$size:t,$variant:e,$disabled:r,onClick:a=>{r?a.preventDefault():s==null||s(a)},...o,children:i}),fT=(t,e)=>!Sl(t)&&(e==="all-users"||e==="users-without-wallets"&&!cXe(t).length);let cXe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const pT=(t,e)=>!Pf(t)&&(e==="all-users"||e==="users-without-wallets"&&!uXe(t).length);let uXe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const eh=(t,e)=>fT(t,e.ethereum.createOnLogin)||pT(t,e.solana.createOnLogin),dXe=({title:t="Account not found",subtitle:e,appName:r="this app",ctaText:n="Try logging in again",onRetry:i})=>d.jsx(Ht,{title:t,subtitle:e||`Please try logging in again or go to ${r} to create an account.`,icon:pSe,iconVariant:"warning",primaryCta:{label:n,onClick:i},watermark:!0}),_2={component:()=>{let{navigate:t,app:e,setModalData:r,data:n}=je(),{getAuthMeta:i,client:s}=Te();return d.jsx(dXe,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();r({...n,login:{...n==null?void 0:n.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Ui)}})}},hXe=q.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function fXe(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let ZL="0x0000000000000000000000000000000000000000";const I0=({originCurrency:t,destinationCurrency:e,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??ZL,destinationCurrency:e??ZL,...r});let hne="https://api.relay.link",fne="https://api.testnets.relay.link";const Cw=async({input:t,isTestnet:e})=>{let r=await fetch((e?fne:hne)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},I5=t=>{var r,n;let e=(n=(r=t.steps[0])==null?void 0:r.items)==null?void 0:n[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function gT({transactionHash:t,wallet:e,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:s,onFailure:o}){x.useEffect(()=>{if(t&&e&&n){if(["delayed","waiting","pending"].includes(n)){let a=setInterval(async()=>{try{let l=await async function({transactionHash:c,isTestnet:u}){var p;let h=await fetch((u?fne:hne)+"/requests/v2?hash="+c),f=await h.json();if(!h.ok)throw"message"in f&&typeof f.message=="string"?Error(f.message):Error("Error fetching request from relay");return((p=f.requests.at(0))==null?void 0:p.status)??"pending"}({transactionHash:t,isTestnet:r});i(l)}catch(l){console.error(l)}},1e3);return()=>clearInterval(a)}n==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(n)&&o({error:new pne(t,r)})}},[n,t,r,e])}class pne extends Q{constructor(e,r){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,ee.TRANSACTION_FAILURE),this.relayLink=r?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const A2=({error:t,allowlistConfig:e,onRetry:r,onCaptchaReset:n,onBack:i})=>{let s=((o,a)=>{if(o instanceof pne)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx(pXe,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Hs};if(o instanceof Q)switch(o.privyErrorCode){case ee.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:Hs};case ee.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:Hs};case ee.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:Hs};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hs}}else{if(o instanceof qr&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:wSe};if(!(o instanceof Li))return o instanceof to&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:Hs}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hs};switch(o.privyErrorCode){case ee.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Hs};case ee.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:Hs};case ee.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:VS};case ee.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case ee.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case ee.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Hs};case ee.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Hs};case ee.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Hs};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Hs}}}})(t,e);return d.jsx(Ht,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof Li&&(t.privyErrorCode===ee.INVALID_CAPTCHA&&(n==null||n()),t.privyErrorCode===ee.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:r==null||r()},variant:"error"},watermark:!0})},Ur={component:()=>{var a,l;let{navigate:t,data:e,lastScreen:r,currentScreen:n,app:i}=je(),{reset:s}=Ws(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(r===n?void 0:r);return d.jsx(A2,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Ui,!1)},onCaptchaReset:s})}};let pXe=q.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const gne=({onTransfer:t,isTransferring:e,transferSuccess:r})=>d.jsx(ur,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),mne=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),jA=q.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),yne=q.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),gXe=q(PI).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),mXe=q(DGe).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),yXe=q.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),JL=q.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),wXe=q.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let vXe=()=>d.jsx(wXe,{children:d.jsx(gXe,{$iconSize:60})});const bXe=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:o}=Xt(),a=((l=o.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:e,backFn:r}),d.jsxs(mne,{children:[d.jsx(vXe,{}),d.jsxs(jA,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(yXe,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx(JL,{children:"Log out and log back into the other account, or "}),d.jsxs(JL,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(yne,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(R4,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Rt,{address:t,showCopyIcon:!1}),d.jsx(mXe,{})]}),d.jsx(gne,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),d.jsx(Yt,{})]})},Hf={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Te(),{data:r,navigate:n,lastScreen:i,setModalData:s}=je(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=async()=>{var p,g,m,w,y,b,v,A,E,O;try{if(!((p=r==null?void 0:r.accountTransfer)!=null&&p.nonce)||!((g=r==null?void 0:r.accountTransfer)!=null&&g.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(m=r==null?void 0:r.accountTransfer)==null?void 0:m.nonce,account:(w=r==null?void 0:r.accountTransfer)==null?void 0:w.account,accountType:(y=r==null?void 0:r.accountTransfer)==null?void 0:y.linkMethod,externalWalletMetadata:(b=r==null?void 0:r.accountTransfer)==null?void 0:b.externalWalletMetadata,telegramWebAppData:(v=r==null?void 0:r.accountTransfer)==null?void 0:v.telegramWebAppData,telegramAuthResult:(A=r==null?void 0:r.accountTransfer)==null?void 0:A.telegramAuthResult,farcasterEmbeddedAddress:(E=r==null?void 0:r.accountTransfer)==null?void 0:E.farcasterEmbeddedAddress,oAuthUserInfo:(O=r==null?void 0:r.accountTransfer)==null?void 0:O.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch(N){s({errorModalData:{error:N,previousScreen:i||Hf}}),n(Ur,!0)}};return o?d.jsx(bXe,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(xXe,{onClose:e,onInfo:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onContinue:()=>{var p;return a((p=r==null?void 0:r.accountTransfer)==null?void 0:p.embeddedWalletAddress)},onTransfer:f,isTransferring:u,transferSuccess:l,data:r})}},xXe=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:o})=>{var l,c,u,h,f,p,g;if(!((l=o==null?void 0:o.accountTransfer)!=null&&l.linkMethod)||!((c=o==null?void 0:o.accountTransfer)!=null&&c.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(h=o==null?void 0:o.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(f=o==null?void 0:o.accountTransfer)!=null&&f.embeddedWalletAddress?{type:"wallet",handle:(p=o==null?void 0:o.accountTransfer)==null?void 0:p.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{closeable:!0}),d.jsxs(mne,{children:[d.jsx(iT,{children:d.jsxs("div",{children:[d.jsx(hXe,{color:"var(--privy-color-error)"}),d.jsx(Nf,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(jA,{children:[d.jsxs("h3",{children:[function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${Fte(m.replace("_oauth",""))} profile`;default:return m.startsWith("privy:")?"Cross-app account":m}}(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(EXe,{onClick:r,disclosedAccount:a.disclosedAccount})]}),d.jsxs(jA,{style:{gap:12,marginTop:12},children:[(g=o==null?void 0:o.accountTransfer)!=null&&g.embeddedWalletAddress?d.jsx(ur,{onClick:e,children:"Continue"}):d.jsx(gne,{onTransfer:n,transferSuccess:i,isTransferring:s}),d.jsx(rl,{onClick:t,children:"No thanks"})]})]}),d.jsx(Yt,{})]})};function EXe({disclosedAccount:t,onClick:e}){return t?d.jsxs(yne,{onClick:e,children:[d.jsx(R4,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Rt,{address:t.handle,showCopyIcon:!1}),d.jsx(fXe,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const CXe=({errorMessage:t,onClose:e})=>d.jsx(Ht,t?{title:"Something went wrong",subtitle:t,icon:f4,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),vu={component:()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=je(),[s,o]=x.useState(""),{embeddedWallets:a}=Xt(),{authenticated:l,user:c}=Dt(),{closePrivyModal:u,walletProxy:h,client:f}=Te(),{onSuccess:p,onFailure:g,callAuthOnSuccessOnClose:m,shouldCreateEth:w,shouldCreateSol:y}=n.createWallet,b=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[v,A]=x.useState(null),{create:E}=cT(),O=w??(!!c&&fT(c,t.embeddedWallets.ethereum.createOnLogin)),N=y??(!!c&&pT(c,t.embeddedWallets.solana.createOnLogin)),R=new Xi(async()=>{let T=await f.getAccessToken();if(c&&T&&h)try{let L;if(O&&N)L=await E({chainType:"ethereum",walletIndex:0,latestUser:c}),L=await E({chainType:"solana",walletIndex:0,latestUser:L.user});else if(N)L=await E({chainType:"solana",walletIndex:0,latestUser:c});else{if(!O)return void u({shouldCallAuthOnSuccess:m});L=await E({chainType:"ethereum",walletIndex:0,latestUser:c})}A(L),r(uT)}catch(L){o(L.message)}});return x.useEffect(()=>l&&c?b?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:O,shouldCreateSol:N},recoverySelection:{...n==null?void 0:n.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:O,shouldCreateSol:N}}),r(Kne({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(r(Ui),void g(Error("User must be authenticated before creating a Privy wallet"))),[b,l]),i.current=()=>null,d.jsx(CXe,{errorMessage:s||void 0,onClose:()=>{v?(p(v),u({shouldCallAuthOnSuccess:m})):(g(new xd("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},qf={component:()=>{let{user:t,logout:e}=Dt(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=je(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=Te(),c=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return n.current=c,d.jsx(_Xe,{termsAndConditionsUrl:r==null?void 0:r.legal.termsAndConditionsUrl,privacyPolicyUrl:r==null?void 0:r.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&eh(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(vu)):a()},onDecline:c})}},_Xe=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Ht,{title:i,subtitle:s,icon:ySe,primaryCta:{label:"Accept",onClick:r},secondaryCta:{label:"No thanks",onClick:n},watermark:!0,children:(t||e)&&d.jsxs(AXe,{children:[t&&d.jsxs(vf,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx(h_,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(vf,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx(h_,{width:16,height:16,strokeWidth:2.25})]})]})});let AXe=q.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const wne=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let kXe=q.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),$Xe=q.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),SXe=q(KGe).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),IXe=q(wne).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function TXe({children:t,iconOnly:e,value:r,hideCopyIcon:n,...i}){let[s,o]=x.useState(!1);return d.jsxs(kXe,{...i,onClick:()=>{navigator.clipboard.writeText(r||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?d.jsxs($Xe,{children:[d.jsx(SXe,{})," ",!e&&"Copied"]}):!n&&d.jsx(IXe,{})]})}const PXe=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let bE=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let o=r;o<r+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},NXe=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map(s=>d.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`))}),OXe=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>d.jsx(NXe,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`))}),RXe=({matrix:t,cellSize:e,color:r})=>d.jsx(d.Fragment,{children:t.map((n,i)=>n.map((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${o}`):d.jsx(Pe.Fragment,{},`circle-${i}-${o}`)))}),jXe=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return d.jsx(d.Fragment,{});let s=e*(n||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(r,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},MXe=t=>{var s;let e=t.outputSize,r=((o,a)=>{let l=v2.create(o,{errorCorrectionLevel:a}).modules,c=((u,h)=>{let f=u.slice(0),p=[];for(;f.length;)p.push(f.splice(0,h));return p})(Array.from(l.data),l.size);return c=bE(c,0,0,7,7),c=bE(c,c.length-7,0,7,7),bE(c,0,c.length-7,7,7)})(t.url,t.errorCorrectionLevel),n=e/r.length,i=function(o,{min:a,max:l}){return Math.min(Math.max(o,a),l)}(2*n,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(RXe,{matrix:r,cellSize:n,color:t.fgColor}),d.jsx(OXe,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(jXe,{cellSize:n,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:r.length})]})},DXe=q.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const k2=t=>{let{appearance:e}=Xt(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return d.jsx(DXe,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:d.jsx(MXe,{url:t.url,logo:{element:t.squareLogoElement??PXe},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},uu=q.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let vne=q.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const bne=q(vne).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),FXe=q(vne).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),xne=q.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],uu),Ene=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),r0={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:CA,md:CA}}};class ro{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(r=>r.startsWith("eip155:"))}isSol(e){return e.chains.some(r=>r.startsWith("solana:"))}inAllowList(e,r){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||r==="listing"&&this.includeWalletConnect)return!0;let n=ro.normalize(e);return this.normalizedAllowList.some(i=>n===ro.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,r){var l;let n=new Map,i=c=>{let u=n.get(c.id);if(u){u.chainType!==c.chainType&&(u.chainType="multi");let h=new Set(u.chains);c.chains.forEach(f=>h.add(f)),u.chains=Array.from(h),!u.icon&&c.icon&&(u.icon=c.icon),!u.url&&c.url&&(u.url=c.url),!u.listing&&c.listing&&(u.listing=c.listing)}else n.set(c.id,c)};e.filter(c=>this.connectorOk(c)).forEach(c=>{var h,f;let u=ro.normalize(c.walletClientType);i({id:u,label:((h=c.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:c,chainType:c.chainType,icon:(f=c.walletBranding)==null?void 0:f.icon,url:void 0,chains:[c.chainType==="ethereum"?"eip155":"solana"]})}),r.filter(c=>this.listingOk(c)).forEach(c=>{var m,w;let u=this.isEth(c),h=this.isSol(c),f=ro.normalize(c.slug),p=r0[c.slug],g=((m=p==null?void 0:p.image_url)==null?void 0:m.sm)||((w=c.image_url)==null?void 0:w.sm);i({id:f,label:c.name||f,source:"listing",listing:c,chainType:u&&h?"multi":u?"ethereum":"solana",icon:g,url:c.homepage,chains:c.chains})});let s=e.find(c=>c.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:gre,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(n.values());o.forEach(c=>{var h,f;let u=r0[((h=c.listing)==null?void 0:h.slug)||c.id];(f=u==null?void 0:u.image_url)!=null&&f.sm&&(c.icon=u.image_url.sm)});let a=new Map;return(l=this.normalizedAllowList)==null||l.forEach((c,u)=>{a.set(ro.normalize(c),u)}),{wallets:o.slice().sort((c,u)=>{let h=ro.normalize(c.id),f=ro.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom");let p=a.has(h),g=a.has(f);return p&&g?a.get(h)-a.get(f):p?-1:g?1:c.source==="connector"&&u.source==="listing"?-1:c.source==="listing"&&u.source==="connector"?1:c.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,r){var n,i,s,o,a;this.chainFilter=e,r&&r.length>0&&(this.normalizedAllowList=r.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=((n=this.normalizedAllowList)==null?void 0:n.includes("detected_wallets"))??!1,this.detectedEth=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((s=this.normalizedAllowList)==null?void 0:s.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var MA=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),DA=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const LXe=q.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),K1=q.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),BXe=q.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),UXe=jg(()=>({isModalOpen:!1,resolvers:null}));jg(()=>({}));const zXe=({address:t,client:e,appId:r})=>{let n=`${e}:${t}`;r&&it.put(WXe(r),n),UXe.setState({wallet:n})},WXe=t=>`privy:${t}:active-wallet-connection`;function Cne({walletList:t,walletChainType:e}){var m;let r=Xt(),{connectors:n}=Te(),i=x2(w=>w.listings),s=e??r.appearance.walletChainType,o=t??((m=r.appearance)==null?void 0:m.walletList),a=x.useMemo(()=>new ro(s,o),[s,o]),{wallets:l,walletCount:c}=x.useMemo(()=>a.getWallets(n,i),[a,n,i]),[u,h]=x.useState(""),f=x.useMemo(()=>u?l.filter(w=>w.label.toLowerCase().includes(u.toLowerCase())):l,[u,l]),[p,g]=x.useState();return{selected:p,setSelected:g,search:u,setSearch:h,wallets:f,walletCount:c}}let _ne=t=>!t||typeof t!="string"&&(t instanceof qI||t instanceof KI);const FA=({index:t,style:e,data:r,recent:n})=>{var l,c;let i=r.wallets[t],{walletChainType:s,handleWalletClick:o}=r,a={...e,boxSizing:"border-box"};return i?d.jsxs(Lb,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!_ne(i.connector)?d.jsx(LXe,{children:typeof i.icon=="string"?d.jsx(K1,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(K1,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(Bb,{children:i.label}),n?d.jsxs(d.Fragment,{children:[d.jsx(BXe,{children:"Last used"}),d.jsx(T5,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(MA,{}),s==="solana-only"&&d.jsx(DA,{})]})})]}):d.jsx(T5,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[((l=i.chains)==null?void 0:l.some(u=>u.startsWith("eip155")))&&d.jsx(MA,{}),((c=i.chains)==null?void 0:c.some(u=>u.startsWith("solana")))&&d.jsx(DA,{})]})})]}):null};var Ane=({className:t,suggestedAddress:e,customDescription:r,connectOnly:n,preSelectedWalletId:i,...s})=>{var S;let o=Xt(),{connectors:a}=Te(),l=s.walletChainType||o.appearance.walletChainType,c=s.walletList||((S=o.appearance)==null?void 0:S.walletList),{onBack:u,onClose:h,app:f}=s,{selected:p,setSelected:g,qrUrl:m,setQrUrl:w,connecting:y,uiState:b,wallets:v,walletCount:A,handleConnect:E,handleBack:O,showSearchBar:N,isInitialConnectView:R,title:T,search:L,setSearch:B}=function({onConnect:I,onBack:D,onClose:F,onConnectError:k,walletList:z,walletChainType:V,app:M}){let G=Xt(),{connectors:Z}=Te(),{wallets:K,walletCount:re,search:le,setSearch:ne,selected:ae,setSelected:me}=Cne({walletList:z,walletChainType:V}),[ue,de]=x.useState(),[Je,ie]=x.useState(),[be,ve]=x.useState(),se=!ae&&!Je&&!be,ye=se&&(re>6||le.length>0),yt=Z.find(Xe=>Xe.connectorType==="wallet_connect_v2"),ce=x.useCallback(async(Xe,Ke)=>{var kt,ht;if(Xe){if((be==null?void 0:be.connector)===Xe)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(de("loading"),typeof Xe=="string")return ve({connector:Xe,name:(Ke==null?void 0:Ke.name)??"Wallet",icon:Ke==null?void 0:Ke.icon}),void window.open(Xe,"_blank");ve({connector:Xe,name:(Ke==null?void 0:Ke.name)??Xe.walletBranding.name??"Wallet",icon:(Ke==null?void 0:Ke.icon)??Xe.walletBranding.icon});try{let rt=await Xe.connect({showPrompt:!0});if(!rt)return de("error"),void(k==null?void 0:k(new _r("Unable to connect wallet")));de("success"),zXe({address:rt.address,client:rt.walletClientType,appId:G.id}),setTimeout(()=>{I({connector:Xe,wallet:rt})},Br)}catch(rt){if(console.error("ERROR: ",{e:rt}),((kt=rt==null?void 0:rt.message)==null?void 0:kt.includes("already pending for origin"))||((ht=rt==null?void 0:rt.message)==null?void 0:ht.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");de("error"),k==null||k(new _r("Unable to connect wallet"))}}},[G.id,I,be]),$e=x.useCallback(()=>Je?(de(void 0),ve(void 0),void ie(void 0)):be?(de(void 0),void ve(void 0)):ae?(de(void 0),ve(void 0),void me(void 0)):ue==="error"||ue==="loading"?(de(void 0),void ve(void 0)):void(D==null?void 0:D()),[Je,be,ae,ue,D]),De=x.useMemo(()=>(be==null?void 0:be.connector)===yt&&Je&&Sr?`Go to ${be.name} to continue`:(be==null?void 0:be.connector)===yt&&Je?`Scan code to connect to ${be.name}`:typeof(be==null?void 0:be.connector)=="string"?`Open or install ${be.name}`:ae&&!be?"Select network":be?null:"Select your wallet",[be,Je,ae,yt]);return{selected:ae,setSelected:me,qrUrl:Je,setQrUrl:ie,connecting:be,uiState:ue,search:le,setSearch:ne,wallets:K,walletCount:re,wc:yt,isInitialConnectView:se,showSearchBar:ye,title:De,handleConnect:ce,handleBack:$e,onClose:F,onConnect:I,app:M}}({...s,walletList:c,walletChainType:l}),W=a.find(I=>I.connectorType==="wallet_connect_v2"),j=x.useRef(null),_=A_e({count:v.length,getScrollElement:()=>j.current,estimateSize:()=>56,overscan:6,gap:5}),C=x.useCallback(async I=>{var V,M,G,Z,K,re,le;let D,F=l!=="solana-only"&&((V=I.chains)==null?void 0:V.some(ne=>ne.startsWith("eip155"))),k=l!=="ethereum-only"&&((M=I.chains)==null?void 0:M.some(ne=>ne.startsWith("solana"))),z=GI[I.id];if(k&&z)D=z.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let ne=(Z=(G=I.listing)==null?void 0:G.mobile)==null?void 0:Z.native;D=((re=(K=I.listing)==null?void 0:K.mobile)==null?void 0:re.universal)||ne||I.url}if(F&&k){let ne=ro.normalize(I.id),ae=a.filter(de=>ro.normalize(de.walletClientType)===ne&&!(de.chainType==="ethereum"&&de instanceof qI||de.chainType==="solana"&&de instanceof KI)),me=ae.find(de=>de.chainType==="ethereum"),ue=ae.find(de=>de.chainType==="solana");if(!me&&I.listing){let de=r0[I.listing.slug]?{...I.listing,...r0[I.listing.slug]}:I.listing;W.setWalletEntry(de,w),await W.resetConnection(I.id),me=W}if(!ue&&D&&(ue=D),me||ue)return void g({eth:me,sol:ue,name:I.label,icon:I.icon})}if(!_ne(I.connector))return((le=I.connector)==null?void 0:le.connectorType)==="wallet_connect_v2"&&(await W.resetConnection(I.id),W.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},w)),void await E(I.connector,{name:I.label,icon:I.icon});if(F||k||I.url||I.listing){if(F&&I.listing){let ne=r0[I.listing.slug]?{...I.listing,...r0[I.listing.slug]}:I.listing;W.setWalletEntry(ne,w),await W.resetConnection(I.id)}if(F&&k)return void g({eth:W,sol:D,name:I.label,icon:I.icon});if(k)return void await E(D,{name:I.label,icon:I.icon});if(F)return void(I.listing?await E(W,{name:I.label,icon:I.icon}):I.url?await E(I.url,{name:I.label,icon:I.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",I.label));if(I.url)return void await E(I.url,{name:I.label,icon:I.icon})}},[W,E,g,w,O,h,f,R,T,r,e,o,a]),$=u||O,P=!!u||!R;return x.useEffect(()=>{if(!i)return;let I=v.find(({id:D})=>D===i);I&&C(I).catch(console.error)},[i]),d.jsxs(gr,{className:t,children:[d.jsx(gr.Header,{icon:y&&!m||m&&Sr&&(y!=null&&y.icon)?y.icon:y?void 0:Ene,iconVariant:y&&!m||m&&Sr?"loading":void 0,iconLoadingStatus:y&&!m||m&&Sr?{success:b==="success",fail:b==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Sr?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:T,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?b==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":R?r??(e?d.jsxs("span",{children:["Connect the wallet with address ",d.jsx(Rt,{address:e})," ",f!=null&&f.name?`to ${f.name}.`:"."]}):f?`Connect a wallet to your ${f.name} account`:null):null,showBack:P,showClose:!0,onBack:$,onClose:h}),d.jsxs(gr.Body,{ref:j,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[N&&d.jsx(HXe,{children:d.jsxs(bne,{style:{background:"transparent"},children:[d.jsx(Yl,{children:d.jsx(yKe,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:I=>B(I.target.value),value:L})]})}),m&&Sr&&b==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(vf,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Sr&&b==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(GXe,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Sr&&d.jsx(k2,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?I=>d.jsx("svg",{...I,children:d.jsx("image",{href:y.icon,height:I.height,width:I.width})}):y.icon:XYe}),d.jsxs(qXe,{children:[y&&!m&&typeof y.connector=="string"&&d.jsxs(Lb,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?d.jsx(K1,{src:y.icon}):d.jsx(y.icon,{})),d.jsx(Bb,{children:y.name})]}),(p==null?void 0:p.eth)&&!y&&d.jsxs(Lb,{onClick:()=>E(p.eth,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(K1,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(Bb,{children:p.name}),d.jsx(T5,{children:d.jsx(MA,{})})]}),(p==null?void 0:p.sol)&&!y&&d.jsxs(Lb,{onClick:()=>E(p.sol,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(K1,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(Bb,{children:p.name}),d.jsx(T5,{children:d.jsx(DA,{})})]}),R&&d.jsxs(d.Fragment,{children:[!(A>0)&&d.jsx(VXe,{children:"No wallets found. Try another search."}),A>0&&!m&&d.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${_.getTotalSize()}px`,width:"100%",position:"relative"},children:_.getVirtualItems().map(I=>d.jsx(FA,{index:I.index,style:{position:"absolute",top:0,left:0,height:`${I.size}px`,transform:`translateY(${I.start}px)`},data:{wallets:v,walletChainType:l,handleWalletClick:C}},I.key))})})]})]})]}),d.jsxs(gr.Footer,{children:[y&&!m&&typeof y.connector!="string"&&b==="error"&&d.jsx(gr.Actions,{children:d.jsx(vf,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>E(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(f&&f.legal.privacyPolicyUrl&&f.legal.termsAndConditionsUrl)&&d.jsx(ZI,{app:f,alwaysShowImplicitConsent:!0}),d.jsx(gr.Watermark,{})]})]})};let HXe=q.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),qXe=q.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),Lb=q.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),T5=q.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),VXe=q.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),Bb=q.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),GXe=q(TXe).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const KXe=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),QL=t=>{var r;let e=(r=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:r.split(" ").filter(n=>Mi(n,{strict:!0})).map(n=>an(n));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(n=>n.type=="wallet"&&e.includes(n.address)).length)};let kne=x.createContext({plugins:{current:{}}});const YXe=({children:t})=>{let e=x.useRef({});return d.jsx(kne.Provider,{value:{plugins:e},children:t})},Qg=()=>{let{plugins:t}=x.useContext(kne);return x.useCallback(e=>t.current[e],[t])},$ne=Symbol("solana-ledger-plugin"),ZXe=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:r="Try another account",ctaLink:n,onCtaClick:i})=>d.jsx(Ht,{title:t,subtitle:e,icon:VS,iconVariant:"warning",primaryCta:{label:r,onClick:()=>{n?window.open(n,"_blank"):i==null||i()}},watermark:!0}),nx={component:()=>{let{navigate:t,app:e}=je(),r=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",n=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return d.jsx(ZXe,{title:r,subtitle:n,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Ui)}})}},JXe=({status:t,title:e,description:r,userIntentRequired:n,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=x.useMemo(()=>{switch(t){case"loading":default:return;case"success":return n?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),c=x.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return d.jsx(Ht,{icon:t==="loading"||t==="ready"?void 0:t==="success"?o2:f4,iconVariant:c,title:e,subtitle:r,primaryCta:l,watermark:!0})},nl={component:()=>{let{lastScreen:t,data:e,navigate:r,setModalData:n}=je(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=Ws(),c=x.useRef([]),u=N=>{c.current=[N,...c.current]},[h,f]=x.useState(!0);x.useEffect(()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach(N=>clearTimeout(N)),c.current=[]}),[]);let[p,g]=x.useState(""),[m,w]=x.useState("Checking that you are a human..."),[y,b]=x.useState(!1),[v,A]=x.useState(3),E=e==null?void 0:e.captchaModalData,O=async N=>{try{await(E==null?void 0:E.callback(N)),E!=null&&E.onSuccessNavigateTo&&r(E==null?void 0:E.onSuccessNavigateTo,!1)}catch(R){if(R instanceof z4)return;n({errorModalData:{error:R,previousScreen:t||Ui}}),r((E==null?void 0:E.onErrorNavigateTo)||Ur,!1)}};return x.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let N=await o();!N||E!=null&&E.userIntentRequired||O(N)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&l()},500))},[i]),x.useEffect(()=>{if(!h)switch(i){case"success":g("Success!"),w("CAPTCHA passed successfully."),E!=null&&E.userIntentRequired||setTimeout(()=>{b(!0),O(s)},2e3);break;case"loading":g(""),w("Checking that you are a human...");break;case"error":g("Something went wrong"),w(v<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,h,y]),d.jsx(JXe,{status:i,title:p,description:m,userIntentRequired:E==null?void 0:E.userIntentRequired,retriesRemaining:v,hasSelectedCta:y,onContinue:()=>{b(!0),O(s)},onRetry:async()=>{if(v<=0)return;A(R=>R-1),a(),l();let N=await o();!N||E!=null&&E.userIntentRequired||O(N)}})}},QXe=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),XXe=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:r="Phantom supports Ledger",subtitle:n=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Ht,{title:r,subtitle:d.jsx(ret,{children:n}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(tet,{children:[d.jsx(are,{style:{width:"48px",height:"48px"}}),d.jsx(hSe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(QXe,{style:{width:"48px",height:"48px"}})]})}),eet={component:function(){let{data:t,setModalData:e,navigate:r}=je();return d.jsx(XXe,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),r(Gc)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),r(Gc)}})}};let tet=q.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),ret=q.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const net=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),iet=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:r})=>d.jsx(Ht,{title:t,subtitle:e,icon:net,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:r},showBack:!0,onBack:r,watermark:!0}),$2={component:()=>{let{navigate:t}=je();return d.jsx(iet,{onGoBack:()=>{t(Ui)}})}},Sne=t=>(t==null?void 0:t.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER?sd.ERROR_USER_EXISTS:t instanceof $i&&!t.details.default?t.details:t instanceof nre?sd.ERROR_TIMED_OUT:t instanceof ire?sd.ERROR_USER_REJECTED_CONNECTION:(t==null?void 0:t.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE?sd.ERROR_USER_LIMIT_REACHED:sd.ERROR_WALLET_CONNECTION,set=({walletLogo:t,title:e,subtitle:r,signSuccess:n,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:g,onRetry:m,onCoinbaseReset:w,onDifferentWallet:y})=>{let b=h?{label:"Use a different wallet",onClick:w,disabled:n}:i===sd.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:y}:s&&!n&&o?{label:a?"Signing":"Sign with your wallet",onClick:g,disabled:a}:!n&&(i!=null&&i.retryable)&&f<2?{label:"Retry",onClick:m,disabled:!1}:n||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Ht,{title:e,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:b,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(oet,{children:["Still here?"," ",d.jsx(pg,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(pg,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},Gc={component:()=>{var Je,ie,be,ve,se,ye,yt,ce,$e,De,Xe,Ke,kt,ht,rt;let t,[e,r]=x.useState(!1),[n,i]=x.useState(!1),[s,o]=x.useState(void 0),{authenticated:a,logout:l}=Dt(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:g,data:m}=je(),{getAuthFlow:w,walletConnectionStatus:y,closePrivyModal:b,initLoginWithWallet:v,loginWithWallet:A,updateWallets:E,createAnalyticsEvent:O}=Te(),{walletConnectors:N}=Dt(),[R,T]=x.useState(0),{user:L}=Dt(),B=Qg(),[W]=x.useState((L==null?void 0:L.linkedAccounts.length)||0),[j,_]=x.useState(""),[C,$]=x.useState(""),[P,S]=x.useState(!1),{hasTabbedAway:I}=function(){let[Ae,Se]=x.useState(!1),he=x.useCallback(()=>{document.hidden&&Se(!0)},[]);return x.useEffect(()=>(document.addEventListener("visibilitychange",he),()=>document.removeEventListener("visibilitychange",he)),[he]),{hasTabbedAway:Ae,reset:()=>Se(!1)}}(),{enabled:D,token:F}=Ws(),k=yu(((Je=y==null?void 0:y.connector)==null?void 0:Je.walletClientType)||"unknown"),z=Sr&&((ie=y==null?void 0:y.connector)==null?void 0:ie.connectorType)==="wallet_connect_v2"||Sr&&((be=y==null?void 0:y.connector)==null?void 0:be.connectorType)==="coinbase_wallet"||Sr&&((ve=y==null?void 0:y.connector)==null?void 0:ve.connectorType)==="base_account"||Sr&&((se=y==null?void 0:y.connector)==null?void 0:se.connectorType)==="injected"&&((ye=y==null?void 0:y.connector)==null?void 0:ye.walletClientType)==="phantom"||Sr&&((yt=y==null?void 0:y.connector)==null?void 0:yt.connectorType)==="solana_adapter"&&y.connector.walletClientType==="mobile_wallet_adapter",V=(y==null?void 0:y.status)==="connected",M=(y==null?void 0:y.status)==="switching_to_supported_chain";x.useEffect(()=>{var he,He,nt,Ve,ot,Ie;let Ae=w(),Se=Ae instanceof k0||Ae instanceof b5?Ae:void 0;V&&((he=y.connector)==null?void 0:he.chainType)==="solana"&&((He=y.connector)==null?void 0:He.walletClientType)==="phantom"&&B($ne)&&((nt=m==null?void 0:m.login)==null?void 0:nt.isSigningInWithLedgerSolana)===void 0?u(eet,!1):(V&&!Se&&(!D||F||a?v(y.connectedWallet,F,(Ve=m==null?void 0:m.login)==null?void 0:Ve.disableSignup,(ot=m==null?void 0:m.login)!=null&&ot.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{S(!0)}):(g({captchaModalData:{callback:dt=>{var bt,wt;return v(y.connectedWallet,dt,(bt=m==null?void 0:m.login)==null?void 0:bt.disableSignup,(wt=m==null?void 0:m.login)!=null&&wt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{S(!0)})},userIntentRequired:!1,onSuccessNavigateTo:Gc,onErrorNavigateTo:Ur}}),u(nl,!1))),Se instanceof b5&&((Ie=m==null?void 0:m.login)!=null&&Ie.isSigningInWithLedgerSolana)&&(Se.messageType="transaction"),Se&&z&&V&&!Se.preparedMessage?Se.buildMessage():Se&&!z&&V&&(n||(async()=>{var dt,bt;i(!0),o(void 0);try{((dt=y==null?void 0:y.connector)==null?void 0:dt.connectorType)==="wallet_connect_v2"&&((bt=y==null?void 0:y.connector)==null?void 0:bt.walletClientType)==="metamask"&&await x5(2500),await Z()}catch(wt){console.warn("Auto-prompted signature failed",wt)}finally{i(!1)}})()))},[R,V,P]),x.useEffect(()=>{if(L&&e){let Ae=900;if(c!=null&&c.legal.requireUsersAcceptTerms&&!L.hasAcceptedTerms){let he=setTimeout(()=>{u(qf)},Ae);return()=>clearTimeout(he)}if(eh(L,c.embeddedWallets)){let he=setTimeout(()=>{g({createWallet:{onSuccess:()=>{},onFailure:He=>{console.error(He),O({eventName:"embedded_wallet_creation_failure_logout",payload:{error:He,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(vu)},Ae);return()=>clearTimeout(he)}E();let Se=setTimeout(()=>b({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Br);return()=>clearTimeout(Se)}},[L,e]);let G=Ae=>{var Se,he,He,nt,Ve,ot,Ie,dt,bt,wt,Le,Ar,qe,Ft;if((Ae==null?void 0:Ae.privyErrorCode)!==ee.ALLOWLIST_REJECTED){if((Ae==null?void 0:Ae.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new Jw(Ae).toString()),void u($2);if((Ae==null?void 0:Ae.privyErrorCode)!==ee.USER_DOES_NOT_EXIST)return(Ae==null?void 0:Ae.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((he=(Se=Ae.data)==null?void 0:Se.data)!=null&&he.nonce)?(g({accountTransfer:{nonce:(nt=(He=Ae.data)==null?void 0:He.data)==null?void 0:nt.nonce,account:(Ve=w())==null?void 0:Ve.meta.address,displayName:(dt=(Ie=(ot=Ae.data)==null?void 0:ot.data)==null?void 0:Ie.account)==null?void 0:dt.displayName,externalWalletMetadata:{walletClientType:(bt=w())==null?void 0:bt.meta.walletClientType,chainId:(wt=w())==null?void 0:wt.meta.chainId,connectorType:(Le=w())==null?void 0:Le.meta.connectorType},linkMethod:w()instanceof k0?"siwe":"siws",embeddedWalletAddress:(Ft=(qe=(Ar=Ae.data)==null?void 0:Ar.data)==null?void 0:qe.otherUser)==null?void 0:Ft.embeddedWalletAddress}}),void u(Hf)):void o(Sne(Ae));u(_2)}else u(nx)};async function Z(){try{await A(),r(!0)}catch(Ae){G(Ae)}finally{i(!1)}}x.useEffect(()=>{y!=null&&y.connectError&&G(y==null?void 0:y.connectError)},[y]),((Ae,Se)=>{let he=x.useRef(()=>{});x.useEffect(()=>{he.current=Ae}),x.useEffect(()=>{if(Se!==null){let He=setInterval(()=>he.current(),Se||0);return()=>clearInterval(He)}},[Se])})(()=>{let Ae=K==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof S0?y.connector.redirectUri:void 0;Ae&&_(Ae);let Se=K==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof S0?y.connector.fallbackUniversalRedirectUri:void 0;Se&&$(Se)},(y==null?void 0:y.connector)instanceof S0&&!j?500:null);let K=((ce=y==null?void 0:y.connector)==null?void 0:ce.connectorType)||"injected",re=(($e=y==null?void 0:y.connector)==null?void 0:$e.walletClientType)||"unknown",le=((De=k==null?void 0:k.metadata)==null?void 0:De.shortName)||(k==null?void 0:k.name)||((Xe=y==null?void 0:y.connector)==null?void 0:Xe.walletBranding.name)||"Browser Extension",ne=((Ke=k==null?void 0:k.image_url)==null?void 0:Ke.md)||((kt=y==null?void 0:y.connector)==null?void 0:kt.walletBranding.icon)||(Ae=>d.jsx(VI,{...Ae})),ae=le==="Browser Extension"?le.toLowerCase():le;t=e?`Successfully connected with ${ae}`:s?s.message:M?"Switching networks":V?n&&z?"Signing":"Sign to verify":`Waiting for ${ae}`;let me="Dont see your wallet? Check your other browser windows.";e?me=W===((L==null?void 0:L.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?me="Unable to connect wallet":s?me=s.detail:M?me="Switch your wallet to the requested network.":V&&z?me="Sign the message in your wallet to verify it belongs to you.":re==="metamask"&&Sr?me="Click continue to open and connect MetaMask.":re==="metamask"?me="For the best experience, connect only one wallet at a time.":K==="wallet_connect"?me="Open your mobile wallet app to continue":K==="coinbase_wallet"?Jte()||(me=QL(L)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(ht=m==null?void 0:m.login)!=null&&ht.isSigningInWithLedgerSolana&&(me="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let ue=(rt=N==null?void 0:N.walletConnectors)==null?void 0:rt.find(Ae=>Ae.walletClientType==="coinbase_wallet"),de=re==="coinbase_wallet"&&(QL(L)||s===sd.ERROR_USER_EXISTS);return d.jsx(set,{walletLogo:ne,title:t,subtitle:me,signSuccess:e,errorMessage:s,connectSuccess:V,separateConnectAndSign:z,signing:n,walletConnectRedirectUri:j,walletConnectFallbackUniversalUri:C,hasTabbedAway:I,showCoinbaseWalletResetCta:de,numRetries:R,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),Z()},onRetry:()=>{T(R+1),o(void 0),V?(i(!0),Z()):y==null||y.connectRetry()},onCoinbaseReset:()=>{ue&&(ue==null||ue.disconnect())},onDifferentWallet:h})}};let oet=q.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const Ub={component:()=>{var g,m,w,y,b,v,A;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:r}=Te(),{app:n,data:i,navigate:s}=je(),o=wu(),a=(g=i==null?void 0:i.externalConnectWallet)==null?void 0:g.description,l=x.useRef((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.suggestedAddress).current,c=x.useRef(((w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.walletList)??n.appearance.walletList),u=x.useRef(((y=i==null?void 0:i.externalConnectWallet)==null?void 0:y.walletChainType)??n.appearance.walletChainType),h=c.current,f=u.current,p=r.current==="link"?void 0:()=>s(Ui);return d.jsx(Ane,{walletList:h,walletChainType:f,onClose:e,onConnect:x.useCallback(({connector:E,wallet:O})=>{var N;o("connectWallet","onSuccess",{wallet:O}),t({status:"connected",connectedWallet:O,connector:E,connectError:null,connectRetry:()=>null}),s(Gc,!((N=i==null?void 0:i.externalConnectWallet)!=null&&N.preSelectedWalletId))},[t,s,(b=i==null?void 0:i.login)==null?void 0:b.disableSignup,(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId]),onConnectError:E=>{E instanceof Li?(console.warn(E.cause?E.cause:E.message),o("connectWallet","onError",E.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(E),o("connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:p,suggestedAddress:l,customDescription:a||"",preSelectedWalletId:(A=i==null?void 0:i.externalConnectWallet)==null?void 0:A.preSelectedWalletId,app:n})},isUnauthenticatedScreem:!0},LA={component:()=>{var l,c,u,h;let{closePrivyModal:t}=Te(),{app:e,data:r}=je(),n=wu(),i=(l=r==null?void 0:r.externalConnectWallet)==null?void 0:l.description,s=x.useRef((c=r==null?void 0:r.externalConnectWallet)==null?void 0:c.suggestedAddress).current,o=x.useRef(((u=r==null?void 0:r.externalConnectWallet)==null?void 0:u.walletList)??e.appearance.walletList),a=x.useRef(((h=r==null?void 0:r.externalConnectWallet)==null?void 0:h.walletChainType)??e.appearance.walletChainType);return d.jsx(Ane,{walletList:o.current,walletChainType:a.current,onClose:()=>{n("connectWallet","onError",ee.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:f})=>{n("connectWallet","onSuccess",{wallet:f}),t()},onConnectError:f=>{f instanceof Li?(console.warn(f.cause?f.cause:f.message),n("connectWallet","onError",f.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(f),n("connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},XL=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(vZe,{$withPadding:e,children:d.jsxs(bZe,{children:[d.jsx(x0,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")};let aet=gZ(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const ix=jn(["",""],t=>t.$isLoading?jn(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],aet):""),nc=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>d.jsx(cet,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let cet=q.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=gZ(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return jn(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&jn(["animation:"," 3s linear infinite;"],n))},ix);const Gh=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),Ine=t=>{let[e,r]=x.useState(!1);return d.jsx(uet,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:e,children:t.text})};let uet=q.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const gs=q.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let det=q.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),het=q.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),fet=q.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),Tne=q.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),pet=q(Tne).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),get=q(gs).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),met=q(rl).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const yet=({value:t,title:e,placeholder:r,className:n,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=x.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let g=Math.ceil(p/2)-2,m=Math.floor(p/2)-1;return`${h.slice(0,g)}...${h.slice(-m)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return x.useEffect(()=>{if(l){let h=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(h)}},[l]),d.jsxs(det,{className:n,children:[e&&d.jsx(get,{children:e}),d.jsxs(het,{$disabled:a,children:[d.jsx(fet,{children:t?d.jsx(Tne,{$disabled:a,title:t,children:u}):d.jsx(pet,{$disabled:a,children:r||"No value"})}),i&&t&&d.jsx(met,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then(()=>c(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(cw,{size:14})]}:{children:["Copy",d.jsx(X3,{size:14})]})})]})]})},wet=({connectUri:t,loading:e,success:r,errorMessage:n,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Ht,Sr||e?Kk?{title:n?n.message:"Sign in with Farcaster",subtitle:n?n.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:Gh,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:n?n.message:"Signing in with Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Gh,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:i,onClose:s,watermark:!0,children:t&&Sr&&d.jsx(vet,{children:d.jsx(Ine,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(bet,{children:[d.jsx(xet,{children:t?d.jsx(k2,{url:t,size:275,squareLogoElement:Gh}):d.jsx(_et,{children:d.jsx(ia,{})})}),d.jsxs(Eet,{children:[d.jsx(Cet,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(yet,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),BA={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Dt(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=je(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=Te(),[p,g]=x.useState(void 0),[m,w]=x.useState(!1),[y,b]=x.useState(!1),v=x.useRef([]),A=c(),E=A==null?void 0:A.meta.connectUri;return x.useEffect(()=>{let O=Date.now(),N=setInterval(async()=>{var L,B,W,j,_,C,$,P,S,I,D,F,k,z,V;let R=await A.pollForReady.execute(),T=Date.now()-O;if(R){clearInterval(N),w(!0);try{await u(),b(!0)}catch(M){let G={retryable:!1,message:"Authentication failed"};if((M==null?void 0:M.privyErrorCode)===ee.ALLOWLIST_REJECTED)return void s(nx);if((M==null?void 0:M.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new Jw(M).toString()),void s($2);if((M==null?void 0:M.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return void s(_2);if((M==null?void 0:M.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER)G.detail=M.message??"This account has already been linked to another user.";else{if((M==null?void 0:M.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((B=(L=M.data)==null?void 0:L.data)!=null&&B.nonce))return a({accountTransfer:{nonce:(j=(W=M.data)==null?void 0:W.data)==null?void 0:j.nonce,account:(C=(_=M.data)==null?void 0:_.data)==null?void 0:C.subject,displayName:(S=(P=($=M.data)==null?void 0:$.data)==null?void 0:P.account)==null?void 0:S.displayName,linkMethod:"farcaster",embeddedWalletAddress:(F=(D=(I=M.data)==null?void 0:I.data)==null?void 0:D.otherUser)==null?void 0:F.embeddedWalletAddress,farcasterEmbeddedAddress:(V=(z=(k=M.data)==null?void 0:k.data)==null?void 0:z.otherUser)==null?void 0:V.farcasterEmbeddedAddress}}),void s(Hf);(M==null?void 0:M.privyErrorCode)===ee.INVALID_CREDENTIALS?(G.retryable=!0,G.detail="Something went wrong. Try again."):(M==null?void 0:M.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(G.detail="Too many requests. Please wait before trying again.")}g(G)}}else T>12e4&&(clearInterval(N),g({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(N),v.current.forEach(R=>clearTimeout(R))}},[]),x.useEffect(()=>{if(r&&t&&y&&n){if(l!=null&&l.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let O=setTimeout(()=>{s(qf)},Br);return()=>clearTimeout(O)}y&&(eh(n,l.embeddedWallets)?v.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(vu)},Br)):v.current.push(setTimeout(()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Br)))}},[y,r,t,n]),d.jsx(wet,{connectUri:E,loading:m,success:y,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{E&&(window.location.href=E)}})}};let vet=q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),bet=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),xet=q.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),Eet=q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Cet=q.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),_et=q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const Pne=()=>{let[t,e]=x.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=je(),{enabled:o,token:a}=Ws(),{initLoginWithFarcaster:l}=Te(),{accountType:c}=Xd();return d.jsxs(Hr,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:h=>{var f;return l(h,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:BA,onErrorNavigateTo:Ur}}),n(nl)):(await l(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),n(BA))}catch(h){i({errorModalData:{error:h,previousScreen:r||Ui}}),n(Ur)}finally{e(!1)}},disabled:!1,children:[d.jsx(Gh,{width:32,height:32})," Farcaster",t&&d.jsx(Qd,{}),c==="farcaster"&&d.jsx(Aet,{color:"gray",children:"Recent"})]})};let Aet=q(nc).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const ket=({status:t,passkeySignupFlow:e=!1,error:r,onRetry:n})=>d.jsx(Ht,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx($et,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(r instanceof Li){if(r.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(r.privyErrorCode===ee.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:e5,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&n?{label:"Retry",onClick:n}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),n0={component:()=>{let{app:t,data:e,setModalData:r,navigate:n}=je(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=Te(),{user:l,logout:c}=Dt(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[h,f]=x.useState("loading"),[p,g]=x.useState(null),m=x.useRef([]),w=b=>{m.current=[b,...m.current]};x.useEffect(()=>()=>{m.current.forEach(b=>clearTimeout(b)),m.current=[]},[]);let y=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(b){g(b),f("error")}};return x.useEffect(()=>{if(h==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void w(setTimeout(()=>{n(qf)},900));if(!eh(l,t==null?void 0:t.embeddedWallets))return void w(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},Br));w(setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:b=>{console.error(b),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:b,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(vu)},900))}},[l,h]),x.useEffect(()=>{y()},[]),d.jsx(ket,{status:h,passkeySignupFlow:u,error:p,onRetry:y})}};let $et=q.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const Iet=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:r,onLogin:n})=>d.jsx(Ht,{title:t,subtitle:e,icon:e5,primaryCta:{label:"Create new account",onClick:r},secondaryCta:{label:"Log in with a passkey",onClick:n},watermark:!0}),Tet={component:()=>{let{enabled:t,token:e}=Ws(),{navigate:r,setModalData:n}=je(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Te();return d.jsx(Iet,{onSignup:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:n0,onErrorNavigateTo:Ur}}),r(nl)):(await i({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!0}}),r(n0))},onLogin:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:n0,onErrorNavigateTo:Ur}}),r(nl)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(n0))}})}},Nne=()=>{let{enabled:t,token:e}=Ws(),{navigate:r,setModalData:n,app:i,data:s}=je(),{initLoginWithPasskey:o}=Te(),a=()=>{i.loginConfig.passkeysForSignupEnabled?r(Tet):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:n0,onErrorNavigateTo:Ur}}),r(nl)):(await o({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(n0)))()};return x.useMemo(()=>{var c;let l=(c=s==null?void 0:s.login)==null?void 0:c.loginMethods;return l?l.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,h])=>h).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?d.jsxs(Hr,{onClick:a,children:[d.jsx(IS,{})," Continue with passkey"]}):d.jsx(pg,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Pet=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:x4e.map(r=>d.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code))}),sx=x.forwardRef((t,e)=>{let{app:r}=je(),[n,i]=x.useState(!1),{accountType:s}=Xd(),[o,a]=x.useState(""),[l,c]=x.useState((r==null?void 0:r.intl.defaultCountry)??"US"),u=cv(o,l),h=b4e(l),f=E4e(l),p=cS(l),g=!u,[m,w]=x.useState(!1),y=p.length,b=E=>{let O=E.target.value;c(O),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:M8(o,O),countryCode:O,isValid:cv(o,l)})},v=(E,O)=>{try{let N=E.replace(/\D/g,"")===o.replace(/\D/g,"")?E:h.input(E);a(N),t.onChange&&t.onChange({rawPhoneNumber:N,qualifiedPhoneNumber:M8(E,O),countryCode:O,isValid:cv(E,O)})}catch(N){console.error("Error processing phone number:",N)}},A=()=>{w(!0);let E=M8(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:E,countryCode:l,isValid:cv(o,l)}).finally(()=>w(!1))};return x.useEffect(()=>{if(t.defaultValue){let E=C4e(t.defaultValue);h.reset(),b({target:{value:E.countryCode}}),v(E.phone,E.countryCode)}},[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(Net,{children:d.jsxs(Oet,{$callingCodeLength:y,$stacked:t.stacked,children:[d.jsx(Pet,{value:l,onChange:b}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:E=>{v(E.target.value,l)},onKeyUp:E=>{E.key==="Enter"&&A()},value:o,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(H4,{isSubmitting:m,onClick:A,disabled:g,children:"Submit"}):d.jsx(nc,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(ur,{loading:m,loadingText:null,onClick:A,disabled:g,children:"Submit"}):null]})});let Net=q.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),Oet=q.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const One=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=x.useRef(null),{authenticated:i}=Dt(),{navigate:s,setModalData:o,currentScreen:a,data:l}=je(),{initLoginWithSms:c}=Te(),{enabled:u,token:h}=Ws(),{whatsAppEnabled:f}=Xt();return d.jsxs(d.Fragment,{children:[d.jsx(hg,{$if:!t,children:d.jsx(sx,{ref:n,onSubmit:async function({qualifiedPhoneNumber:p}){var g;if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:(g=l==null?void 0:l.login)==null?void 0:g.disableSignup}),s(du)}catch(m){o({errorModalData:{error:m,previousScreen:a||Ui}}),s(Ur)}else o({captchaModalData:{callback:m=>{var w;return c({phoneNumber:p,captchaToken:m,withPrivyUi:!0,disableSignup:(w=l==null?void 0:l.login)==null?void 0:w.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:du,onErrorNavigateTo:Ur}}),s(nl)},defaultValue:r})}),d.jsx(hg,{$if:t,children:d.jsxs(Hr,{onClick:()=>{e(),setTimeout(()=>{var p;(p=n.current)==null||p.focus()},0)},children:[d.jsx(Yl,{children:d.jsx(JJ,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let Ret={apple:{logo:Lte,displayName:"Apple"},discord:{logo:Bte,displayName:"Discord"},github:{logo:Ute,displayName:"GitHub"},google:{logo:zte,displayName:"Google"},linkedin:{logo:qte,displayName:"LinkedIn"},spotify:{logo:Vte,displayName:"Spotify"},instagram:{logo:Wte,displayName:"Instagram"},twitter:{logo:Kte,displayName:"Twitter"},tiktok:{logo:Gte,displayName:"TikTok"},line:{logo:Hte,displayName:"LINE"}};const wn=({provider:t})=>{let{enabled:e,token:r}=Ws(),{navigate:n,setModalData:i,data:s}=je(),[o,a]=x.useState(!1),{initLoginWithOAuth:l}=Te(),{accountType:c}=Xd(),u=x.useMemo(()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?rx(c):null,[c]),{displayName:h,logo:f}=Ret[t];return d.jsxs(Hr,{onClick:()=>{var p;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!r?(i({captchaModalData:{callback:g=>{var m;return l(t,g,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Ur}}),n(nl)):l(t,void 0,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},disabled:o,children:[d.jsx(Yl,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&d.jsx(jet,{color:"gray",children:"Recent"})]})};let jet=q(nc).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function Rne(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const Met=({success:t,errorMessage:e,onRetry:r})=>{let n=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Ht,{title:n,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:Rne,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&r?{label:"Retry",onClick:r}:void 0,watermark:!0})},zb={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Dt(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=je(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:g,getAuthMeta:m}=Te(),[w,y]=x.useState(!1),[b,v]=x.useState(void 0),A=Ws();async function E(){var O,N,R,T,L,B,W,j,_,C,$,P,S,I;try{let D=await async function(){let F;if(!t){if(A.enabled&&A.status==="error")throw new z4(A.error,null,ee.CAPTCHA_FAILURE);return A.enabled&&A.status!=="success"&&(A.execute(),F=await A.waitForResult()),F}}();await u({captchaToken:D}),y(!0),f(!0)}catch(D){if((D==null?void 0:D.privyErrorCode)===ee.ALLOWLIST_REJECTED)return v(void 0),a(),void o(nx);if((D==null?void 0:D.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new Jw(D).toString()),v(void 0),a(),void o($2);if((D==null?void 0:D.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(_2);if((D==null?void 0:D.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((N=(O=D.data)==null?void 0:O.data)!=null&&N.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(T=(R=D.data)==null?void 0:R.data)==null?void 0:T.nonce,account:(B=(L=D.data)==null?void 0:L.data)==null?void 0:B.subject,telegramAuthResult:(W=m())==null?void 0:W.telegramAuthResult,telegramWebAppData:(j=m())==null?void 0:j.telegramWebAppData,displayName:($=(C=(_=D.data)==null?void 0:_.data)==null?void 0:C.account)==null?void 0:$.displayName,linkMethod:"telegram",embeddedWalletAddress:(I=(S=(P=D.data)==null?void 0:P.data)==null?void 0:S.otherUser)==null?void 0:I.embeddedWalletAddress}}),void o(Hf);let{retryable:F,detail:k}=xL(D);v({retryable:F,detail:k,message:"Authentication failed"})}}return x.useEffect(()=>{E()},[]),x.useEffect(()=>{if(!(r&&t&&w&&n))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let N=setTimeout(()=>{o(qf)},Br);return()=>clearTimeout(N)}if(eh(n,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(vu)},Br);return()=>clearTimeout(N)}h();let O=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Br);return()=>clearTimeout(O)},[r,t,w,n]),d.jsx(Met,{success:w,errorMessage:b,onRetry:b!=null&&b.retryable?async()=>{var O,N;try{v(void 0),(O=l==null?void 0:l.telegramAuthModalData)!=null&&O.seamlessAuth||await c(void 0,(N=l==null?void 0:l.login)==null?void 0:N.disableSignup),await E()}catch(R){let{retryable:T,detail:L}=xL(R);v({retryable:T,detail:L,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},jne=()=>{let{enabled:t,token:e}=Ws(),{navigate:r,setModalData:n,data:i}=je(),[s,o]=x.useState(!1),{initLoginWithTelegram:a}=Te(),{accountType:l}=Xd();async function c(u){var h;try{await a(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(zb)}catch(f){console.error(f),o(!1)}}return d.jsxs(Hr,{onClick:async function(){if(o(!0),t&&!e)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Ur}}),void r(nl);await c(e)},disabled:s,children:[d.jsx(Rne,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(Det,{color:"gray",children:"Recent"})]})};let Det=q(nc).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const Mne=({onClick:t,text:e})=>d.jsxs(Hr,{onClick:t,children:[d.jsx(Yl,{children:d.jsx(xSe,{})}),d.jsx(jd,{children:e})]}),Dne=({onClick:t,text:e,icon:r})=>d.jsxs(Hr,{onClick:t,children:[d.jsx(Yl,{children:r}),d.jsx(jd,{children:e})]}),Fne=({connectOnly:t})=>{var yt;let{closePrivyModal:e}=Te(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=je(),o=Xt(),a=r==null?void 0:r.login,l=o.appearance.walletList,c=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=Xd(),{wallets:p}=Cne({walletList:l,walletChainType:c}),g=x.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?rx(u):null,[u]),{email:m,sms:w,google:y,twitter:b,discord:v,github:A,spotify:E,instagram:O,tiktok:N,line:R,linkedin:T,apple:L,wallet:B,farcaster:W,telegram:j}=x.useMemo(()=>a!=null&&a.loginMethods?_4e(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:_}=o.loginMethods,C=[m&&"email",w&&"sms",y&&"google",b&&"twitter",v&&"discord",A&&"github",E&&"spotify",O&&"instagram",N&&"tiktok",R&&"line",T&&"linkedin",L&&"apple",W&&"farcaster",j&&"telegram"].filter(ce=>!!ce),$=C.length>0,P=x.useMemo(()=>B&&!$?"web3-first":B&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[B,$,o==null?void 0:o.appearance.loginGroupPriority]),S=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[I,D]=x.useState("default"),[F,k]=x.useState(P5({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(yt=a==null?void 0:a.prefill)==null?void 0:yt.type}));x.useEffect(()=>{var ce;k(P5({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(ce=a==null?void 0:a.prefill)==null?void 0:ce.type}))},[m,w,u]);let z=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};i.current=z;let V=[];h&&B?V.push(h):g!=null&&g.loginMethod&&C.includes(g.loginMethod)&&V.push(g.loginMethod);let M=ce=>{var Xe,Ke;if(ce==="email")return d.jsx(Une,{isEditable:F==="email",setIsEditable:()=>{k("email")},defaultValue:((Xe=a==null?void 0:a.prefill)==null?void 0:Xe.type)==="email"?a.prefill.value:void 0},ce);if(ce==="sms")return d.jsx(One,{isEditable:F==="sms",setIsEditable:()=>{k("sms")},defaultValue:((Ke=a==null?void 0:a.prefill)==null?void 0:Ke.type)==="phone"?a.prefill.value:void 0},ce);if(ce==="apple")return d.jsx(wn,{provider:"apple"},ce);if(ce==="discord")return d.jsx(wn,{provider:"discord"},ce);if(ce==="farcaster")return d.jsx(Pne,{},ce);if(ce==="github")return d.jsx(wn,{provider:"github"},ce);if(ce==="google")return d.jsx(wn,{provider:"google"},ce);if(ce==="linkedin")return d.jsx(wn,{provider:"linkedin"},ce);if(ce==="tiktok")return d.jsx(wn,{provider:"tiktok"},ce);if(ce==="line")return d.jsx(wn,{provider:"line"},ce);if(ce==="spotify")return d.jsx(wn,{provider:"spotify"},ce);if(ce==="instagram")return d.jsx(wn,{provider:"instagram"},ce);if(ce==="twitter")return d.jsx(wn,{provider:"twitter"},ce);if(ce==="telegram")return d.jsx(jne,{},ce);let $e=p.findIndex(({id:kt})=>kt===ro.normalize(ce)),De=f==="solana"?"solana-only":"ethereum-only";return d.jsx(FA,{recent:!0,index:$e,data:{wallets:p,walletChainType:De,handleWalletClick(kt){n(ht=>({...ht,externalConnectWallet:{walletList:l,walletChainType:De,preSelectedWalletId:kt.id}})),s(t?LA:Ub)}}})},G=p.filter(ce=>ce.id!==ro.normalize(h||"")),Z=G.map((ce,$e)=>d.jsx(FA,{index:$e,data:{walletChainType:c,wallets:G,handleWalletClick(De){n(Xe=>({...Xe,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:De.id}})),s(t?LA:Ub)}}},ce.id)),K=C.filter(ce=>ce!==(g==null?void 0:g.loginMethod)).flatMap(M),re=V.flatMap(M);P==="web3-first"&&I==="default"?Z.unshift(...re):P==="web2-first"&&K.unshift(...re);let le=I==="web2-overflow"?()=>D("default"):void 0,ne=C.filter(ce=>ce!=="email"&&ce!=="sms"),ae=Bet({priority:P,email:m,sms:w,social:ne}),me=Uet({priority:P,email:m,sms:w,social:ne}),ue=d.jsx(Mne,{text:zet({priority:P}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(Ub)}}),de=d.jsx(Dne,{text:ae,icon:me,onClick:()=>D("web2-overflow")}),Je=S?0:1,ie=B&&Z.length>0,be=K.length===0&&B&&Z.length===0,ve=5-(ie?1:0),se=I==="default"&&(o==null?void 0:o.appearance.logo),ye=I==="default"&&o.appearance.loginMessage;return d.jsxs(Ht,{title:o.appearance.landingHeader,icon:se?d.jsx(dne,{}):void 0,iconVariant:se?"logo":void 0,onClose:z,showClose:!0,onBack:le,showBack:!!le,helpText:o||_&&I==="default"?d.jsxs(d.Fragment,{children:[_&&I==="default"&&d.jsx(Nne,{}),o&&d.jsx(ZI,{app:o})]}):void 0,watermark:!0,children:[ye&&(typeof o.appearance.loginMessage=="string"?d.jsx(Fet,{children:o.appearance.loginMessage}):d.jsx(Let,{children:o.appearance.loginMessage})),d.jsx(vre,{$colorScheme:o.appearance.palette.colorScheme,children:I==="default"&&P==="web2-first"?d.jsxs(d.Fragment,{children:[K.length>ve?K.slice(0,ve-1):K,K.length>ve&&de,ie&&ue,be&&d.jsx(XL,{chainType:o.appearance.walletChainType})]}):I==="default"&&P==="web3-first"?d.jsxs(d.Fragment,{children:[B&&d.jsxs(d.Fragment,{children:[Z.length>ve?Z.slice(0,ve-1):Z,Z.length>ve&&ue]}),K.length>Je&&de,K.length===Je&&K[0],be&&d.jsx(XL,{chainType:o.appearance.walletChainType})]}):I==="web2-overflow"?d.jsx(d.Fragment,{children:P==="web3-first"?K:K.slice(3)}):null})]})};let Fet=q.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Let=q.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),Bet=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",Uet=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?d.jsx(gSe,{}):e&&r?d.jsx(KXe,{}):e?d.jsx(GS,{}):r?d.jsx(JJ,{}):null,zet=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const P5=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms",Lne={component:()=>{let{app:t}=je();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(qne,{connectOnly:!0}):d.jsx(Fne,{connectOnly:!0})}},Wet=({contactMethod:t,authFlow:e,appName:r="Privy",whatsAppEnabled:n=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=x.useState(tB);x.useEffect(()=>{a||p(tB)},[a]);let g=async m=>{var E;m.preventDefault();let w=m.currentTarget.value.replace(" ","");if(w==="")return;if(isNaN(Number(w)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let y=Number((E=m.currentTarget.name)==null?void 0:E.charAt(5)),b=[...w||[""]].slice(0,eB-y),v=[...f.slice(0,y),...b,...f.slice(y+b.length)];p(v);let A=Math.min(Math.max(y+b.length,0),eB-1);if(!isNaN(Number(m.currentTarget.value))){let O=document.querySelector(`input[name=code-${A}]`);O==null||O.focus()}if(v.every(O=>O&&!isNaN(+O))){let O=document.querySelector(`input[name=code-${A}]`);O==null||O.blur(),await(s==null?void 0:s(v.join("")))}};return d.jsx(Ht,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(rB,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(rB,{children:t})," for a",n?" WhatsApp":""," message from ",r," and enter your code below."]}),icon:e==="email"?O4:Pd,onBack:i,showBack:!0,helpText:d.jsxs(Yet,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(Zet,{children:[d.jsx(NGe,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(pg,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(Vet,{children:d.jsx(AJe,{children:d.jsxs(Get,{children:[d.jsx("div",{children:f.map((m,w)=>d.jsx("input",{name:`code-${w}`,type:"text",value:f[w],onChange:g,onKeyUp:y=>{y.key==="Backspace"&&(b=>{if(h==null||h(),p([...f.slice(0,b),"",...f.slice(b+1)]),b>0){let v=document.querySelector(`input[name=code-${b-1}]`);v==null||v.focus()}})(w)},inputMode:"numeric",autoFocus:w===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Sr?"one-time-code":"off"},w))}),d.jsx(Ket,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let eB=6,tB=Array(6).fill("");var Hm,qm,Het=((Hm=Het||{})[Hm.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Hm[Hm.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Hm),qet=((qm=qet||{})[qm.EMAIL=0]="EMAIL",qm[qm.SMS=1]="SMS",qm);const du={component:()=>{var B,W,j;let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=je(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=Te(),{authenticated:p,logout:g,user:m}=Dt(),{whatsAppEnabled:w}=Xt(),[y,b]=x.useState(!1),[v,A]=x.useState(null),[E,O]=x.useState(null),[N,R]=x.useState(0);s.current=()=>null;let T=(B=c())!=null&&B.email?0:1,L=T===0?((W=c())==null?void 0:W.email)||"":((j=c())==null?void 0:j.phoneNumber)||"";return x.useEffect(()=>{if(N){let _=setTimeout(()=>{R(N-1)},1e3);return()=>clearTimeout(_)}},[N]),x.useEffect(()=>{if(p&&y&&m){if(t!=null&&t.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let _=setTimeout(()=>{e(qf)},900);return()=>clearTimeout(_)}if(eh(m,t.embeddedWallets)){let _=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"AwaitingPasswordlessCodeScreen"}}),g()},callAuthOnSuccessOnClose:!0}}),e(vu)},900);return()=>clearTimeout(_)}{h();let _=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Br);return()=>clearTimeout(_)}}},[p,y,m]),x.useEffect(()=>{if(v&&E===0){let _=setTimeout(()=>{A(null),O(null);let C=document.querySelector("input[name=code-0]");C==null||C.focus()},1400);return()=>clearTimeout(_)}},[v,E]),d.jsx(Wet,{contactMethod:L,authFlow:T===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:w,onBack:()=>n(),onCodeSubmit:async _=>{var C,$,P,S,I,D,F,k,z,V;try{await u(_),b(!0)}catch(M){if(M instanceof to&&M.privyErrorCode===ee.INVALID_CREDENTIALS)A("Invalid or expired verification code"),O(0);else if(M instanceof to&&M.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)A(M.message);else{if(M instanceof to&&M.privyErrorCode===ee.USER_LIMIT_REACHED)return console.error(new Jw(M).toString()),void e($2);if(M instanceof to&&M.privyErrorCode===ee.USER_DOES_NOT_EXIST)return void e(_2);if(M instanceof to&&M.privyErrorCode===ee.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:M,previousScreen:r??du}}),void e(Ur,!1);if(M instanceof to&&M.privyErrorCode===ee.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:M}}),void e(Lne,!1);if(M instanceof to&&M.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED&&(($=(C=M.data)==null?void 0:C.data)!=null&&$.nonce))return i({accountTransfer:{nonce:(S=(P=M.data)==null?void 0:P.data)==null?void 0:S.nonce,account:L,displayName:(F=(D=(I=M.data)==null?void 0:I.data)==null?void 0:D.account)==null?void 0:F.displayName,linkMethod:T===0?"email":"sms",embeddedWalletAddress:(V=(z=(k=M.data)==null?void 0:k.data)==null?void 0:z.otherUser)==null?void 0:V.embeddedWalletAddress}}),void e(Hf);A("Issue verifying code"),O(0)}}},onResend:async()=>{R(30),T===0?await a():await l()},errorMessage:v||void 0,success:y,resendCountdown:N,onInvalidInput:_=>{A(_),O(1)},onClearError:()=>{E===1&&(A(null),O(null))}})}};let Vet=q.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),Get=q.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Ket=q.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),Yet=q.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),Zet=q.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),rB=q.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const Bne=x.forwardRef((t,e)=>{let[r,n]=x.useState(t.defaultValue||""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l}=Dt(),{initLoginWithEmail:c}=Te(),{navigate:u,setModalData:h,currentScreen:f,data:p}=je(),{enabled:g,token:m}=Ws(),[w,y]=x.useState(!1),{accountType:b}=Xd(),v=Xt();x.useEffect(()=>{var N,R;!r&&v.disablePlusEmails&&((N=p==null?void 0:p.inlineError)==null?void 0:N.error)instanceof Li&&((R=p==null?void 0:p.inlineError)==null?void 0:R.error.privyErrorCode)===ee.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[r]);let A=Qte(r),E=o||!A,O=()=>{h({login:p==null?void 0:p.login,inlineError:void 0}),!g||m||l?(N=>{var R;a(!0),c({email:r,captchaToken:N,disableSignup:(R=p==null?void 0:p.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(du)}).catch(T=>{h({errorModalData:{error:T,previousScreen:f||Ui}}),u(Ur)}).finally(()=>{a(!1)})})(m):(h({captchaModalData:{callback:N=>c({email:r,captchaToken:N,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:du,onErrorNavigateTo:Ur}}),u(nl))};return d.jsxs(d.Fragment,{children:[d.jsxs(Jet,{children:[i&&d.jsx(uu,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(Qet,{stacked:t.stacked,$error:!!i,children:[d.jsx(Xet,{children:d.jsx(GS,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:N=>n(N.target.value),onKeyUp:N=>{N.key==="Enter"&&O()},value:r,autoComplete:"email"}),b!=="email"||w?t.stacked?d.jsx("span",{}):d.jsx(H4,{isSubmitting:o,onClick:O,disabled:E,children:"Submit"}):d.jsx(nc,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(ur,{loadingText:null,loading:o,disabled:E,onClick:O,style:{width:"100%"},children:"Submit"}):null]})});let Jet=xne,Qet=FXe,Xet=q(Yl).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const Une=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(hg,{$if:!t,children:d.jsx(Bne,{ref:n,defaultValue:r})}),d.jsx(hg,{$if:t,children:d.jsxs(Hr,{onClick:()=>{e(),setTimeout(()=>{var i;(i=n.current)==null||i.focus()},0)},children:[d.jsx(Yl,{children:d.jsx(GS,{})}),"Continue with Email"]})})]})},zne=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(R4,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function UA(t){var r,n;let e=t.toLowerCase();return!!((n=(r=window==null?void 0:window.webkit)==null?void 0:r.messageHandlers)!=null&&n.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const ett=({walletLogo:t,success:e,errorMessage:r,title:n,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Ht,{title:n,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},primaryCta:r===sd.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(r!=null&&r.retryable)&&l<c?{label:"Retry",onClick:s,disabled:!(r!=null&&r.retryable)||l>=c}:!e&&r&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),zA={component:()=>{var O,N,R,T,L,B,W;let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:o}=je(),{walletConnectionStatus:a,closePrivyModal:l}=Te(),[c,u]=x.useState(void 0),[h,f]=x.useState(0),p=yu(((O=a==null?void 0:a.connector)==null?void 0:O.walletClientType)||"unknown"),g=(a==null?void 0:a.status)==="connected",m=(a==null?void 0:a.status)==="switching_to_supported_chain";x.useEffect(()=>{var j,_;if(g){let C;if((j=s==null?void 0:s.externalConnectWallet)!=null&&j.onCompleteNavigateTo){let $=s.externalConnectWallet.onCompleteNavigateTo,P=(_=a.connectedWallet)==null?void 0:_.address;C=setTimeout(()=>{var S,I;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:P}}),r($({address:P,walletClientType:(S=a.connector)==null?void 0:S.walletClientType,walletChainType:(I=a.connector)==null?void 0:I.chainType}))},Br)}else C=setTimeout(l,Br);return()=>clearTimeout(C)}},[g]),x.useEffect(()=>{a!=null&&a.connectError&&(j=>{u(Sne(j))})(a==null?void 0:a.connectError)},[a]);let w=((N=a==null?void 0:a.connector)==null?void 0:N.connectorType)||"injected",y=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",b=((T=p==null?void 0:p.metadata)==null?void 0:T.shortName)||(p==null?void 0:p.name)||((L=a==null?void 0:a.connector)==null?void 0:L.walletBranding.name)||"Browser Extension",v=((B=p==null?void 0:p.image_url)==null?void 0:B.md)||((W=a==null?void 0:a.connector)==null?void 0:W.walletBranding.icon)||(j=>d.jsx(VI,{...j})),A=b==="Browser Extension"?b.toLowerCase():b;t=g?`Successfully connected with ${A}`:c?c.message:m?"Switching networks":`Waiting for ${A}`;let E="Dont see your wallet? Check your other browser windows.";return g?E="Youre good to go!":h>=2&&c?E="Unable to connect wallet":c?E=c.detail:m?E="Switch your wallet to the requested network.":y==="metamask"&&Sr?E="Click to continue to open and connect MetaMask.":y==="metamask"?E="For the best experience, connect only one wallet at a time.":w==="wallet_connect_v2"?E="Open your mobile wallet app to continue":w==="coinbase_wallet"&&(E="Open the Coinbase app on your phone to continue."),d.jsx(ett,{walletName:b,walletLogo:v,success:g,errorMessage:c,title:t,subtitle:E,onRetry:()=>{f(h+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===n?void 0:e,numRetries:h,maxRetries:2})}},Wne=q.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),T0=({children:t,variant:e="default",icon:r})=>{let n=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(rtt,{children:[d.jsx(ttt,{$variant:e,"data-variant":e,children:(()=>{if(r)return Pe.isValidElement(r)?Pe.cloneElement(r,{stroke:n(),strokeWidth:2}):r;switch(e){case"success":default:return d.jsx(cw,{size:12,stroke:n(),strokeWidth:3});case"error":return d.jsx(ESe,{size:12,stroke:n(),strokeWidth:3})}})()}),t]})};let ttt=q.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),rtt=q.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const ntt=({walletName:t,installLink:e,title:r,subtitle:n="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=r||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Ht,{title:o,subtitle:n,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(pg,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(Wne,{children:[d.jsx(T0,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(pg,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(T0,{children:"Set up your first wallet"}),d.jsx(T0,{children:"Store your recovery phrase in a safe place!"})]})})},itt={component:()=>{let{navigateBack:t,data:e}=je();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:r}=e.installWalletModalData;return d.jsx(ntt,{walletName:r.name,installLink:r.installLink,onReload:()=>{window.location.reload()},onBack:t})}},stt=({title:t,subtitle:e,buttonText:r,buttonHref:n,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Ht,{title:t,subtitle:e,primaryCta:{label:r,onClick:()=>{n&&window.open(n,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),ott={component:()=>{let{ready:t}=Dt(),{data:e}=je(),[r,n]=x.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!r,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),r&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(stt,{title:c.title,subtitle:c.description,buttonText:r?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout(()=>n(!0),1e3)}})}},wl=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{var m,w,y;let s,{navigate:o,setModalData:a}=je(),{connectWallet:l}=Te(),c=Xd(),u=yu(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=cre({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(n?zA:Gc)):Sr?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(ott)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(itt))}:i.connectorType!=="coinbase_wallet"||((m=i.coinbaseWalletConfig.preference)==null?void 0:m.options)!=="eoaOnly"||!Sr||f||Jte()?()=>{(!UA(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),o(n?zA:Gc))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let g=e||((w=u==null?void 0:u.metadata)==null?void 0:w.shortName)||(u==null?void 0:u.name)||i.walletClientType;return d.jsxs(att,{onClick:s,children:[d.jsx(zne,{icon:r||((y=u==null?void 0:u.image_url)==null?void 0:y.md),name:g}),d.jsx("span",{children:g}),d.jsxs(ltt,{id:"chip-container",children:[(c==null?void 0:c.walletClientType)===h&&(c==null?void 0:c.chainType)===i.chainType?d.jsx(nB,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(nB,{color:"gray",children:"Solana"})]})]})};let att=q(Hr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),nB=q(nc).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),ltt=q.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const ctt=["coinbase_wallet","base_account"];let utt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const dtt=["safe"],htt=["phantom","backpack","solflare","universal_profile"],Hne=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var f,p;let a=[],l=[],c=[],u=r.filter(g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana"),h=u.find(g=>g.connectorType==="wallet_connect_v2");for(let[g,m]of(o?[o.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,connectorType:v,walletClientType:A})=>b!=="solana"&&(A==="uniswap_wallet_extension"||A==="uniswap_extension"?!i.includes("uniswap"):A==="crypto.com_wallet_extension"||A==="crypto.com_onchain"?!i.includes("cryptocom"):v==="injected"&&!i.includes(A))).entries()){let{walletClientType:b,walletBranding:v,chainType:A}=y;(b==="unknown"?l:a).push(d.jsx(wl,{connectOnly:n,provider:b,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${b}-${A}-${w}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,walletClientType:v})=>{if(b==="solana")return e!=="ethereum-only"&&!i.includes(v)}).entries()){let{walletClientType:b,walletBranding:v,chainType:A}=y;(b==="unknown"?l:a).push(d.jsx(wl,{connectOnly:n,provider:b,logo:v.icon,displayName:v.name,connector:y},`${g}-${m}-${b}-${A}-${w}`))}if(htt.includes(m)){let w=u.find(y=>y.connectorType==="injected"&&y.walletClientType===m||y.connectorType===m);if(w&&a.push(d.jsx(wl,{connectOnly:n,provider:m,connector:w},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(d.jsx(wl,{connectOnly:n,provider:m,connector:y},`${m}-solana`))}}else if(utt.includes(m)){let w=u.find(y=>m==="uniswap"?y.walletClientType==="uniswap_wallet_extension"||y.walletClientType==="uniswap_extension":m==="cryptocom"?y.walletClientType==="crypto.com_wallet_extension"||y.walletClientType==="crypto.com_onchain":y.connectorType==="injected"&&y.walletClientType===m);if(s&&!w&&(w=h),w&&a.push(d.jsx(wl,{connectOnly:n,provider:m,connector:w,logo:w.connectorType==="injected"?w.walletBranding.icon:void 0,displayName:w.connectorType==="injected"?w.walletBranding.name:void 0},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(d.jsx(wl,{connectOnly:n,provider:m,connector:y},`${m}-solana`))}}else if(ctt.includes(m)){let w=u.find(({connectorType:y})=>y===m);w&&a.push(d.jsx(wl,{connectOnly:n,provider:m,connector:w,displayName:w.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:w.walletClientType==="coinbase_wallet"?tre:rre},`${g}-${m}`))}else if(dtt.includes(m))h&&c.push(d.jsx(wl,{connectOnly:n,provider:m,connector:h},`${g}-${m}`));else if(m==="wallet_connect")h&&c.push(d.jsx(wl,{connectOnly:n,provider:m,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${g}-${m}`));else if(m===(o==null?void 0:o.wallet)){let w=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),y=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||w||y){let b=u.find(({walletClientType:v})=>v===m);b&&a.push(d.jsx(wl,{connectOnly:n,provider:m,displayName:(f=b.walletBranding)==null?void 0:f.name,logo:(p=b.walletBranding)==null?void 0:p.icon,connector:b},`${g}-${m}`))}}}return[...l,...a,...c]},qne=({connectOnly:t})=>{var W,j,_;let{closePrivyModal:e,connectors:r}=Te(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=je(),{appearance:{palette:{colorScheme:o}}}=Xt(),{accountType:a,walletClientType:l,chainType:c}=Xd(),u=x.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?rx(a):null,[a]),h=((W=n.loginMethodsAndOrder)==null?void 0:W.primary)??[],f=((j=n.loginMethodsAndOrder)==null?void 0:j.overflow)??[],p=x.useMemo(()=>[...h,...f],[h,f]),g=n.loginMethods.passkey,m=s==null?void 0:s.login,w=[];l&&p.includes(l)?w.push(l):a&&p.includes(u==null?void 0:u.loginMethod)&&w.push(u==null?void 0:u.loginMethod);let[y,b]=x.useState("default"),[v,A]=x.useState(P5({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(_=m==null?void 0:m.prefill)==null?void 0:_.type}));x.useEffect(()=>{var C;A(P5({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:(C=m==null?void 0:m.prefill)==null?void 0:C.type}))},[p,a]),x.useEffect(()=>{a==="phone"&&A("sms");let C=p.indexOf("sms"),$=p.indexOf("email");C>-1&&C<$&&A("sms")},[a,h,f]);let E=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{b("default")},150)};i.current=E;let O=C=>{var $,P;return C==="email"?d.jsx(Une,{isEditable:v==="email",setIsEditable:()=>{A("email")},defaultValue:(($=m==null?void 0:m.prefill)==null?void 0:$.type)==="email"?m.prefill.value:void 0},C):C==="sms"?d.jsx(One,{isEditable:v==="sms",setIsEditable:()=>{A("sms")},defaultValue:((P=m==null?void 0:m.prefill)==null?void 0:P.type)==="phone"?m.prefill.value:void 0},C):C==="apple"?d.jsx(wn,{provider:"apple"},C):C==="discord"?d.jsx(wn,{provider:"discord"},C):C==="farcaster"?d.jsx(Pne,{},C):C==="github"?d.jsx(wn,{provider:"github"},C):C==="google"?d.jsx(wn,{provider:"google"},C):C==="linkedin"?d.jsx(wn,{provider:"linkedin"},C):C==="spotify"?d.jsx(wn,{provider:"spotify"},C):C==="instagram"?d.jsx(wn,{provider:"instagram"},C):C==="tiktok"?d.jsx(wn,{provider:"tiktok"},C):C==="line"?d.jsx(wn,{provider:"line"},C):C==="twitter"?d.jsx(wn,{provider:"twitter"},C):C==="telegram"?d.jsx(jne,{},C):C.startsWith("privy:")?d.jsx(aXe,{appId:C.replace("privy:","")},C):Hne({walletList:n.appearance.walletList,walletChainType:(m==null?void 0:m.walletChainType)??n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:p,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:C,chainType:c??"ethereum"}})},N=w.flatMap(O),R=h.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap(O),T=f.filter(C=>C!==l&&C!==(u==null?void 0:u.loginMethod)).flatMap(O),[L,B]=((C,$)=>{let P=[],S=[];for(let[I,D]of C.entries())I<$?P.push(D):S.push(D);return[P,S]})([...N,...R,...T],ftt({primary:R.length+N.length,overflow:T.length}));return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{title:n.appearance.landingHeader,onClose:E,backFn:y==="default"?void 0:()=>{b("default")}}),y==="default"&&d.jsx(ptt,{}),y==="default"&&(typeof n.appearance.loginMessage=="string"?d.jsx(wZe,{children:n.appearance.loginMessage}):n.appearance.loginMessage),d.jsx(mZe,{style:{overflow:"hidden"},children:d.jsxs(vre,{$colorScheme:o,children:[y==="default"&&d.jsxs(d.Fragment,{children:[L,B.length>0&&d.jsx(Dne,{text:"More options",icon:d.jsx(TGe,{}),onClick:()=>b("overflow")})]}),y==="overflow"&&d.jsx(d.Fragment,{children:B}),g&&y==="default"&&d.jsx(Nne,{})]})}),n&&d.jsx(ZI,{app:n}),d.jsx(Yt,{})]})};let ftt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,ptt=q(iXe).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Ui={component:()=>{let{app:t}=je();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(qne,{connectOnly:!1}):d.jsx(Fne,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},Vne={component:()=>{let[t,e]=x.useState(null),[r,n]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(""),{authenticated:l,user:c}=Dt(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:g}=Te(),{app:m,navigate:w,data:y,onUserCloseViaDialogOrKeybindRef:b}=je(),{onSuccess:v,onFailure:A}=y.setWalletPassword,E=ea(c),O=(t==null?void 0:t.recoveryMethod)==="user-passcode",N=(E==null?void 0:E.recoveryMethod)==="user-passcode";x.useEffect(()=>{l||(w(Ui),A(new Sxe("User must be authenticated before setting a password on a Privy wallet")))},[l]);let R=()=>i?(A(i),void p({shouldCallAuthOnSuccess:!1})):O?(v(t),void p({shouldCallAuthOnSuccess:!1})):(A(new xd("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return b.current=R,d.jsx(cne,{appName:(m==null?void 0:m.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:N,onPasswordGenerate:()=>a(lne()),onPasswordChange:a,onSubmit:async()=>{O?(v(t),p({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let T=await u.getAccessToken();if(T&&c&&(E!=null&&E.address)&&o&&h)try{g({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}});let{entropyId:L,entropyIdVerifier:B}=ni(c);if(!(await h.setRecovery({accessToken:T,entropyId:L,entropyIdVerifier:B,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new xd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"error setting password"}});let W=await f(),j=ea(W);if(!j)return s(new xd("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N,reason:"wallet disconnected"}});e(j),g({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:E.address,existingRecoveryMethod:E.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:N}})}catch(L){console.warn(L),s(L instanceof Error?L:Error("Error setting password on privy wallet")),g({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:E.address,reason:L}})}})(),n(!1))},onClose:R})}},gtt=({onClose:t,onProceed:e})=>d.jsx(Ht,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:VS,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),mtt={component:()=>{let{closePrivyModal:t}=Te(),{data:e,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=je(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new xd("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return n.current=s,d.jsx(gtt,{onClose:s,onProceed:()=>{r(Vne)}})}},ytt={component:()=>{let[t,e]=x.useState(!0),{authenticated:r,user:n}=Dt(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=Te(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=je(),[h,f]=x.useState(void 0),[p,g]=x.useState(""),[m,w]=x.useState(!1),{entropyId:y,entropyIdVerifier:b,onCompleteNavigateTo:v,onSuccess:A,onFailure:E}=c.recoverWallet,O=(N="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),E(typeof N=="string"?new xd(N):N)};return u.current=O,x.useEffect(()=>{if(!r)return O("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),d.jsxs(gr,{children:[d.jsx(gr.Header,{icon:uf,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:O}),d.jsx(gr.Body,{children:d.jsx(wtt,{children:d.jsxs("div",{children:[d.jsxs(J4,{children:[d.jsx(dT,{type:t?"password":"text",onChange:N=>(R=>{R&&f(R)})(N.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),d.jsx(X4,{style:{right:"0.75rem"},children:t?d.jsx(ex,{onClick:()=>e(!1)}):d.jsx(tx,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(vtt,{children:p})]})})}),d.jsxs(gr.Footer,{children:[d.jsx(gr.HelpText,{children:d.jsxs($Je,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(gr.Actions,{children:d.jsx(btt,{loading:m||!i,disabled:!h,onClick:async()=>{w(!0);let N=await a.getAccessToken(),R=Lo(n,y);if(!N||!R||h===null)return O("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:N,entropyId:y,entropyIdVerifier:b,recoveryPassword:h})),g(""),v?l(v):s({shouldCallAuthOnSuccess:!1}),A==null||A(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(T){(function(L){return Jg(L)&&(L.type==="invalid_recovery_pin"||L.type==="invalid_request_arguments")})(T)?g("Invalid recovery password, please try again."):g("An error has occurred, please try again.")}finally{w(!1)}},$hideAnimations:!y&&m,children:"Recover your account"})}),d.jsx(gr.Watermark,{})]})]})}};let wtt=q.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),vtt=q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),btt=q(ur).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&jn(["&&{transition:none;}"]));const xtt={component:()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=je(),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(),[u,h]=x.useState(null),{create:f}=cT(),{authenticated:p,user:g}=Dt(),{closePrivyModal:m,isNewUserThisSession:w,initializeWalletProxy:y}=Te(),{onSuccess:b,onFailure:v,callAuthOnSuccessOnClose:A,shouldCreateEth:E,shouldCreateSol:O}=r.createWallet,[N,R]=x.useState(null),T=new Xi(async()=>{try{let L;if(E&&O)L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g}),L=await f({chainType:"solana",walletIndex:0,latestUser:L.user});else if(O)L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:g});else{if(!E)throw Error("Invalid args to create wallet");L=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g})}R(L),w?e(uT):(b(L),m({shouldCallAuthOnSuccess:A}))}catch(L){s(L.message)}});return x.useEffect(()=>{u||y(3e4).then(L=>h(L))},[u]),x.useEffect(()=>{if(!p||!g)return e(Ui),void v(Error("User must be authenticated before creating a Privy wallet"))},[p]),n.current=()=>null,d.jsx(cne,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!N&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{N&&N.account.recoveryMethod!=="user-passcode"?(v(new xd("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):N?(b(N),m({shouldCallAuthOnSuccess:A})):(v(new xd("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(lne()),onSubmit:async()=>(a(!0),T.execute().then(()=>new Promise(L=>setTimeout(L,250))).finally(()=>a(!1)))})}},Ett=q.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),Dd=q.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),hu=q.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),Ctt={component:()=>{var w;let{user:t}=Dt(),{client:e,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=Te(),s=je(),{entropyId:o,entropyIdVerifier:a}=(w=s.data)==null?void 0:w.recoverWallet,[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null);function g(){var y,b,v,A;if(!l){if(f)return(b=(y=s.data)==null?void 0:y.setWalletPassword)==null||b.onFailure(f),void i();if(!u)return(A=(v=s.data)==null?void 0:v.setWalletPassword)==null||A.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=g;let m=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(Pt,{onClose:g},"header"),d.jsx(Ett,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(Nf,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(hu,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(jd,{style:{minHeight:"2rem"}}),d.jsx(C5,{onClick:()=>p(null),children:"Try again"}),d.jsx(Yt,{})]}:{children:[d.jsx(Pt,{onClose:g},"header"),d.jsx(hte,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(hu,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(Dd,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(jd,{style:{minHeight:"2rem"}}),d.jsx(C5,{loading:l,disabled:m,onClick:()=>async function(){c(!0);try{let y=await e.getAccessToken(),b=Lo(t,o);if(!y||!r||!b)return;if(!(await r.setRecovery({accessToken:y,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:b.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let v=await n();if(!v)throw Error("Unable to set recovery on wallet");let A=Lo(v,b.address);if(!A)throw Error("Unabled to set recovery on wallet");h(!!v),setTimeout(()=>{var E,O;(O=(E=s.data)==null?void 0:E.setWalletPassword)==null||O.onSuccess(A),i()},Br)}catch(y){p(y)}finally{c(!1)}}(),children:u?"Success":"Confirm"}),d.jsx(Yt,{})]})}};function Gne({isCreatingWallet:t,skipSplashScreen:e}){return t?xtt:e?Vne:mtt}function Kne({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?Ctt:r||e.length===1?Gne({isCreatingWallet:t==="create",skipSplashScreen:n}):OA}function Yne(t){switch(t){case"user-passcode":return ytt;case"google-drive":case"icloud":return ene;default:throw Error("Recovery method not supported")}}const Zne=({children:t,theme:e})=>d.jsxs(_tt,{$theme:e,children:[d.jsx(hKe,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Att,{$theme:e,children:t})]});let _tt=q.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Att=q.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const Jne=jn(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),ox=q.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],Jne);let ktt=q(ox).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),$tt=q.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Stt=q.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),Itt=q.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),Ttt=q(gs).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Ptt=q(uu).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Ntt=q(rl).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const ax=({errMsg:t,balance:e,address:r,className:n,title:i,showCopyButton:s=!1})=>{let[o,a]=x.useState(!1);return x.useEffect(()=>{if(o){let l=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(l)}},[o]),d.jsxs("div",{children:[i&&d.jsx(Ttt,{children:i}),d.jsx(ktt,{className:n,$state:t?"error":void 0,children:d.jsxs($tt,{children:[d.jsxs(Stt,{children:[d.jsx(Rt,{address:r,showCopyIcon:!1}),e!==void 0&&d.jsx(Itt,{children:e})]}),s&&d.jsx(Ntt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(r).then(()=>a(!0)).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(cw,{size:14})]}:{children:["Copy",d.jsx(X3,{size:14})]})})]})}),t&&d.jsx(Ptt,{children:t})]})};function Qne({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=Te(),[s,o]=x.useState(0n),[a,l]=x.useState(!1),c=x.useMemo(()=>{let h=n||i[0];if(h)return ru({chain:n,transport:nu(cu(h,t,e))})},[n,t,e]),u=x.useCallback(async()=>{if(!r||!c)return;l(!0);let h=await c.getBalance({address:r}).catch(console.error);return h?(o(h),l(!1),h):void 0},[c,r,o]);return x.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const il="sdk_fiat_on_ramp_completed_with_status",mT=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await ru({chain:t,transport:nu(cu(t,n,r))}).readContract({address:i,abi:Ott,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let Ott=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const S2=Symbol("solana-funding-plugin"),Rtt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new Q("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),r(15e3)]);if(!c||!l)throw t("linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new Q("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await n(),h=a==="solana"?F6(u):NC(u);if(!h)throw t("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h};class jtt{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let r=await this.signMessage(Ri(e.params.message,"base64"));return{signature:Ri(r).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await pr())throw Error("User must be authenticated to use embedded Solana wallet");if(!await rst({address:this.address}))throw new Q("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,r,n){this.walletProxy=e,this.address=r,this.signMessage=n}}async function WA({tx:t,accessToken:e,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=_5(t,s),l=Md(t)?Ri(t.message.serialize()):t.serializeMessage(),{response:c}=await r.rpc({accessToken:e,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),u=Ri(c.data.signature,"base64");return t.addSignature(a,u),t}const Mtt=t=>t.reduce((e,r)=>!e||e.walletIndex<r.walletIndex?r:e,null);let iB=async({accessToken:t,appConfig:e,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw n("createWallet","onError",ee.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=ea(a);if(l>0&&!p)throw n("createWallet","onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw n("createWallet","onError",ee.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await sB({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});let g=lT(a,{chainType:h,walletIndex:l})[0];if(g)return{user:a,account:g};if(l===0&&!i)return sB({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});if(!i)throw n("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return Xre({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:r,recoverEmbeddedWallet:o,setUser:f})},sB=async({emitPrivyEvent:t,setModalData:e,openModal:r,chainType:n})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:n==="ethereum",shouldCreateSol:n==="solana"}}),r(vu)});const Xne=()=>{let t=Xt(),e=wu(),{setModalData:r}=je(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=Te();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:g,getAccessToken:m,initializeWalletProxy:w,user:y,privy:b,emitPrivyEvent:v,recoverEmbeddedWallet:A,setModalData:E,openModal:O,setUser:N,options:R,timeoutDuration:T,refreshSessionAndUser:L,chainType:B})=>{var $,P;let[W,j]=await Promise.all([w(T),m()]);if(!j||!y)throw v("createWallet","onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!W&&(($=g.customAuth)!=null&&$.enabled))throw v("createWallet","onError",ee.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(R&&"walletIndex"in R&&typeof R.walletIndex=="number"){if(g.embeddedWallets.mode==="user-controlled-server-wallets-only")throw v("createWallet","onError",ee.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return iB({accessToken:j,appConfig:g,privy:b,emitPrivyEvent:v,openModal:O,proxy:W,refreshSessionAndUser:L,recoverEmbeddedWallet:A,setModalData:E,user:y,walletIndex:R.walletIndex,chainType:B,setUser:N})}let _=R&&"createAdditional"in R&&R.createAdditional,C=lT(y,{chainType:B});if(C[0]&&!_)throw v("createWallet","onError",ee.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return iB({accessToken:j,appConfig:g,privy:b,emitPrivyEvent:v,openModal:O,proxy:W,recoverEmbeddedWallet:A,setModalData:E,user:y,walletIndex:(((P=Mtt(C))==null?void 0:P.walletIndex)??-1)+1,chainType:B,refreshSessionAndUser:L,setUser:N})})({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:n,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:r,openModal:o,setUser:s,options:h,timeoutDuration:Mte,chainType:u})}}};function Dtt(t){let{create:e}=Xne();return Yg("createWallet",t),{createWallet:async r=>{r&&"target"in r&&r&&(r=void 0);let{account:n}=await e({chainType:"ethereum",options:r});return n}}}const Ftt=()=>{let{user:t}=Dt(),{client:e,refreshSessionAndUser:r,initializeWalletProxy:n}=Te(),i=wu(),s=Xt();return{importWallet:x.useCallback(({privateKey:o})=>Rtt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,r,n,i])}},th=()=>{let{importWallet:t}=Ftt(),{createWallet:e}=Dtt();return{...x.useContext(Og),importWallet:t,createWallet:e}},yT=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),eie=t=>!!t.fundingConfig&&yT(t.fundingConfig.options).length>=1,HA=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let Ltt=2n**256n-1n;const N5=({amount:t,decimals:e})=>t===Ltt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),tie=({chains:t,appId:e,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=ru({chain:s,transport:nu(cu(s,n,e))}),a=await o.getBalance({address:r}).catch(()=>0n),l=null,c=A4e[s.id];if(i&&c){let{balance:u}=await mT({address:r,chain:s,rpcConfig:n,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}})),Xg=q.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Oe=q.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),We=q.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Btt=q(We).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Qe=q.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],ix),Utt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let ztt={[la.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[$g.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[ca.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[A6.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[aG.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[ua.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[ic.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Bs.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[q$.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const rie=({chainId:t,...e})=>{if(t==="solana")return d.jsx(Utt,{...e});let r=ztt[t];return d.jsx(r||dte,{...e})},Wtt=({balance:t,className:e,chain:r})=>d.jsx(ox,{className:e,$state:void 0,children:d.jsx(qA,{balance:t,chain:r})}),qA=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(Htt,{children:[d.jsx(Vtt,{chainId:"id"in e?e.id:"solana"}),d.jsx(Qe,{children:e.name})]}),d.jsxs(nc,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(qtt,{children:d.jsx(R4,{})}),t]})]});let Htt=q.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),qtt=q.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),Vtt=q(rie).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const Gtt=({options:t,onSelect:e,selected:r,className:n})=>d.jsxs(lSe,{as:Ktt,children:[d.jsxs(VJ,{as:Jtt,children:[d.jsx(qA,{balance:r.balance,chain:r.chain}),d.jsx(VA,{height:16})]}),d.jsx(GJ,{as:Ytt,className:n,children:t.map((i,s)=>d.jsx(KJ,{as:Ztt,onClick:()=>e(s),children:d.jsx(qA,{balance:i.balance,chain:i.chain})},s))})]});let Ktt=q.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),Ytt=q.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),Ztt=q.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),VA=q(Q6).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),Jtt=q.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],Jne,VA,VA);const Qtt=({passkeys:t,isLoading:e,errorReason:r,success:n,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Ht,n?{title:"Passkeys updated",icon:o2,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:e5,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(oB,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:e5,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:r||void 0,children:t.length===0?d.jsx(ert,{}):d.jsx(Xtt,{children:d.jsx(oB,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let Xtt=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),oB=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=x.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx(srt,{children:"Your passkeys"}),d.jsxs(irt,{children:[t.slice(0,o).map(l=>d.jsxs(lrt,{children:[d.jsxs("div",{children:[d.jsx(ort,{children:a(l)}),d.jsxs(art,{children:["Last used: ",(l.latestVerifiedAt??l.verifiedAt).toLocaleString()]})]}),d.jsx(urt,{disabled:i.includes(l.credentialId),onClick:()=>(async c=>{s(u=>u.concat([c])),await r(c),s(u=>u.filter(h=>h!==c))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(Qd,{}):d.jsx(bSe,{size:16})})]},l.credentialId)),t.length>2&&!e&&d.jsx(nrt,{onClick:n,children:"View all"})]})]})},ert=()=>d.jsxs(Wne,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(T0,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(T0,{children:"Takes seconds to set up and use"}),d.jsx(T0,{children:"Use your passkey to verify transactions and login to your account"})]});const trt={component:()=>{let{user:t,unlinkPasskey:e}=Dt(),{linkWithPasskey:r,closePrivyModal:n}=Te(),i=t==null?void 0:t.linkedAccounts.filter(p=>p.type==="passkey"),[s,o]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(!1),[h,f]=x.useState(!1);return x.useEffect(()=>{i.length===0&&f(!1)},[i.length]),d.jsx(Qtt,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),r().then(()=>u(!0)).catch(p=>{if(p instanceof Li){if(p.privyErrorCode===ee.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===ee.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async p=>(o(!0),await e(p).then(()=>u(!0)).catch(g=>{g instanceof Li&&g.privyErrorCode===ee.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>n()})}},nie=q.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let rrt=jn(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const nrt=q.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],rrt);let irt=q.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),srt=q.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),ort=q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),art=q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),lrt=q.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),crt=jn([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),urt=q.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],crt);const drt=q.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),d1=q.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),iie=q.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),sie=q.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),oie=q.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),hrt=q(oie).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),aie=q.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),lie=q.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),frt=q.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),prt=q.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),cie=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:g,onAmountChange:m,erc20ContractInfo:w})=>{let y=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(ol,{}),d.jsx(hu,{children:"Transfer from another network"}),d.jsxs(Dd,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),d.jsxs(iie,{style:{marginTop:"2rem"},children:[d.jsxs(sie,{onClick:()=>{var b;return(b=y.current)==null?void 0:b.focus()},children:[d.jsx(oie,{ref:y,value:i,onChange:b=>{let v=b.target.value;if(/^[0-9.]*$/.test(v)&&v.split(".").length-1<=1){let A=/\.$/.test(v)?".":"",E=Number(v.replace(/\.$/,"")||"0");if(Number.isNaN(E))return void m("0");m(E.toString()+A)}}}),d.jsx(aie,{children:s})]}),o&&d.jsx(lie,{children:o})]}),d.jsxs(Oe,{style:{marginTop:"1.5rem"},children:[d.jsx(We,{children:"From"}),d.jsx(We,{children:mR(f)})]}),d.jsx(Gtt,{selected:{chain:l.chain,balance:l.isErc20Quote?N5({amount:l.erc20Balance??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:Wa(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:b,balance:v,isErc20Quote:A,erc20Balance:E})=>({chain:b,balance:A?N5({amount:E??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:Wa(v,b.nativeCurrency.symbol,3,!0)})),onSelect:g}),d.jsxs(Oe,{style:{marginTop:"1.5rem"},children:[d.jsx(We,{children:"To"}),d.jsx(We,{children:mR(h)})]}),d.jsx(Wtt,{chain:r,balance:n}),d.jsx(uu,{style:{marginTop:"1rem"},children:e}),d.jsxs(C5,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(_o,{}),d.jsx(Yt,{})]})},lx=({wallet:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{var f;let h=yu(t.walletClientType);return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(Wf,{}),d.jsx(rT,{style:{marginTop:"16px"},children:d.jsx(zne,{icon:(f=h==null?void 0:h.image_url)==null?void 0:f.md,name:t.walletClientType})}),d.jsx(go,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(Xg,{children:[d.jsxs(Oe,{children:[d.jsx(We,{children:"Total"}),d.jsx(Qe,{children:l||a})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"To"}),d.jsx(Qe,{children:d.jsx(Rt,{address:r,showCopyIcon:!1})})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Network"}),d.jsx(Qe,{children:d.jsxs(grt,{children:[d.jsx(rie,{chainId:n,height:16,width:16})," ",i]})})]}),c&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Estimated fee"}),d.jsx(Qe,{children:u||c})]})]}),d.jsx(SJe,{height:24}),d.jsx(Yt,{})]})};let grt=q.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const uie={component:()=>{var kt,ht,rt,Ae,Se;let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Te(),{navigate:i,setModalData:s,app:o,data:a}=je(),{wallets:l}=al(),[c,u]=x.useState(!1),[h,f]=x.useState(0n),[p,g]=x.useState(!1),[m,w]=x.useState(null),[y,b]=x.useState(null),[v,A]=x.useState([]),[E,O]=x.useState(0),[N,R]=x.useState(!1),[T,L]=x.useState(!1),[B,W]=x.useState(!1),[j,_]=x.useState(!1),[C,$]=x.useState(),[P,S]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:I,chain:D,connectedWalletAddress:F}=a.funding,k=a.funding.address,z=a.funding.erc20Address,[V,M]=x.useState(a.funding.amount);x.useEffect(()=>{z&&!I&&w(Error("Unable to fetch token details"))},[]);let G=!!z&&!!I,Z=G?BigInt(parseFloat(V)*10**I.decimals):Yq(V),K=F?l.find(({address:he})=>he===F):l[0],re=yu((K==null?void 0:K.walletClientType)||"unknown"),le=(re==null?void 0:re.name)||"wallet",[ne,ae]=x.useState(null);x.useEffect(()=>{(async()=>{if(!K)return;let he=await K.getEthereumProvider();ae(tG({account:K.address,transport:nG(he)}).extend(z$))})().catch(console.error)},[K]);let[me,ue]=x.useState(0n);x.useEffect(()=>{ru({chain:D,transport:nu(cu(D,t,e))}).getBalance({address:k}).then(ue).catch(console.error)},[]);let[de,Je]=x.useState(0n);x.useEffect(()=>{G&&mT({chain:D,address:k,appId:e,rpcConfig:t,erc20Address:z}).then(he=>Je(he.balance)).catch(console.error)},[]);let{tokenPrice:ie}=Zg(D.id),[be,ve]=x.useState({to:k,chain:D,value:Z,data:void 0});x.useEffect(()=>{(async()=>{let he,He;if(!ne||!K||N||B)return;R(!0);let nt=ru({chain:be.chain,transport:nu(cu(be.chain,t,e))});if(G&&!be.data)return await nt.simulateContract({address:z,chain:be.chain,abi:HA,functionName:"transfer",args:[k,Z],account:K.address}).catch(Ve=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Ve)})?(R(!1),void ve({to:z,chain:be.chain,data:Ds({abi:HA,functionName:"transfer",args:[k,Z]}),value:"0x0"})):(R(!1),void g(!0));try{he=await nt.prepareTransactionRequest({account:K.address,to:be.to,chain:be.chain,data:be.data,value:BigInt(be.value??0)})}catch(Ve){if(console.error(Ve),v.length>1)b(Ve.shortMessage??"Something went wrong");else if(T&&v.length===0)return void w(new Q(`Wallet ${si(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))}if(!he)return R(!1),void g(!0);R(!1),W(!0),u(!0),f(he.gas);try{await ne.switchChain({id:be.chain.id})}catch{await ne.addChain({chain:be.chain}),await ne.switchChain({id:be.chain.id})}try{He=await ne.sendTransaction(he)}catch(Ve){if(console.error(Ve),Ve.name==="TransactionExecutionError")if(v.length<1){let ot=Ve.shortMessage;(Ve.shortMessage.includes("rejected the request")||Ve.details.includes("rejected the request"))&&(ot="User rejected the request."),w(new Q(ot,void 0,ee.TRANSACTION_FAILURE))}else b(Ve.shortMessage??"Something went wrong")}if(He)return await ne.waitForTransactionReceipt({hash:He}),W(!1),T?($(He),void S("pending")):(_(!0),void n({eventName:il,payload:{provider:"external",status:"success",txHash:He,address:K.address,chainId:be.chain.id,chainType:"ethereum",value:be.value?ai(BigInt(be.value),(I==null?void 0:I.decimals)??18):void 0,token:(I==null?void 0:I.symbol)??z??"ETH",destinationAddress:k,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Z?ai(Z,(I==null?void 0:I.decimals)??18):void 0,destinationToken:(I==null?void 0:I.symbol)??z??D.nativeCurrency.name}}));W(!1)})().catch(console.error)},[ne,be]),x.useEffect(()=>{(async()=>{var wt;if(!p||!ne||!K)return;let he=V$(o.chains).filter(Le=>Le.id!==D.id&&!!Le.testnet==!!D.testnet);G&&he.unshift(D);let He=await tie({chains:he,address:K.address,appId:e,rpcConfig:t,includeUsdc:(wt=a.funding)==null?void 0:wt.isUSDC}),nt=G?He.filter(Le=>Le.balance>0n):He.filter(Le=>Le.balance>Z),Ve=G&&He.every(Le=>Le.balance===0n);if(nt.length<1)return void w(new Q(Ve?`Wallet ${si(K.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${si(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));nt.sort((Le,Ar)=>Number(G?(Ar.erc20Balance??0n)-(Le.erc20Balance??0n):Ar.balance-Le.balance));let ot=nt.flatMap(Le=>{let Ar=[{...Le,isErc20Quote:!1,isTestnet:!!D.testnet,input:I0({amount:Z.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Le.chain.id})}];return G&&z&&(Le.erc20Balance??0n)>=Z&&Ar.push({...Le,isErc20Quote:!0,isTestnet:!!D.testnet,input:I0({amount:Z.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Le.chain.id,originCurrency:Le.erc20Address})}),Ar}),Ie=(await Promise.allSettled(ot.map(async Le=>({...Le,quote:await Cw(Le)})))).filter(Le=>Le.status==="fulfilled").map(Le=>Le.value);if(Ie.length<1)return void w(new Q(`Wallet ${si(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let dt=Ie.map(Le=>({bridgeTx:I5(Le.quote),balance:Le.balance,chain:Le.chain,erc20Balance:Le.erc20Balance,isErc20Quote:Le.isErc20Quote})).filter(Le=>!!Le.bridgeTx);if(dt.length>1)return void A(dt);let bt=dt[0];bt?(L(!0),ve({data:bt.bridgeTx.data,to:bt.bridgeTx.to,value:bt.bridgeTx.value,chain:bt.chain})):w(new Q(`Wallet ${si(K.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),gT({transactionHash:C,wallet:K,isTestnet:!!D.testnet,bridgingStatus:P,setBridgingStatus:S,onSuccess({transactionHash:he,wallet:He}){L(!1),_(!0),n({eventName:il,payload:{provider:"external",status:"success",txHash:he,address:He.address,chainId:be.chain.id,chainType:"ethereum",value:be.value?ai(BigInt(be.value),(I==null?void 0:I.decimals)??18):void 0,token:(I==null?void 0:I.symbol)??z??"ETH",destinationAddress:k,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:Z?ai(Z,(I==null?void 0:I.decimals)??18):void 0,destinationToken:(I==null?void 0:I.symbol)??z??D.nativeCurrency.name}})},onFailure({error:he}){L(!1),w(he)}}),x.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:em}}),i(Ur,!1))},[m]);let se=!G&&ie?kre(V??"0",ie):void 0,ye=G?h:eT([h,Z]),yt=ye&&ie?Vh(ye,ie):void 0,ce=ye?Wa(ye,(kt=a==null?void 0:a.funding)!=null&&kt.erc20Address?((rt=(ht=a==null?void 0:a.funding)==null?void 0:ht.erc20ContractInfo)==null?void 0:rt.symbol)||"ETH":((Ae=a==null?void 0:a.funding)==null?void 0:Ae.chain.nativeCurrency.symbol)||"ETH"):void 0,$e=h&&ie?Vh(h,ie):void 0,De=h?Wa(h,((Se=D==null?void 0:D.nativeCurrency)==null?void 0:Se.symbol)||"ETH"):void 0;if(x.useEffect(()=>{if(!j)return;let he=setTimeout(r,L4);return()=>clearTimeout(he)},[j]),j)return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(ol,{}),d.jsxs(E2,{children:[d.jsx(Gg,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(go,{title:"Success!",description:`Youve successfully added ${V} ${G?I.symbol:D.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_o,{}),d.jsx(Yt,{})]});let Xe=G?`${N5({amount:de,decimals:I.decimals})}  ${I.symbol}`:Wa(me,D.nativeCurrency.symbol,3,!0),Ke=v[E];return v.length>1&&Ke?d.jsx(cie,{displayName:le,configuredFundingChain:D,erc20ContractInfo:I,formattedBalance:Xe,fundingAmount:V,fundingCurrency:G?I.symbol:D.nativeCurrency.symbol,fundingAmountInUsd:se,options:v,selectedOption:Ke,isPreparing:N,isSubmitting:B,addressToFund:k,fundingWalletAddress:(K==null?void 0:K.address)||"",errorMessage:y,onSubmit:()=>{var he;((he=a.funding)==null?void 0:he.amount)!==V?async function(){if(K&&Ke)try{let He=await Cw({isTestnet:!!D.testnet,input:I0({amount:Z.toString(),user:K.address,recipient:k,destinationChainId:D.id,destinationCurrency:z,originChainId:Ke.chain.id})}),nt=I5(He);if(!nt)throw Error("Invalid transaction request");L(!0),ve({data:nt.data,to:nt.to,value:nt.value,chain:Ke.chain})}catch(He){console.error(He),w(new Q("Unable to fetch quotes for bridging",He,ee.INSUFFICIENT_BALANCE))}}().catch(console.error):ve({to:Ke.bridgeTx.to,data:Ke.bridgeTx.data,value:Ke.bridgeTx.value,chain:Ke.chain})},onSelect:he=>{he!==E&&(b(null),O(he))},onAmountChange:M}):c&&h&&K&&(a!=null&&a.funding)?d.jsx(lx,{wallet:K,displayName:le,addressToFund:k,isBridging:T,isErc20Flow:G,totalPriceInUsd:yt,totalPriceInNativeCurrency:ce,gasPriceInUsd:$e,gasPriceInNativeCurrency:De,chainId:D.id,chainName:D.name}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(Wf,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Yt,{})]})}},die={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=Te(),{navigate:r,setModalData:n,app:i,data:s}=je(),{wallets:o}=I2(),a=x.useRef(!1),l=Qg(),[c,u]=x.useState(!1),[h,f]=x.useState(!1),[p,g]=x.useState(null),[m,w]=x.useState(),[y,b]=x.useState();if(!(s!=null&&s.funding)||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:A,chain:E,cluster:O,isUSDC:N}=s.funding,R=s.funding.address,T=s.funding.erc20Address,L=s.funding.isUSDC?"USDC":E.nativeCurrency.symbol,B=O??{name:"mainnet-beta"},W=A?o.find(({address:C})=>C===A):o[0],j=yu((W==null?void 0:W.walletClientType)||"unknown"),_=(j==null?void 0:j.name)||"wallet";return x.useEffect(()=>{(async function(){var I;if(!W||!E||a.current)return;let C=l(S2);if(!C)return void g(new Q("Unable to solana plugin"));a.current=!0,E!=null&&E.testnet&&console.warn("Solana testnets are not supported for bridging");let $=N?1e6*parseFloat(v):Yq(v),P=await Cw({isTestnet:!!E.testnet,input:I0({amount:$.toString(),user:W.address,recipient:R,destinationChainId:E.id,originChainId:_A,originCurrency:N?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":AA,destinationCurrency:N?T:void 0})}).catch(console.error);if(!P)return void g(new Q(`Unable to fetch quotes for bridging. Wallet ${rE(W.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let S=await C.createBridgeTransactionFromRelayQuote({quote:P,from:W.address,cluster:B});if(S)try{u(!0);let{connection:D,transaction:F}=S,k=await D.simulateTransaction(F);if(k.value.err)return(I=k.value.logs)!=null&&I.find(M=>/insufficient (lamports|funds)/gi.test(M))?void g(new Q(`Wallet ${rE(W==null?void 0:W.address)} does not have enough funds. ${P.details.currencyIn.amountFormatted} ${L} are needed to complete the transaction.`,void 0,ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",k.value.err),void g(new Q("Something went wrong",void 0,ee.TRANSACTION_FAILURE)));let z=await W.sendTransaction(F,D),V=await D.confirmTransaction(z);if(V.value.err)return console.error("Transaction failed:",V.value.err),void g(new Q("Something went wrong",void 0,ee.TRANSACTION_FAILURE));w(z),b("pending")}catch(D){if(console.error(D),/user rejected the request/gi.test(D.message||""))return void g(new Q("Transaction was rejected by the user",void 0,ee.TRANSACTION_FAILURE));g(new Q("Something went wrong",void 0,ee.TRANSACTION_FAILURE))}else g(new Q(`Unable to select bridge option from quotes. Wallet ${rE(W.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),gT({transactionHash:m,wallet:W,isTestnet:!1,bridgingStatus:y,setBridgingStatus:b,onSuccess({transactionHash:C,wallet:$}){u(!1),f(!0),e({eventName:il,payload:{provider:"external",status:"success",txHash:C,address:$.address,chainType:"solana",clusterName:B.name,token:"SOL",destinationAddress:R,destinationChainId:E.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:N?"USDC":"ETH"}})},onFailure({error:C}){u(!1),g(C)}}),x.useEffect(()=>{if(!h)return;let C=setTimeout(t,L4);return()=>clearTimeout(C)},[h]),x.useEffect(()=>{p&&(n({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:p,previousScreen:em}}),r(Ur,!1))},[p]),h?d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(ol,{}),d.jsxs(E2,{children:[d.jsx(Gg,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(go,{title:"Success!",description:`Youve successfully added ${v} ${L} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_o,{}),d.jsx(Yt,{})]}):c&&W?d.jsx(lx,{wallet:W,displayName:_,addressToFund:R,isBridging:c,isErc20Flow:!1,chainId:E.id,chainName:E.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(Wf,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Yt,{})]})}},aB={component:()=>{var f;let{data:t,setModalData:e}=je(),r=t==null?void 0:t.funding,n=r.chainType==="solana",i=x.useRef(null),{tokenPrice:s}=Zg(n?"solana":r.chain.id),o=n?void 0:r,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?(f=r.erc20ContractInfo)==null?void 0:f.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),u=!isNaN(c)&&c>0,h=s?kre(r.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(hu,{children:"Confirm or edit amount"}),d.jsxs(V4,{style:{marginTop:"32px"},children:[d.jsx(iie,{children:a?d.jsx(Wf,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs(sie,{onClick:()=>{var p;return(p=i.current)==null?void 0:p.focus()},children:[d.jsx(hrt,{ref:i,value:r.amount,onChange:p=>{let g=p.target.value;/^[0-9.]*$/.test(g)&&g.split(".").length-1<=1&&e({...t,funding:{...r,amount:g},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:g}:void 0})}}),d.jsx(aie,{children:l})]}),!(o!=null&&o.erc20Address)&&d.jsx(lie,{children:h&&u?`${h} USD`:""})]})}),d.jsx(C5,{style:{marginTop:"1rem"},disabled:!u,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(Yt,{})]})}},em={component:()=>{var E,O,N,R;let t,{connectors:e}=Te(),{app:r,setModalData:n,data:i,navigate:s}=je(),{wallets:o}=al(),{wallets:a}=I2(),[l,c]=x.useState("default"),u=((E=i==null?void 0:i.funding)==null?void 0:E.chainType)==="solana",h=!!((O=i==null?void 0:i.funding)!=null&&O.crossChainBridgingEnabled);t=((N=i==null?void 0:i.funding)==null?void 0:N.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let f=o.filter(T=>T.walletClientType!=="privy"),p=f.map(T=>T.walletClientType),g=a.filter(T=>T.walletClientType!=="privy"),m=g.map(T=>T.walletClientType),w=[],y={...i.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let b=({address:T,walletChainType:L,walletClientType:B})=>{n({...i,funding:{...y,connectedWalletAddress:T,onContinueWithExternalWallet:()=>s(A({destChainType:u?"solana":"ethereum",sourceChainType:L}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:T,walletClientType:B}}:void 0}),s(aB)};t!=="solana-only"&&w.push(...f.map((T,L)=>d.jsx(lB,{onClick:()=>b({address:T.address,walletChainType:"ethereum",walletClientType:T.walletClientType}),icon:T.meta.icon,name:T.meta.name,chainType:T.type},L))),t!=="ethereum-only"&&w.push(...g.map((T,L)=>d.jsx(lB,{onClick:()=>b({address:T.address,walletChainType:"solana",walletClientType:T.walletClientType}),icon:T.meta.icon,name:T.meta.name,chainType:T.type},L))),w.push(...Hne({walletList:r.appearance.walletList.filter(T=>!f.some(L=>L.walletClientType===T)&&!g.some(L=>L.walletClientType===T)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...p,...m],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let v=d.jsx(Mne,{text:"More wallets",onClick:()=>c("overflow")}),A=({sourceChainType:T,destChainType:L})=>T==="ethereum"&&L==="solana"?kie:T==="ethereum"&&L==="ethereum"?uie:T==="solana"&&L==="ethereum"?die:y.externalSolanaFundingScreen;return x.useEffect(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:T,walletClientType:L,walletChainType:B})=>(n({...i,funding:{...y,onContinueWithExternalWallet:()=>{s(A({destChainType:u?"solana":"ethereum",sourceChainType:B??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:T||"",walletClientType:L||""}}:void 0}),aB)}})},[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(Pt,{backFn:()=>c("default")},"header"),d.jsxs(kA,{children:[d.jsx(Dd,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),d.jsx(Yt,{})]}:{children:[d.jsx(Ms,{}),d.jsx(go,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(kA,{children:[w.length>4?w.slice(0,3):w,w.length>4&&v]}),d.jsx(Yt,{})]})}};let lB=({onClick:t,icon:e,name:r,chainType:n})=>d.jsxs(Hr,{onClick:t,children:[d.jsx(d1,{style:{width:20},children:d.jsx("img",{src:e})}),r,d.jsx(nc,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&d.jsx(nc,{color:"gray",children:"Solana"})]});const wT={component:()=>{var C,$;let{closePrivyModal:t,createAnalyticsEvent:e}=Te(),{navigate:r,setModalData:n,app:i,data:s}=je(),{wallets:o}=I2(),a=Qg(),[l,c]=x.useState(0n),[u,h]=x.useState(null),[f,p]=x.useState(!1),[g,m]=x.useState(!1),w=x.useRef(!1);if(!(s!=null&&s.funding)||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:y,amount:b,cluster:v,connectedWalletAddress:A}=s.funding,E=function({name:P,rpcUrl:S}){if(S)return S;switch(P){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(v),{tokenPrice:O}=Zg("solana"),{fundingAmountInBaseUnit:N,totalPriceInUsd:R,totalPriceInNativeCurrency:T,feePriceInNativeCurrency:L,feePriceInUsd:B}=Sre({amount:b,fee:l,tokenPrice:O,isUsdc:s.funding.isUSDC}),W=A?o.find(({address:P})=>P===A):o[0],j=yu((W==null?void 0:W.walletClientType)||"unknown"),_=(j==null?void 0:j.name)||"wallet";return x.useEffect(()=>{(async()=>{var P,S,I,D;if((W==null?void 0:W.type)==="solana"&&W.sendTransaction&&!f&&!w.current){w.current=!0;try{let F=a(S2);if(!F)throw new Q("Unable to load solana plugin");let{connection:k,transaction:z}=(P=s.funding)!=null&&P.isUSDC?await F.createSplTransferTransaction({from:W.address,to:y,amount:N,mintAddress:gb[v.name],cluster:v}):await F.createTransferTransaction({from:W.address,to:y,amount:N,cluster:v}),V=await z.getEstimatedFee(k);V!=null&&c(BigInt(V)),p(!0);let M=await k.simulateTransaction(z);if(M.value.err){let re=(S=M.value.logs)==null?void 0:S.find(ne=>/insufficient funds/gi.test(ne)),le=(I=M.value.logs)==null?void 0:I.find(ne=>/insufficient lamports/gi.test(ne));return re?void h(new Q(`Wallet ${si(W.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE)):le?void h(new Q(`Wallet ${si(W.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,ee.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",M.value.err),void h(new Q("Something went wrong",void 0,ee.TRANSACTION_FAILURE)))}let G=await W.sendTransaction(z,k),{value:Z,token:K}=(D=s.funding)!=null&&D.isUSDC?{value:ai(N,6),token:"USDC"}:{value:ai(N,9),token:"SOL"};e({eventName:il,payload:{provider:"external",status:"success",txHash:G,rpcEndpoint:E,address:W.address,value:Z,chainType:"solana",clusterName:v.name,token:K,destinationAddress:y,destinationValue:Z,destinationChainType:"solana",destinationClusterName:v.name,destinationToken:K}}),p(!1),m(!0)}catch(F){if(console.error(F),p(!1),/user rejected the request/gi.test(F.message||""))return void h(new Q("Transaction was rejected by the user",void 0,ee.TRANSACTION_FAILURE));h(new Q("Something went wrong",void 0,ee.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>w.current=!1)},[]),x.useEffect(()=>{u&&(n({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:u,previousScreen:em}}),r(Ur,!1))},[u]),x.useEffect(()=>{if(!g)return;let P=setTimeout(t,L4);return()=>clearTimeout(P)},[g]),g?d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(ol,{}),d.jsxs(E2,{children:[d.jsx(Gg,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(go,{title:"Success!",description:`Youve successfully added ${b} ${(C=s.funding)!=null&&C.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_o,{}),d.jsx(Yt,{})]}):W&&f?d.jsx(lx,{wallet:W,displayName:_,addressToFund:y,isBridging:!1,isErc20Flow:!!(($=s.funding)!=null&&$.isUSDC),totalPriceInUsd:R,totalPriceInNativeCurrency:T,gasPriceInUsd:B,gasPriceInNativeCurrency:L,chainId:"solana",chainName:v.name}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(Wf,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Yt,{})]})}},hie=({children:t,theme:e})=>d.jsxs(mrt,{$theme:e,children:[d.jsx(PI,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(yrt,{$theme:e,children:t})]});let mrt=q.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),yrt=q.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const wrt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),vrt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),cB=t=>{let[e,r]=x.useState();return x.useEffect(()=>{t().then(n=>{r(n)}).catch(()=>{})},[]),e},fie=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=ru({chain:e,transport:nu(cu(e,r,n))}),[s,o]=await Promise.all([i.readContract({abi:uB,address:t,functionName:"symbol"}),i.readContract({abi:uB,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let uB=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const brt={component:()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=je(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Te(),[a,l]=x.useState("pending-in-flow"),c=x.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return x.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval(async()=>{if(h)try{let{status:g}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(g==="success")return void l("success");if(g==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void r(Ns);f!=null&&f.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(g){console.error(g),l("error"),s({eventName:il,payload:{status:"failure",provider:"coinbase-onramp",error:g.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(Ns)}},1500);return()=>clearInterval(p)}},[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(Pt,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),n()}},"header"),d.jsx(xrt,{status:a,onClickCta:i}),d.jsx(Yt,{})]})}};let xrt=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=x.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(_rt,{children:[d.jsx(Ert,{isSucccess:t==="success"}),d.jsxs(nT,{children:[d.jsx("h3",{children:r}),d.jsx(Crt,{children:n})]})]}),i&&d.jsx(ur,{onClick:e,children:i})]})},Ert=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ia,{color:n,style:{position:"absolute"}}),d.jsx(JI,{color:n}),d.jsx(RYe,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(n=>n?bw:()=>d.jsx(DI,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),r=(n=>n?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Crt=q.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),_rt=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),Art={[ua.id]:"ethereum",[ca.id]:"base",[ic.id]:"optimism",[Bs.id]:"polygon",[la.id]:"arbitrum"};const dB=(t,e,r,n,i,s)=>new Promise(async(o,a)=>{let l=K4();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?function(g){let m=Art[g];if(!m)throw new Q(`Unsupported chainId: ${g} for Coinbase Onramp`);return m}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?N4e(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=T4e({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),n(brt),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout(()=>{r({funding:p,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})},5e3),o()}),krt=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),pie={component:()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=je(),{closePrivyModal:i}=Te(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=function(a,l=!1){let[c,u]=x.useState(null),{createAnalyticsEvent:h}=Te(),{data:f,navigate:p,setModalData:g}=je(),m=f==null?void 0:f.funding,w=x.useRef(0);return x.useEffect(()=>{let y=setInterval(async()=>{var b,v;if(a)try{let[A]=await async function(O,N){return DK(`${N?CYe:EYe}/transactions/ext/${O}`,{query:{apiKey:N?AYe:_Ye}})}(a,l),E=A.status==="waitingAuthorization"&&A.paymentMethod==="credit_debit_card"?"pending":A.status;if(["failed","completed","awaitingAuthorization"].includes(E)&&(h({eventName:il,payload:{status:E,provider:hB,paymentMethod:A.paymentMethod,cardPaymentType:A.cardPaymentType,currency:(b=A.currency)==null?void 0:b.code,baseCurrencyAmount:A.baseCurrencyAmount,quoteCurrencyAmount:A.quoteCurrencyAmount,feeAmount:A.feeAmount,extraFeeAmount:A.extraFeeAmount,networkFeeAmount:A.networkFeeAmount,isSandbox:l}}),clearInterval(y)),E==="failed"||E==="serviceFailure")return g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f==null?void 0:f.solanaFundingData}),void p(Ns);u(E)}catch(A){((v=A.response)==null?void 0:v.status)!==404&&(w.current+=1),w.current>=3&&(h({eventName:il,payload:{status:"serviceFailure",provider:hB}}),clearInterval(y),g({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f==null?void 0:f.solanaFundingData}),p(Ns))}},3e3);return()=>clearInterval(y)},[a,w]),c}(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),r({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),n()}}),d.jsx($rt,{status:o,onClickCta:i}),d.jsx(Yt,{})]})}};let $rt=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=x.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(Trt,{children:[d.jsx(Srt,{status:t}),d.jsxs(nT,{children:[d.jsx("h3",{children:r}),d.jsx(Irt,{children:n})]})]}),i&&d.jsx(ur,{onClick:e,children:i})]})},Srt=({status:t})=>{if(!t||t==="pending"){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(ia,{color:n,style:{position:"absolute"}}),d.jsx(JI,{color:n}),d.jsx(krt,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(n=>{switch(n){case"completed":return bw;case"waitingAuthorization":return()=>d.jsx(DI,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),r=(n=>n?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Irt=q.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Trt=q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Prt=async(t,e,r,n,i,s,o,a)=>{var p,g;let l=K4();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?((p=e.moonpayConfigOverride)==null?void 0:p.currencyCode)??s4e(e.chain.id,n):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:c,quoteCurrencyAmount:((g=e.moonpayConfigOverride)==null?void 0:g.quoteCurrencyAmount)??Rrt(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=u;let f={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(pie),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let gie=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const Nrt=()=>gie("https://apple.com/apple-pay"),Ort=()=>gie("https://google.com/pay"),Ns={component:()=>{var v,A,E,O;let{wallets:t}=al(),{wallets:e}=I2(),{navigate:r,data:n,setModalData:i}=je(),{client:s}=Te(),o=Xt(),a=n==null?void 0:n.funding,l=cB(Nrt),c=cB(Ort),u=a.chainType==="solana",h=u?void 0:a,f=x.useMemo(()=>((N,R,T,L,B,W)=>{var F;let j,_,C=T.chainType==="solana",$=C?void 0:T,P=T.isUSDC?"USDC":$!=null&&$.erc20Address?void 0:"native-currency",S=!!C||P&&i4e(Number(T.chain.id),P),I=!!C||P&&P4e(Number(T.chain.id),P),D=[];for(let k of(T.preferredCardProvider&&T.supportedOptions.sort(z=>z.provider===T.preferredCardProvider?-1:1),T.supportedOptions))k.method==="card"&&k.provider==="coinbase"&&I&&D.push(()=>dB(R,T,L,B,W,"buy")),k.method==="card"&&k.provider==="moonpay"&&S&&P&&D.push(()=>Prt(R,T,N,P,L,B,W,"credit_debit_card"));for(let k of T.supportedOptions)k.method==="exchange"&&k.provider==="coinbase"&&I&&(j=()=>dB(R,T,L,B,W,"buy"));for(let k of((F=W==null?void 0:W.funding)==null?void 0:F.supportedOptions)??[])k.method==="wallets"&&(_=()=>B(em));return{onFundWithCard:D,onFundWithExchange:j,onFundWithWallet:_}})(o,s,a,i,r,n),[o,s,a,n,i,r]),p=u?e.find(({address:N})=>N===a.address):t.find(({address:N})=>an(N)===an(a.address)),g=yu((p==null?void 0:p.walletClientType)||"unknown"),m=(g==null?void 0:g.name)||"wallet",w=p&&p.walletClientType!=="privy"?m:o.name,y=x.useMemo(()=>{var N,R,T,L;return(R=(N=a.uiConfig)==null?void 0:N.landing)!=null&&R.title?(L=(T=a.uiConfig)==null?void 0:T.landing)==null?void 0:L.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(A=(v=a.uiConfig)==null?void 0:v.landing)==null?void 0:A.title,w]);x.useEffect(()=>{if(a!=null&&a.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1},solanaFundingData:n==null?void 0:n.solanaFundingData}),a==null?void 0:a.defaultFundingMethod){case"card":f.onFundWithCard[0]&&f.onFundWithCard[0]();break;case"exchange":f.onFundWithExchange&&f.onFundWithExchange();break;case"wallet":f.onFundWithWallet&&f.onFundWithWallet();break;case"manual":r(O5)}},[]),x.useEffect(()=>{h!=null&&h.erc20Address&&!h.erc20ContractInfo&&fie({address:h.erc20Address,chain:h.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(N=>{i({...n,funding:{...h,erc20ContractInfo:N?{symbol:N.symbol,decimals:N.decimals}:void 0}})}).catch(console.error)},[h==null?void 0:h.erc20Address,h==null?void 0:h.chain]);let b=!(!(h!=null&&h.erc20Address)||h!=null&&h.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx("h3",{children:y}),d.jsxs(drt,{children:[a.errorMessage&&d.jsx(hie,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),((E=f.onFundWithCard)==null?void 0:E[0])&&d.jsxs(Hr,{disabled:b,onClick:f.onFundWithCard[0],children:[d.jsx(d1,{children:d.jsx(nKe,{style:{width:24}})}),"Pay with card",l?d.jsx(wrt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?d.jsx(vrt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),f.onFundWithExchange&&d.jsxs(Hr,{disabled:b,onClick:f.onFundWithExchange,children:[d.jsx(d1,{children:d.jsx(DI,{style:{width:24}})}),"Transfer from an exchange"]}),f.onFundWithWallet&&d.jsxs(Hr,{disabled:b,onClick:f.onFundWithWallet,children:[d.jsx(d1,{children:d.jsx(Ene,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Hr,{disabled:b,onClick:()=>r(O5),children:[d.jsx(d1,{children:d.jsx(EKe,{style:{width:24}})}),"Receive funds"]}),(a==null?void 0:a.showAlternateFundingMethod)&&((O=f.onFundWithCard)==null?void 0:O[1])&&d.jsx(Zne,{theme:o.appearance.palette.colorScheme,children:d.jsxs(frt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(prt,{onClick:f.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(Yt,{})]})}},hB="moonpay";function Rrt(t){return parseFloat(t)}function jrt(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function xE(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const fB={[ua.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[H$.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ic.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[k6.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Bs.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Gw.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ca.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[_6.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[$g.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[W$.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[la.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[C6.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},pB=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var g;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=yT(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(xE(r)&&r.chain?r.chain.id:Kre(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find(m=>m.id===o);if(!c)throw new Q(`Funding chain ${o} is not in PrivyProvider chains list`);let u=xE(r)&&r.amount?r.amount:e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let m=fB[o];l.find(w=>w.method==="wallets")&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,h=!0}xE(r)&&"asset"in r?r.asset==="USDC"?f():typeof r.asset!="string"&&"erc20"in r.asset&&(h=((m,w)=>m===fB[w.id])(a=r.asset.erc20,c)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let p=r==null?void 0:r.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:(g=r==null?void 0:r.card)==null?void 0:g.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...jrt(r)?{moonpayConfigOverride:r.config}:{},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0,externalSolanaFundingScreen:wT}};function Mrt({address:t,fundWalletConfig:e,appConfig:r,comingFromSendTransactionScreen:n,externalSolanaFundingScreen:i,methodScreen:s}){var c,u,h,f;if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let o=yT(r.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if((e==null?void 0:e.asset)==="USDC"&&((c=e==null?void 0:e.cluster)==null?void 0:c.name)==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let a=(e==null?void 0:e.amount)??r.fundingConfig.defaultRecommendedAmount,l=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:(e==null?void 0:e.asset)==="USDC",methodScreen:s,comingFromSendTransactionScreen:n,cluster:{name:((u=e==null?void 0:e.cluster)==null?void 0:u.name)??"mainnet-beta",rpcUrl:r.solanaClusters[((h=e==null?void 0:e.cluster)==null?void 0:h.name)??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:l,preferredCardProvider:(f=e==null?void 0:e.card)==null?void 0:f.preferredProvider,usingDefaultFundingMethod:!!l,uiConfig:e==null?void 0:e.uiConfig,externalSolanaFundingScreen:i}}const mie=({children:t,theme:e})=>d.jsxs(Drt,{$theme:e,children:[d.jsx(Nf,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Frt,{$theme:e,children:t})]});let Drt=q.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Frt=q.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const Lrt=({address:t,accessToken:e,appConfigTheme:r,onClose:n,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Ht,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:n,watermark:!0,children:d.jsxs(Brt,{children:[d.jsx(mie,{theme:r,children:"Never share your private key or seed phrase with anyone."}),d.jsx(ax,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(Urt,{}):e&&s&&d.jsx(Hrt,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let Brt=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),Urt=()=>d.jsx(zrt,{children:d.jsx(Wrt,{children:"Loading..."})}),zrt=q.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),Wrt=q.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Hrt(t){let[e,r]=x.useState(t.dimensions.width),[n,i]=x.useState(void 0),s=x.useRef(null);x.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(qrt,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:Xte(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n},{token:t.accessToken})}),d.jsx(gB,{children:"Loading..."}),o&&d.jsx(gB,{children:"Loading..."})]})})}const GA={component:()=>{let[t,e]=x.useState(null),{authenticated:r,user:n}=Dt(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=Te(),l=Xt(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=je(),{onFailure:h,onSuccess:f,origin:p,appId:g,appClientId:m,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,chainType:A,address:E,isUnifiedWallet:O,imported:N}=c.keyExport,R=L=>{i({shouldCallAuthOnSuccess:!1}),h(typeof L=="string"?Error(L):L)},T=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:E}})};return x.useEffect(()=>{if(!r)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[r,n]),u.current=T,d.jsx(Lrt,{address:E,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:T,isLoading:!t,exportButtonProps:t?{origin:p,appId:g,appClientId:m,clientAnalyticsId:o,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,isUnifiedWallet:O,imported:N,chainType:A}:void 0})}};let qrt=q.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),gB=q.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const Vrt=({connectionFailed:t,onClose:e})=>d.jsx(Ht,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:f4,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Zu={component:()=>{let{authenticated:t,user:e}=Dt(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=Te(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=je(),u=x.useMemo(()=>Date.now(),[]),[h,f]=x.useState(!1),{onCompleteNavigateTo:p,onFailure:g,shouldForceMFA:m,entropyId:w,entropyIdVerifier:y,recoveryMethod:b,connectingWalletAddress:v,isUnifiedWallet:A=!1}=a==null?void 0:a.connectWallet,E=O=>{h||(f(!0),g(typeof O=="string"?Error(O):O))};return x.useEffect(()=>{let O;return t?s?((async()=>{let N=await r.getAccessToken();if(!N)return E("User must be authenticated and have a Privy wallet before it can be connected");try{A||await s.connect({accessToken:N,entropyId:w,entropyIdVerifier:y}),m&&await s.verifyMfa({accessToken:N});let R=(Date.now()-u)/1e3;p===GA&&R<1?O=setTimeout(()=>{o(p,!1)},1e3*(1-R)):o(p,!1)}catch(R){if(Ew(R)&&b==="privy"){let T=await r.getAccessToken();if(!T)return E("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:v}});let L=await(s==null?void 0:s.recover({accessToken:T,entropyId:w,entropyIdVerifier:y}));L!=null&&L.entropyId||E(Error("Unable to recover wallet")),p?o(p):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:v}}),o(p)}catch{E("An error has occurred, please try again.")}}else Ew(R)&&b!=="privy"&&b!=="privy-v2"?(l({...a,recoverWallet:{entropyId:w,entropyIdVerifier:y,onCompleteNavigateTo:p,onFailure:g},recoveryOAuthStatus:{provider:b,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(Yne(b))):E(R)}})(),()=>clearTimeout(O)):void 0:E("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),c.current=()=>{E("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})},d.jsx(Vrt,{connectionFailed:h,onClose:()=>n({shouldCallAuthOnSuccess:!1})})}},yie=q(We).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var mB=({iconUrl:t,value:e,symbol:r,usdValue:n,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(yB,{$isLoading:a});let l=e&&n&&o?function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let g=Math.ceil(-Math.log10(.01/(p/f))),m=Math.pow(10,g=Math.max(g=Math.min(g,u),1)),w=+(Math.floor(f*m)/m).toFixed(g).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(w)}(e,o,n):e;return d.jsxs("div",{children:[d.jsxs(yB,{$isLoading:a,children:[t&&d.jsx(Krt,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",r]}),n&&d.jsxs(Grt,{$isLoading:a,children:["$",n]})]})};let yB=q.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],ix);const Grt=q.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],ix);let Krt=q.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const Yrt=t=>{var a,l,c,u,h,f,p,g;let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:o}=r;return d.jsx(ox,{children:d.jsxs(Xg,{children:[s!=="transaction"&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Action"}),d.jsx(Qe,{children:o})]}),o==="mint"&&"args"in r&&r.args.filter(m=>m).map((m,w)=>{var y,b;return d.jsxs(Oe,{children:[d.jsx(We,{children:`Param ${w}`}),d.jsx(Qe,{children:typeof m=="string"&&Rs(m)?d.jsx(Rt,{address:m,url:(b=(y=e==null?void 0:e.blockExplorers)==null?void 0:y.default)==null?void 0:b.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},w)}),o==="setApprovalForAll"&&r.operator&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Operator"}),d.jsx(Qe,{children:d.jsx(Rt,{address:r.operator,url:(l=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:l.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&r.approved!==void 0&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Set approval to"}),d.jsx(Qe,{children:r.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount"}),d.jsxs(Qe,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token ID"}),d.jsx(Qe,{children:r.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in r&&r.amounts&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Amounts"}),d.jsx(Qe,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token IDs"}),d.jsx(Qe,{children:r.tokenIds.join(", ")})]})]}),o==="approve"&&r.spender&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Spender"}),d.jsx(Qe,{children:d.jsx(Rt,{address:r.spender,url:(u=(c=e==null?void 0:e.blockExplorers)==null?void 0:c.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferFrom&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Transferring from"}),d.jsx(Qe,{children:d.jsx(Rt,{address:r.transferFrom,url:(f=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:f.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferTo&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Transferring to"}),d.jsx(Qe,{children:d.jsx(Rt,{address:r.transferTo,url:(g=(p=e==null?void 0:e.blockExplorers)==null?void 0:p.default)==null?void 0:g.url,showCopyIcon:!1})})]})]})})},Zrt=({variant:t,setPreventMaliciousTransaction:e,colorScheme:r="light",preventMaliciousTransaction:n})=>t==="warn"?d.jsx(wB,{children:d.jsxs(mie,{theme:r,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(wB,{children:[d.jsx(hie,{theme:r,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(Jrt,{children:[d.jsx(nne,{color:"var(--privy-color-error)",checked:!n,readOnly:!0,onClick:()=>e(!n)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let wB=q.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),Jrt=q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const Qrt=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,Xrt=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:g,chain:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,isTokenContractInfoLoading:v,isSponsored:A,symbol:E,balance:O,onClick:N,transactionDetails:R,transactionIndex:T,maxIndex:L,onBack:B,chainName:W,validation:j,hasScanDetails:_,setIsScanDetailsOpen:C,preventMaliciousTransaction:$,setPreventMaliciousTransaction:P,tokensSent:S,tokensReceived:I,isScanning:D,isCancellable:F,functionName:k})=>{var re,le,ne,ae,me,ue;let{showTransactionDetails:z,setShowTransactionDetails:V,hasMoreDetails:M,isErc20Ish:G}=(de=>{let[Je,ie]=x.useState(!1),be=!0,ve=!1;return(!de||de.isErc20Ish||de.action==="transaction")&&(be=!1),be&&(ve=Object.entries(de||{}).some(([se,ye])=>ye&&!["action","isErc20Ish","isNFTIsh"].includes(se))),{showTransactionDetails:Je,setShowTransactionDetails:ie,hasMoreDetails:be&&ve,isErc20Ish:de==null?void 0:de.isErc20Ish}})(R),Z=Xt(),K=G&&v||y||b||D;return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:n,backFn:B}),t&&d.jsx(bie,{children:t}),d.jsxs(hu,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(Qrt,{maxIndex:L,transactionIndex:T})]}),d.jsx(Dd,{children:o}),d.jsxs(Xg,{style:{marginTop:"2rem"},children:[(!!S[0]||K)&&d.jsxs(Oe,{children:[I.length>0?d.jsx(We,{children:"Send"}):d.jsx(We,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:S.map((de,Je)=>d.jsx(mB,{iconUrl:de.iconUrl,value:k==="setApprovalForAll"?"All":de.value,usdValue:de.usdValue,symbol:de.symbol,nftName:de.nftName,nftCount:de.nftCount,decimals:de.decimals},Je))})]}),I.length>0&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:I.map((de,Je)=>d.jsx(mB,{iconUrl:de.iconUrl,value:de.value,usdValue:de.usdValue,symbol:de.symbol,nftName:de.nftName,nftCount:de.nftCount,decimals:de.decimals},Je))})]}),R&&"spender"in R&&(R!=null&&R.spender)?d.jsxs(Oe,{children:[d.jsx(We,{children:"Spender"}),d.jsx(Qe,{children:d.jsx(Rt,{address:R.spender,url:(le=(re=m==null?void 0:m.blockExplorers)==null?void 0:re.default)==null?void 0:le.url})})]}):null,a&&d.jsxs(Oe,{children:[d.jsx(We,{children:"To"}),d.jsx(Qe,{children:d.jsx(Rt,{address:a,url:(ae=(ne=m==null?void 0:m.blockExplorers)==null?void 0:ne.default)==null?void 0:ae.url,showCopyIcon:!0})})]}),l&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token address"}),d.jsx(Qe,{children:d.jsx(Rt,{address:l,url:(ue=(me=m==null?void 0:m.blockExplorers)==null?void 0:me.default)==null?void 0:ue.url})})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Network"}),d.jsx(Qe,{children:c})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Estimated fee"}),d.jsx(Qe,{$isLoading:y||b||A===void 0,children:A?d.jsxs(tnt,{children:[d.jsxs(rnt,{children:["Sponsored by ",Z.name]}),d.jsx(qGe,{height:16,width:16})]}):h})]}),M&&!_&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{className:"cursor-pointer",onClick:()=>V(!z),children:d.jsxs(Btt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(Q6,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&R&&d.jsx(Yrt,{action:i,chain:m,transactionDetails:R,isTokenContractInfoLoading:v,symbol:E})]}),_&&d.jsx(Oe,{children:d.jsxs(yie,{onClick:()=>C(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(tCe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(jd,{}),e?d.jsx(uu,{style:{marginTop:"2rem"},children:e.message}):r&&T===0?d.jsx(uu,{style:{marginTop:"2rem"},children:r.shortMessage??vie}):null,d.jsx(Zrt,{variant:j,preventMaliciousTransaction:$,setPreventMaliciousTransaction:P}),d.jsx(wie,{$useSmallMargins:!(!r&&!e&&j!=="warn"&&j!=="error"),address:f,balance:O,errMsg:y||r||e||!u?void 0:`Add funds on ${(m==null?void 0:m.name)??W} to complete transaction.`}),d.jsx(ur,{style:{marginTop:"1rem"},loading:w,disabled:g||y,onClick:N,children:p}),F&&d.jsx(H4,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),d.jsx(Yt,{})]})},ent=({img:t,title:e,subtitle:r,cta:n,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:l,parseError:c,total:u,swap:h,transactingWalletAddress:f,fee:p,balance:g,disabled:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,onClick:v,onClose:A,onBack:E})=>{let O=y||b,[N,R]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:A,backFn:E}),t&&d.jsx(bie,{children:t}),d.jsx(hu,{style:{marginTop:t?"1.5rem":0},children:e}),d.jsx(Dd,{children:r}),d.jsxs(Xg,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||O)&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount"}),d.jsx(Qe,{$isLoading:O,children:u})]}),h&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Swap"}),d.jsx(Qe,{children:h})]}),s&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Network"}),d.jsx(Qe,{children:s})]}),(p||O)&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Estimated fee"}),d.jsx(Qe,{$isLoading:O,children:p})]})]}),d.jsx(Oe,{children:d.jsxs(yie,{onClick:()=>R(T=>!T),children:[d.jsx("span",{children:"Advanced"}),d.jsx(Q6,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:N?"rotate(180deg)":void 0}})]})}),N&&d.jsx(d.Fragment,{children:i.map((T,L)=>T.type==="sol-transfer"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Transfer ",T.withSeed?"with seed":""]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount"}),d.jsxs(Qe,{children:[Wi({amount:T.value,decimals:T.token.decimals})," ",T.token.symbol]})]}),!!T.toAccount&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Destination"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.toAccount,url:o})})]})]},L):T.type==="spl-transfer"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Transfer ",T.token.symbol]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount"}),d.jsx(Qe,{children:T.value.toString()})]}),!!T.fromAta&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Source"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.fromAta,url:o})})]}),!!T.toAta&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Destination"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.toAta,url:o})})]}),!!T.token.address&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.token.address,url:o})})]})]},L):T.type==="ata-creation"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsx(gs,{children:"Create token account"})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Program ID"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.program,url:o})})]}),!!T.owner&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Owner"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.owner,url:o})})]})]},L):T.type==="create-account"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Create account ",T.withSeed?"with seed":""]})}),!!T.account&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Account"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.account,url:o})})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount"}),d.jsxs(Qe,{children:[Wi({amount:T.value,decimals:9})," SOL"]})]})]},L):T.type==="spl-init-account"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsx(gs,{children:"Initialize token account"})}),!!T.account&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Account"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.account,url:o})})]}),!!T.mint&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Mint"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mint,url:o})})]}),!!T.owner&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Owner"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.owner,url:o})})]})]},L):T.type==="spl-close-account"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsx(gs,{children:"Close token account"})}),!!T.source&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Source"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.source,url:o})})]}),!!T.destination&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Destination"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.destination,url:o})})]}),!!T.owner&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Owner"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.owner,url:o})})]})]},L):T.type==="spl-sync-native"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsx(gs,{children:"Sync native"})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Program ID"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.program,url:o})})]})]},L):T.type==="raydium-swap-base-input"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Raydium swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount in"}),d.jsx(Qe,{children:T.amountIn.toString()})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Minimum amount out"}),d.jsx(Qe,{children:T.minimumAmountOut.toString()})]}),T.mintIn&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token in"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token out"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintOut,url:o})})]})]},L):T.type==="raydium-swap-base-output"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Raydium swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Max amount in"}),d.jsx(Qe,{children:T.maxAmountIn.toString()})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount out"}),d.jsx(Qe,{children:T.amountOut.toString()})]}),T.mintIn&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token in"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token out"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintOut,url:o})})]})]},L):T.type==="jupiter-swap-shared-accounts-route"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Jupiter swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"In amount"}),d.jsx(Qe,{children:T.inAmount.toString()})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Quoted out amount"}),d.jsx(Qe,{children:T.quotedOutAmount.toString()})]}),T.mintIn&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token in"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token out"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintOut,url:o})})]})]},L):T.type==="jupiter-swap-exact-out-route"?d.jsxs(Oo,{children:[d.jsx(Oe,{children:d.jsxs(gs,{children:["Jupiter swap"," ",T.tokenIn&&T.tokenOut?`${T.tokenIn.symbol}  ${T.tokenOut.symbol}`:""]})}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Quoted in amount"}),d.jsx(Qe,{children:T.quotedInAmount.toString()})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Amount out"}),d.jsx(Qe,{children:T.outAmount.toString()})]}),T.mintIn&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token in"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintIn,url:o})})]}),T.mintOut&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Token out"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.mintOut,url:o})})]})]},L):d.jsxs(Oo,{children:[d.jsxs(Oe,{children:[d.jsx(We,{children:"Program ID"}),d.jsx(Qe,{children:d.jsx(Rt,{address:T.program,url:o})})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Data"}),d.jsx(Qe,{children:T.discriminator})]})]},L))}),d.jsx(jd,{}),l?d.jsx(uu,{style:{marginTop:"2rem"},children:l.message}):c?d.jsx(uu,{style:{marginTop:"2rem"},children:vie}):null,d.jsx(wie,{$useSmallMargins:!(!c&&!l),title:"Your wallet",address:f,balance:g,errMsg:y||c||l||!a?void 0:"Add funds on Solana to complete transaction."}),d.jsx(ur,{style:{marginTop:"1rem"},loading:w,disabled:m||y,onClick:v,children:n}),d.jsx(Yt,{})]})};let wie=q(ax).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),Oo=q(Xg).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),vie="There was an error preparing your transaction. Your transaction request will likely fail.",bie=q.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),tnt=q.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),rnt=q.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),nnt=()=>d.jsxs(ant,{children:[d.jsx(cnt,{}),d.jsx(lnt,{})]});const xie=({transactionError:t,chainId:e,onClose:r,onRetry:n,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=Te(),[l,c]=x.useState(!1),{errorCode:u,errorMessage:h}=((p,g)=>{if(g==="ethereum")return{errorCode:p.details??p.message,errorMessage:p.shortMessage};let m=p.txSignature,w=(p==null?void 0:p.transactionMessage)||"Something went wrong.";if(Array.isArray(p.logs)){let y=p.logs.find(b=>/insufficient (lamports|funds)/gi.test(b));y&&(w=y)}return{transactionHash:m,errorMessage:w}})(t,i),f=(({chains:p,chainId:g,network:m,rpcEndpoint:w,transactionHash:y})=>{var b,v;return m==="ethereum"?((v=(b=p.find(A=>A.id===g))==null?void 0:b.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":function(A,E){return`https://explorer.solana.com/tx/${A}?cluster=${E}`}(y||"",Kg(w||""))})({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:r}),d.jsxs(int,{children:[d.jsx(nnt,{}),d.jsx(snt,{children:u}),d.jsx(ont,{children:"Please try again."}),d.jsxs(bB,{children:[d.jsx(vB,{children:"Error message"}),d.jsx(xB,{$clickable:!1,children:h})]}),o&&d.jsxs(bB,{children:[d.jsx(vB,{children:"Transaction hash"}),d.jsxs(dnt,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:f,children:"block explorer"})}),"."]}),d.jsxs(xB,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),c(!0)},children:[o,d.jsx(pnt,{clicked:l})]})]}),d.jsx(unt,{onClick:()=>n({resetNonce:!!o}),children:"Retry transaction"})]}),d.jsx(fn,{})]})};let int=q.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),snt=q.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),ont=q.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),ant=q.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),lnt=q(PI).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),cnt=q.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),unt=q(ur).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),vB=q.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),bB=q.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),dnt=q.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),xB=q.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),hnt=q(XGe).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),fnt=q(ute).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),pnt=({clicked:t})=>d.jsx(t?fnt:hnt,{});const gnt=q.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),mnt=({instruction:t,fees:e,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>d.jsxs(Xg,{children:[(r==null?void 0:r.action)&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Action"}),d.jsx(Qe,{children:r.action})]}),(t==null?void 0:t.total)!=null&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Total"}),d.jsx(Qe,{children:t.total})]}),!(t!=null&&t.total)&&(t==null?void 0:t.amount)!=null&&d.jsxs(Oe,{children:[d.jsx(We,{children:"Total"}),d.jsx(Qe,{children:d.jsx(DL,{quantities:[t.amount,e],tokenPrice:n})})]}),d.jsxs(Oe,{children:[d.jsx(We,{children:"Fees"}),d.jsx(Qe,{children:d.jsx(DL,{quantities:[e],tokenPrice:n})})]}),(t==null?void 0:t.to)&&d.jsxs(Oe,{children:[d.jsx(We,{children:"To"}),d.jsx(Qe,{children:d.jsx(SA,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),ynt=({fees:t,onClose:e,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:l})=>d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:e}),d.jsx(iT,{style:{marginBottom:"16px"},children:d.jsxs("div",{children:[d.jsx(gnt,{color:"var(--privy-color-success-light)"}),d.jsx(Gg,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),d.jsx(go,{title:r??`Transaction ${a?"signed":"complete"}!`,description:n??"You're all set."}),d.jsx(mnt,{solPrice:s,instruction:l,fees:t,transactionInfo:i,rpcEndpoint:o}),d.jsx(jd,{}),d.jsx(wnt,{loading:!1,onClick:e,children:"Close"}),d.jsx(_o,{}),d.jsx(Yt,{})]});let wnt=q(ur).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const vnt={component:()=>{var F,k,z,V,M,G,Z,K,re,le,ne,ae,me,ue,de,Je,ie,be;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=je(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=Te(),l=Xt(),{user:c}=Dt(),[u,h]=x.useState((F=t==null?void 0:t.sendSolanaTransaction)==null?void 0:F.transactionRequest),[f,p]=x.useState(),[g,m]=x.useState(),[w,y]=x.useState({value:0n,isLoading:!1}),[b,v]=x.useState(!1),[A,E]=x.useState(),[O,N]=x.useState(),R=(k=t==null?void 0:t.sendSolanaTransaction)==null?void 0:k.connection,T=(z=t==null?void 0:t.sendSolanaTransaction)==null?void 0:z.transactingWallet,L=!!((V=t==null?void 0:t.sendSolanaTransaction)!=null&&V.signOnly),B=T!=null&&T.imported?F6(c):ea(c),W=Kg((R==null?void 0:R.rpcEndpoint)||""),{solPrice:j,isSolPriceLoading:_}=Lre({enabled:a}),C=x.useMemo(()=>{if(!f)return;let ve=f.spender,se=_d(f.fee),ye=_d(w.value,3,!0),yt=f.instructions.filter($e=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes($e.type)),ce=yt.at(0);return!ce||yt.length>1?{fee:se,spender:ve,balance:ye}:ce.type==="sol-transfer"?{fee:se,spender:ve,balance:ye,total:_d(ce.value)}:ce.type==="spl-transfer"?{fee:se,spender:ve,balance:ye,total:`${Wi({amount:ce.value,decimals:ce.token.decimals})} ${ce.token.symbol}`}:ce.type==="raydium-swap-base-input"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:ve,balance:ye,swap:`${`${Wi({amount:ce.amountIn,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Wi({amount:ce.minimumAmountOut,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="raydium-swap-base-output"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:ve,balance:ye,swap:`${`${Wi({amount:ce.maxAmountIn,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Wi({amount:ce.amountOut,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="jupiter-swap-shared-accounts-route"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:ve,balance:ye,swap:`${`${Wi({amount:ce.inAmount,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Wi({amount:ce.quotedOutAmount,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:ce.type==="jupiter-swap-exact-out-route"&&ce.tokenIn&&ce.tokenOut?{fee:se,spender:ve,balance:ye,swap:`${`${Wi({amount:ce.quotedInAmount,decimals:ce.tokenIn.decimals})} ${ce.tokenIn.symbol}`}  ${`${Wi({amount:ce.outAmount,decimals:ce.tokenOut.decimals})} ${ce.tokenOut.symbol}`}`}:{fee:se,spender:ve,balance:ye}},[f,T==null?void 0:T.address,w]),$=x.useMemo(()=>{let ve;if(!f||!a||!j||_)return;function se(...ce){return G1(ce.reduce(($e,De)=>$e+De,0n),j??0)}(T==null?void 0:T.address)===f.spender&&(ve=se(f.fee));let ye=se(w.value),yt=f.instructions.filter(ce=>ce.type==="sol-transfer"||ce.type==="spl-transfer").at(0);return!yt||f.instructions.length>1?{fee:ve,balance:ye}:yt.type==="sol-transfer"?{fee:ve,balance:ye,total:se(yt.value,(T==null?void 0:T.address)===f.spender?f.fee:0n)}:yt.type==="spl-transfer"?{fee:ve,balance:ye,total:`${Wi({amount:yt.value,decimals:yt.token.decimals})} ${yt.token.symbol}`}:{fee:ve,balance:ye}},[f,a,j,_,T==null?void 0:T.address,w]);if(x.useEffect(()=>{(async function(){if(u&&R&&i)try{m(void 0);let ve=await wJe({tx:u,connection:R,client:i,checkFunds:!L});p(ve)}catch(ve){console.error("Failed to prepare transaction",ve),m(ve)}})()},[u,R,i,L]),x.useEffect(()=>{(async function(){if(!T||!R)return;y({value:w.value,isLoading:!0});let ve=new O4e({name:"mainnet-beta",rpcUrl:R.rpcEndpoint});y({value:await ve.getBalance(T.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[f,R]),!(u&&(t!=null&&t.sendSolanaTransaction)&&T&&R)){let ve=Error("Invalid transaction request");return d.jsx(A2,{error:ve,allowlistConfig:l.allowlistConfig,onRetry:()=>{var se;(se=t==null?void 0:t.sendSolanaTransaction)==null||se.onFailure(ve),s({shouldCallAuthOnSuccess:!1})}})}let P=()=>{var ve,se;if(!b)return A?(ve=t==null?void 0:t.sendSolanaTransaction)==null||ve.onSuccess(A):(se=t==null?void 0:t.sendSolanaTransaction)==null||se.onFailure(O??g??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=P;let S=(K=(Z=(G=(M=t.sendSolanaTransaction)==null?void 0:M.uiOptions)==null?void 0:G.transactionInfo)==null?void 0:Z.contractInfo)!=null&&K.imgUrl?d.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,I=!!(t.funding&&t.funding.supportedOptions.length>0),D=!(f!=null&&f.hasFunds)&&I;if(A){let ve=f==null?void 0:f.instructions.filter(ye=>ye.type==="sol-transfer"||ye.type==="spl-transfer"),se=(ve==null?void 0:ve.length)===1?ve==null?void 0:ve.at(0):void 0;return d.jsx(ynt,{fees:A.fees,onClose:P,transactionInfo:(re=t.sendSolanaTransaction)==null?void 0:re.uiOptions.transactionInfo,solPrice:j,receiptHeader:(le=t.sendSolanaTransaction)==null?void 0:le.uiOptions.successHeader,receiptDescription:(ne=t.sendSolanaTransaction)==null?void 0:ne.uiOptions.successDescription,rpcEndpoint:R.rpcEndpoint,signOnly:L,instruction:(se==null?void 0:se.type)==="sol-transfer"?{to:se.toAccount,amount:se.value}:{to:(se==null?void 0:se.toAccount)||(se==null?void 0:se.toAta),total:C==null?void 0:C.total}})}return O?d.jsx(xie,{transactionError:O,rpcEndpoint:R.rpcEndpoint,onClose:P,network:"solana",onRetry:async()=>{N(void 0);let{blockhash:ve}=await R.getLatestBlockhash();Md(u)?u.message.recentBlockhash=ve:u.recentBlockhash=ve,h(u)}}):d.jsx(ent,{img:S,title:((ue=(me=(ae=t.sendSolanaTransaction)==null?void 0:ae.uiOptions)==null?void 0:me.transactionInfo)==null?void 0:ue.title)||"Confirm transaction",subtitle:((Je=(de=t.sendSolanaTransaction)==null?void 0:de.uiOptions)==null?void 0:Je.description)||`${l.name} wants your permission to approve the following transaction.`,cta:D?"Add funds":((be=(ie=t.sendSolanaTransaction)==null?void 0:ie.uiOptions)==null?void 0:be.buttonText)||"Approve",instructions:(f==null?void 0:f.instructions)??[],network:W=="mainnet-beta"?"Solana":W,blockExplorerUrl:l.solanaClusters[W].blockExplorerUrl,total:a?$==null?void 0:$.total:C==null?void 0:C.total,fee:a?$==null?void 0:$.fee:C==null?void 0:C.fee,balance:a?$==null?void 0:$.balance:C==null?void 0:C.balance,swap:C==null?void 0:C.swap,transactingWalletAddress:T.address,disabled:!(f!=null&&f.hasFunds)&&!I,isSubmitting:b,isPreparing:!f||w.isLoading,isTokenPriceLoading:a&&_,isMissingFunds:!(f!=null&&f.hasFunds),submitError:O??void 0,parseError:g,onClick:D?async()=>{if(T){if(!I)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Ns},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(Ns)}}:async()=>{try{if(v(!0),b||!T||!o||!c||!B)return;let ve=await t.sendSolanaTransaction.onConfirm();E(ve)}catch(ve){console.warn({transaction:u,error:ve}),N(ve)}finally{v(!1)}},onClose:P})}},bnt=({privy:t,appConfig:e,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:l,signWithUserSigner:c,recoverEmbeddedWallet:u,connectedExternalWallet:h},{transaction:f,connection:p,transactionOptions:g,fundWalletConfig:m,uiOptions:w,address:y,signOnly:b})=>new Promise(async(v,A)=>{let{requesterAppId:E}=w||{},O="sendSolanaTransaction",N=y?Lo(l,y):Pf(l);if(!N&&y&&h)try{{let L=await h.sendTransaction(f,p,g),B=await p.getParsedTransaction(L,{maxSupportedTransactionVersion:0}),W=ML(L,f,B??null);return i(O,"onSuccess",{response:W}),void v(W)}}catch(L){throw i(O,"onError",ee.TRANSACTION_FAILURE),A(L),L}if(!N)return i(O,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void A(new Q("No wallet found for address",ee.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(O,"onError",ee.MUST_BE_AUTHENTICATED),void A(new Q("User must be authenticated before signing with a Privy wallet",ee.MUST_BE_AUTHENTICATED));let R=Fn(N);if(!await u({address:N.address}).catch(()=>!1))throw i(O,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),new Q(`Cannot sendSolanaTransaction before embedded wallet ${N.address} is connected`,ee.EMBEDDED_WALLET_NOT_FOUND);let T=async()=>{let L=await r();if(!L||!a)throw i(O,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),A(new Q("Must have valid access token and Privy wallet to send transaction",ee.EMBEDDED_WALLET_NOT_FOUND)),new Q("Must have valid access token and Privy wallet to send transaction",ee.EMBEDDED_WALLET_NOT_FOUND);try{let B,W;if(!await u({address:N.address}))throw i(O,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),A(new Q("Unable to connect to wallet",ee.UNKNOWN_CONNECT_WALLET_ERROR)),new Q("Unable to connect to wallet",ee.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:w==null?void 0:w.showWalletUIs})&&!b)try{if(!await Ire(f,p))throw i(O,"onError",ee.INSUFFICIENT_BALANCE),A(new Q("Solana wallet has insufficient funds for this transaction.",ee.INSUFFICIENT_BALANCE)),new Q("Solana wallet has insufficient funds for this transaction.",ee.INSUFFICIENT_BALANCE)}catch(C){throw console.error(C),i(O,"onError",ee.TRANSACTION_FAILURE),A(new Q(C instanceof Error?C.message:"Transaction failed.",ee.TRANSACTION_FAILURE)),new Q(C instanceof Error?C.message:"Transaction failed.",ee.TRANSACTION_FAILURE)}let{entropyId:j,entropyIdVerifier:_}=ni(l);if(R){let C=Md(f)?Ri(f.message.serialize()):f.serializeMessage(),$=await Ki(t,c,{chain_type:"solana",method:"signMessage",params:{message:C.toString("base64"),encoding:"base64"},wallet_id:N.id});if(!$.data||!("signature"in $.data))throw Error("Failed to sign transaction");f.addSignature(_5(f,N.address),Ri($.data.signature,"base64")),B=f}else B=await WA({accessToken:L,tx:f,walletProxy:a,entropyId:j,entropyIdVerifier:_,transactingWalletAddress:N.address,transactingWalletIndex:N.walletIndex??0});{let{signature:C,receipt:$}=await async function({tx:P,connection:S,transactionOptions:I}){let D;try{let F=P.serialize();D=await S.sendRawTransaction(F,I);let k=await S.confirmTransaction(D);if(k.value.err||k.value.err){let z=k.value.err||k.value.err;throw typeof z=="string"?Error(z):z}return{signature:D,signedTransaction:P,receipt:await S.getParsedTransaction(D,{maxSupportedTransactionVersion:0})}}catch(F){throw F.txSignature=D,F}}({tx:B,connection:p,transactionOptions:g});W=ML(C,f,$),i("sendSolanaTransaction","onSuccess",{response:W})}return v(W),W}catch(B){throw i(O,"onError",ee.TRANSACTION_FAILURE),A(B),B}};if(n({showWalletUIs:w==null?void 0:w.showWalletUIs}))T();else{let{entropyId:L,entropyIdVerifier:B}=ni(l,N),W={recoveryMethod:N.recoveryMethod,connectingWalletAddress:N.address,entropyId:L,entropyIdVerifier:B,isUnifiedWallet:R,onCompleteNavigateTo:vnt,onFailure:_=>{i(O,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),A(_)}},j=eie(e)?Mrt({address:N.address,appConfig:e,methodScreen:Ns,fundWalletConfig:m,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:wT}):void 0;s({connectWallet:W,sendSolanaTransaction:{transactionRequest:f,connection:p,transactionOptions:g,transactingWallet:N,onConfirm:T,onSuccess:_=>{i("sendSolanaTransaction","onSuccess",{response:_}),v(_)},onFailure:_=>{i(O,"onError",ee.TRANSACTION_FAILURE),A(_)},uiOptions:w||{},requesterAppId:E,signOnly:b},funding:j}),o(Zu)}});function xnt(t){let e=Xt(),{user:r}=th(),{setModalData:n}=je(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:l,privy:c,solanaWallets:u}=Te(),h=wu(),{signWithUserSigner:f}=dS();return Yg("sendSolanaTransaction",t),{sendTransaction:async({transaction:p,connection:g,uiOptions:m,transactionOptions:w,fundWalletConfig:y,address:b})=>{let v=b?u.find(A=>A.address===b&&A.walletClientType!=="privy"):void 0;return await bnt({privy:c,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:h,setModalData:n,openModal:o,walletProxy:a,user:r,signWithUserSigner:f,recoverEmbeddedWallet:l,connectedExternalWallet:v},{transaction:p,connection:g,transactionOptions:w,uiOptions:m,fundWalletConfig:y,address:b,signOnly:!1})}}}const Ent=({style:t,color:e,...r})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),vT=t=>{let[e,r]=x.useState(!1);return d.jsxs(Cnt,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>r(!1),1500)},$justCopied:e,children:[e?d.jsx(Ent,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(wne,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Cnt=q.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const _nt=q.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let Ant=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?d.jsx(knt,{children:Object.entries(r).map(([n,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[n,":"]})," ",e(i)]},n))}):d.jsx("span",{children:String(r)});return d.jsx("div",{children:e(t)})};const Eie=q.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let knt=q.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const Cie=({data:t,className:e})=>d.jsx(Eie,{className:e,children:d.jsx(Ant,{data:t})});let $nt=t=>{if(!Mi(t))return t;try{let e=Ice(t);return e.includes("")?t:e}catch{return t}},Snt=t=>JSON.stringify(t,null,2),Int=t=>{let{types:e,primaryType:r,...n}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(Ont,{data:n}),d.jsx(vT,{text:Snt(t.typedData),itemName:"full payload to clipboard"})," "]})};const Tnt=({method:t,messageData:e,copy:r,iconUrl:n,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Ht,{title:r.title,subtitle:r.description,showClose:!0,onClose:h,icon:vSe,iconVariant:"subtle",helpText:a?d.jsx(Nnt,{children:a}):void 0,primaryCta:{label:r.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(nT,{children:[n?d.jsx(_nt,{style:{alignSelf:"center"},size:"sm",src:n,alt:"app image"}):null,d.jsxs(Pnt,{children:[t==="personal_sign"&&d.jsx(EB,{children:$nt(e)}),t==="eth_signTypedData_v4"&&d.jsx(Int,{typedData:e}),t==="solana_signMessage"&&d.jsx(EB,{children:e})]})]})}),KA={component:()=>{let{authenticated:t}=Dt(),{initializeWalletProxy:e,closePrivyModal:r}=Te(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=je(),[o,a]=x.useState(!0),[l,c]=x.useState(""),[u,h]=x.useState(),[f,p]=x.useState(null),[g,m]=x.useState(!1);x.useEffect(()=>{t||n(Ui)},[t]),x.useEffect(()=>{e(Mte).then(R=>{a(!1),R||(c("An error has occurred, please try again."),h(new $i(new $0(l,Ra.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:w,data:y,confirmAndSign:b,onSuccess:v,onFailure:A,uiOptions:E}=i.signMessage,O={title:(E==null?void 0:E.title)||"Sign message",description:(E==null?void 0:E.description)||"Signing this message will not cost you any fees.",buttonText:(E==null?void 0:E.buttonText)||"Sign and continue"},N=R=>{R?v(R):A(u||new $i(new $0("The user rejected the request.",Ra.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),h(void 0)},200)};return s.current=()=>{N(f)},d.jsx(Tnt,{method:w,messageData:y,copy:O,iconUrl:E!=null&&E.iconUrl&&typeof E.iconUrl=="string"?E.iconUrl:void 0,isLoading:g,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:E==null?void 0:E.isCancellable,onSign:async()=>{m(!0),c("");try{let R=await b();p(R),m(!1),setTimeout(()=>{N(R)},Br)}catch(R){console.error(R),c("An error has occurred, please try again."),h(new $i(new $0(l,Ra.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},onCancel:()=>N(null),onClose:()=>N(f)})}};let Pnt=q.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Nnt=q.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),Ont=q(Cie).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),EB=q(Eie).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Rnt(t){let{isHeadlessSigning:e,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:l}=Te(),{user:c}=th(),u=wu(),{setModalData:h}=je(),{signWithUserSigner:f}=dS();return Yg("signSolanaMessage",t),{signMessage:({message:p,options:g})=>new Promise(async(m,w)=>{var N;let y=g!=null&&g.address?Lo(c,g.address):Pf(c);if(!y&&(g!=null&&g.address)){let R=a.find(T=>T.address===g.address&&T.walletClientType!=="privy");if(R)try{let T=await R.signMessage(p);u("signSolanaMessage","onSuccess",{signature:T}),m(T)}catch(T){u("signSolanaMessage","onError",ee.UNABLE_TO_SIGN),w(T)}}if(!y)return u("signSolanaMessage","onError",ee.UNABLE_TO_SIGN),void w(Error("No embedded or connected wallet found for address."));if(!c)return u("signSolanaMessage","onError",ee.MUST_BE_AUTHENTICATED),void w(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:b,entropyIdVerifier:v}=ni(c,y),A=Fn(y),E=Ri(p).toString("base64");if(E.length<1)return u("signMessage","onError",ee.INVALID_MESSAGE),void w(Error("Message must be a non-empty string"));let O=async()=>{let R;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let T=await l.getAccessToken();if(!T)throw Error("User must be authenticated to use their embedded wallet.");let L=r??await n(15e3);if(!L)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:y.address}))throw Error("Unable to connect to wallet");if(A){let B=await Ki(o,f,{chain_type:"solana",method:"signMessage",params:{message:E,encoding:"base64"},wallet_id:y.id});if(!B.data||!("signature"in B.data))throw Error("Failed to sign message");R=B.data.signature}else{let{response:B}=await L.rpc({accessToken:T,entropyId:b,entropyIdVerifier:v,chainType:"solana",hdWalletIndex:y.walletIndex??0,request:{method:"signMessage",params:{message:E}}});R=B.data.signature}return R};if(e({showWalletUIs:(N=g==null?void 0:g.uiOptions)==null?void 0:N.showWalletUIs}))try{let R=await O(),T=new Uint8Array(Ri(R,"base64"));u("signSolanaMessage","onSuccess",{signature:T}),m(T)}catch(R){w(R)}else h({signMessage:{method:"solana_signMessage",data:E,confirmAndSign:O,onSuccess:R=>{let T=new Uint8Array(Ri(R,"base64"));u("signSolanaMessage","onSuccess",{signature:T}),m(T)},onFailure:R=>{w(R)},uiOptions:g==null?void 0:g.uiOptions},connectWallet:{recoveryMethod:y.recoveryMethod,connectingWalletAddress:y.address,entropyId:b,entropyIdVerifier:v,isUnifiedWallet:A,onCompleteNavigateTo:KA,onFailure:R=>{u("signSolanaMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),w(R)}}}),s(Zu)})}}const I2=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:r,walletProxy:n,recoverEmbeddedWallet:i,privy:s}=Te(),{sendTransaction:o}=xnt(),{signMessage:a}=Rnt(),{create:l}=Xne(),{signWithUserSigner:c}=dS(),{user:u}=th(),{ready:h}=al(),f=x.useMemo(()=>{if(!n)return r;let p=[...GK(u),F6(u)].filter(g=>!!g).map(g=>({type:"solana",imported:g.imported,address:g.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:g.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new Q("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new Q("Cannot unlink an embedded Solana wallet")},async getProvider(){return new jtt(n,g.address,this.signMessage)},signMessage:async m=>await a({message:m,options:{address:g.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(m,w,y){let{signature:b}=await o({transaction:m,connection:w,transactionOptions:y,address:g.address});return b},async signTransaction(m){let w=await t.getAccessToken();if(!w||!n)throw new Q("Must have valid access token and Privy wallet to send transaction",ee.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new Q("Wallet couldn't be connected",ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=ni(u,g);if(Fn(g)){let v=Md(m)?Ri(m.message.serialize()):m.serializeMessage(),A=await Ki(s,c,{chain_type:"solana",method:"signMessage",params:{message:v.toString("base64"),encoding:"base64"},wallet_id:g.id});if(A.data&&"signature"in A.data)return m.addSignature(_5(m,g.address),Ri(A.data.signature,"base64")),m;throw Error("Failed to sign transaction")}return await WA({tx:m,accessToken:w,walletProxy:n,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0})},async signAllTransactions(m){let w=await t.getAccessToken();if(!w||!n)throw new Q("Must have valid access token and Privy wallet to send transaction",ee.MUST_BE_AUTHENTICATED);if(!await i({address:g.address}).catch(()=>!1))throw new Q("Wallet couldn't be connected",ee.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=ni(u,g);if(Fn(g))return await Promise.all(m.map(async v=>{let A=Md(v)?Ri(v.message.serialize()):v.serializeMessage(),E=await Ki(s,c,{chain_type:"solana",method:"signMessage",params:{message:A.toString("base64"),encoding:"base64"},wallet_id:g.id});if(E.data&&"signature"in E.data)return v.addSignature(_5(v,g.address),Ri(E.data.signature,"base64")),v;throw Error("Failed to sign transaction")}));for(let v of m)await WA({tx:v,accessToken:w,walletProxy:n,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:g.address,transactingWalletIndex:g.walletIndex??0});return m},loginOrLink:async()=>{throw new Q("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return r.concat(p)},[u,n,t,r]);return{ready:!(!h||!n),createWallet:async p=>{p&&"target"in p&&p&&(p=void 0);let{account:g}=await l({chainType:"solana",options:p});return g},exportWallet:e,wallets:f}},O5={component:()=>{var L,B,W;let{wallets:t}=al(),{wallets:e}=I2(),{data:r,setModalData:n,navigate:i,lastScreen:s}=je(),{rpcConfig:o,appId:a,createAnalyticsEvent:l,closePrivyModal:c}=Te(),u=Xt(),[h,f]=x.useState(void 0),[p,g]=x.useState(!1),m=Qg(),w=r==null?void 0:r.funding,{reloadBalance:y}=Qne({rpcConfig:o,appId:a,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),b=w.chainType==="solana",v=b?w.isUSDC?"USDC":"SOL":w.erc20Address?(L=w.erc20ContractInfo)==null?void 0:L.symbol:w.chain.nativeCurrency.symbol,A=b?e.find(({address:j})=>j===w.address):t.find(({address:j})=>si(j)===si(w.address));if(!w)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||Ns},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),i(Ur),d.jsx(d.Fragment,{});x.useEffect(()=>{let j=b?async function(){if(w.chainType!=="solana")return;let C=m(S2);C?(w.isUSDC?C.getTokenBalance({address:w.address,cluster:w.cluster,mintAddress:gb[w.cluster.name]}).then(({amount:$})=>$):C.getBalance({address:w.address,cluster:w.cluster})).then($=>{let P=BigInt($);h&&P>h&&(g(!0),l({eventName:il,payload:{provider:"manual",status:"success",chainType:"solana",address:A==null?void 0:A.address,value:w.isUSDC?ai(P-h,6):ai(P-h,9),token:w.isUSDC?"USDC":"SOL"}})),f(P)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await y()??BigInt(0);{let{balance:C}=await mT({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:a});return C}})().then(C=>{var $,P;h&&C>h&&(g(!0),l({eventName:il,payload:{provider:"manual",status:"success",chainType:"ethereum",address:A==null?void 0:A.address,chainId:w.chain.id,value:ai(C-h,(($=w.erc20ContractInfo)==null?void 0:$.decimals)??18),token:((P=w.erc20ContractInfo)==null?void 0:P.symbol)??w.erc20Address??"ETH"}})),f(C)}).catch(()=>f(void 0))},_=setInterval(j,2e3);return j(),()=>clearInterval(_)},[h]);let E=x.useMemo(()=>{var j;return h==null?"":w.isUSDC?Wi({amount:h,decimals:6}):b?_d(h,3,!0,!0):((j=w.erc20ContractInfo)==null?void 0:j.decimals)!=null?Wi({amount:h,decimals:w.erc20ContractInfo.decimals}):R4e({wei:h})},[h,b,w]),O=w.chainType==="ethereum"?w.chain.name:Mnt[w.cluster.name],N=x.useMemo(()=>{var j,_;return((j=w.uiConfig)==null?void 0:j.receiveFundsTitle)===""?null:d.jsx(hu,{children:((_=w.uiConfig)==null?void 0:_.receiveFundsTitle)??`Receive ${w.amount} ${v??""}`.trim()})},[(B=w.uiConfig)==null?void 0:B.receiveFundsTitle,w.amount,v]),R=x.useMemo(()=>{var j,_;return((j=w.uiConfig)==null?void 0:j.receiveFundsSubtitle)===""?null:d.jsx(Dd,{children:((_=w.uiConfig)==null?void 0:_.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${O}.`})},[(W=w.uiConfig)==null?void 0:W.receiveFundsSubtitle,O]),T=w.chainType==="solana"&&w.isUSDC&&gb[w.cluster.name]?`?spl-token=${gb[w.cluster.name]}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),N,R,d.jsxs(V4,{style:{gap:"1rem",margin:N||R?"1rem 0":"0"},children:[d.jsx(k2,{url:`${w.chainType}:${w.address}${T}`,size:200,squareLogoElement:jnt}),d.jsxs(Zne,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",O,"."]}),d.jsx(ax,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${E} ${v}`,address:w.address}),p&&d.jsx(ur,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(Yt,{})]})}};let jnt=({...t})=>d.jsx(ore,{color:"black",...t}),Mnt={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},Dnt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Fnt=q.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var Lnt=({onBack:t,details:e})=>d.jsxs(Fnt,{children:[d.jsx(Pt,{backFn:t}),d.jsx(Cie,{data:e}),d.jsx(Yt,{})]});let Bnt=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return cn(t*e)}catch{return}};const Unt=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:n}),d.jsx(AQe,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx(Fre,{tokenPrice:i,from:e.from,to:e.to,gas:Bnt(e),txn:t,transactionInfo:r,tokenSymbol:s}),d.jsx(jd,{}),d.jsx(znt,{loading:!1,onClick:n,children:"All Done"}),d.jsx(_o,{}),d.jsx(Yt,{})]});let znt=q(ur).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const Wnt=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Hnt=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],qnt=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Vnt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],Gnt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Knt=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ynt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Znt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Jnt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],_ie=(t,e)=>{let r=xc(qnt,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=xc(HA,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=xc(Wnt,t);if(i&&typeof i.args[1]=="string"){let h=Qnt(i.args[1]);if(h&&h[4].encodedInitData)return _ie(h[4].encodedInitData,e)}let s=xc(Knt,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=xc(Ynt,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=xc(Gnt,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=xc(Jnt,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=xc(Znt,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=xc(Vnt,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let xc=(t,e)=>{try{let r=$H({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},Qnt=t=>{try{if(typeof t=="string")return Cg(Hnt,`0x${t.slice(10)}`)}catch{return null}},EE=t=>`${parseFloat(t).toFixed(2)}`;const Xnt=(t,e,r,n)=>{let[i,s]=x.useState(null),{walletProxy:o}=Te();return x.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await A5(t,r,e,n).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)},[t]),i};let CB=new $i(new $0("There was an issue preparing your transaction",Ra.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),_B=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const Aie={component:()=>{var wt,Le,Ar,qe,Ft,zi,er,Jt,U,H,Y,J,X,te,ge,fe,Be,vt;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=je(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=Te(),{user:u}=Dt(),h=Xt(),[f,p]=x.useState(0),[g,m]=x.useState(0),[w,y]=x.useState(_B(t,f)),[b,v]=x.useState(null),[A,E]=x.useState(),[O,N]=x.useState(!1),[R,T]=x.useState(null),[L,B]=x.useState(null),[W,j]=x.useState(null),[_,C]=x.useState(void 0),[$,P]=x.useState(void 0),[S,I]=x.useState(!1),[D,F]=x.useState(!1),[k,z]=x.useState([]),[V,M]=x.useState([]),[G,Z]=x.useState("uninitiated"),[K,re]=x.useState(void 0);if(!w||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return d.jsx(A2,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var Ee;(Ee=t==null?void 0:t.sendTransaction)==null||Ee.onFailure(CB),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:le}=t.sendTransaction,ne=x.useMemo(()=>o.find(Ee=>Number(Ee.id)===Number(w.chainId)),[w.chainId]),ae=(ne==null?void 0:ne.nativeCurrency.symbol)??"ETH",me=x.useMemo(()=>_ie(w.data,!!h.embeddedWallets.extendedCalldataDecoding),[w.data]),{action:ue,isErc20Ish:de,isNFTIsh:Je,functionName:ie}=me,{toAddress:be,tokenAddress:ve}=x.useMemo(()=>({toAddress:me.isErc20Ish?me.transferTo:w.to??void 0,tokenAddress:me.isErc20Ish?w.to:void 0}),[me]);x.useEffect(()=>{w.to&&ne&&de&&fie({address:w.to,chain:ne,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(v).catch(console.error)},[w.to,ne]);let{tokenPrice:se,isTokenPriceLoading:ye}=Zg(w.chainId),{balance:yt}=Qne({rpcConfig:h.rpcConfig,appId:h.id,address:le,chain:ne}),ce=function({rpcConfig:Ee,appId:Me,address:at,chain:Fe,tokenInfo:xe}){let{chains:ft}=Te(),[Ct,jt]=x.useState(null),[qt,Qt]=x.useState(!1),Vt=x.useMemo(()=>{let et=Fe||ft[0];if(et)return ru({chain:Fe,transport:nu(c6e(et,Ee,Me))})},[Fe,Ee,Me]),dr=x.useCallback(async()=>{if(at&&Vt&&xe.address)try{return Qt(!0),await Vt.readContract({address:xe.address,abi:Dnt,functionName:"balanceOf",args:[at]})}catch(et){console.error(et)}finally{Qt(!1)}},[Vt,at,xe==null?void 0:xe.address,Fe]);return x.useEffect(()=>{dr().then(et=>et!=null&&jt(et))},[dr]),{balance:Ct,isLoading:qt&&Ct==null,formattedBalance:Wi({amount:Ct??BigInt(0),decimals:xe.decimals})}}({rpcConfig:h.rpcConfig,appId:h.id,address:le,tokenInfo:{address:ve||"",decimals:(b==null?void 0:b.decimals)??18},chain:ne}),$e=x.useMemo(()=>dg(Number(w.chainId),o,s,{appId:h.id}),[w.chainId,s]),De=Xnt(w,le,$e,(wt=t==null?void 0:t.sendTransaction)==null?void 0:wt.prepareTransactionRequest);x.useEffect(()=>{y(_B(t,f))},[f]),x.useEffect(()=>{var Ee;(Ee=t.sendTransaction)!=null&&Ee.getIsSponsored?t.sendTransaction.getIsSponsored().then(E).catch(console.error):E(!1)},[t.sendTransaction.getIsSponsored]);let Xe=()=>{var Ee,Me,at;if(!O)return R?(Ee=t==null?void 0:t.sendTransaction)==null||Ee.onSuccess({hash:R}):W||De!=null&&De.errors[0]?(Me=t==null?void 0:t.sendTransaction)==null||Me.onFailure(W??(De==null?void 0:De.errors[0])??CB):(at=t==null?void 0:t.sendTransaction)==null||at.onFailure(new $i(new $0("The user rejected the request",Ra.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=Xe;let Ke=!!(t.funding&&t.funding.supportedOptions.length>0),kt=Wa(BigInt((De==null?void 0:De.totalGasEstimate)??0n),ae),ht=c&&se?Vh(BigInt((De==null?void 0:De.totalGasEstimate)??0n),se):void 0,rt=Wa(yt??0n,ae,void 0,!0),Ae=c&&se?Vh(yt??0n,se):void 0,Se=b&&!ce.isLoading&&de&&ue!=="approve"?`${ce.formattedBalance} ${b.symbol}`:void 0,he=(qe=(Ar=(Le=t.sendTransaction)==null?void 0:Le.uiOptions)==null?void 0:Ar.transactionInfo)==null?void 0:qe.title;he||(he=ue==="approve"?de?"Confirm address":"Confirm action":`Approve ${ue}`);let He=x.useMemo(()=>{var Ee,Me,at,Fe,xe,ft,Ct,jt;if((Me=(Ee=t.sendTransaction)==null?void 0:Ee.uiOptions)!=null&&Me.description)return(Fe=(at=t.sendTransaction)==null?void 0:at.uiOptions)==null?void 0:Fe.description;if(ue==="approve"&&ie==="setApprovalForAll"&&me.approved){let qt=d.jsx(Rt,{address:me.operator||"",url:(ft=(xe=ne==null?void 0:ne.blockExplorers)==null?void 0:xe.default)==null?void 0:ft.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",qt," to transfer tokens on your behalf."]})}if(ue==="approve"&&ie==="setApprovalForAll"&&!me.approved){let qt=d.jsx(Rt,{address:me.operator||"",url:(jt=(Ct=ne==null?void 0:ne.blockExplorers)==null?void 0:Ct.default)==null?void 0:jt.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",qt," from transferring tokens on your behalf."]})}return de&&ue==="approve"||de&&ue==="approve"?`${h.name} would like your permission for ${si(me.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`},[h.name,de,me,(Ft=t.sendSolanaTransaction)==null?void 0:Ft.uiOptions.description,ie]),nt=(U=(Jt=(er=(zi=t.sendTransaction)==null?void 0:zi.uiOptions)==null?void 0:er.transactionInfo)==null?void 0:Jt.contractInfo)!=null&&U.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Ve=!(!De||De.errors[0]||De.hasFunds||A!==!1),ot=Ve&&Ke,Ie=ot?"Add funds":((Y=(H=t.sendTransaction)==null?void 0:H.uiOptions)==null?void 0:Y.buttonText)||(f<g?"Continue":"Approve"),dt=Ee=>{if(!Ee)throw Error("Transaction scan failed");if(Ee.validation.status==="Success"&&(Ee.validation.result_type==="Benign"?P("safe"):Ee.validation.result_type==="Warning"?P("warn"):Ee.validation.result_type==="Malicious"&&(P("error"),F(!0))),Ee.simulation.status!=="Success")throw Error("Simulation failed");{C(Ee.simulation.params);let{assetsIn:Me,assetsOut:at}=function(Fe,xe){var jt,qt,Qt,Vt,dr;let ft=[],Ct=new Map;if(Fe){for(let et of Fe)if(et.in[0]){let Zr;Zr=et.asset.type==="ERC721"||et.in[0].value==="approve_for_all"?{id:`nft:${et.asset.name}`,nftName:et.asset.name,nftCount:et.in.length}:{id:`token:${et.asset.type}:${et.asset.symbol}:${et.asset.name}`,iconUrl:et.asset.logo_url,value:et.in[0].value,symbol:et.asset.symbol,usdValue:et.in[0].usd_price?EE(et.in[0].usd_price):void 0,decimals:et.asset.decimals},ft.push(Zr)}else if((jt=et.out[0])!=null&&jt.value){let Zr;Zr=et.asset.type==="ERC721"||et.out[0].value==="approve_for_all"?{id:`nft:${et.asset.name}`,nftName:et.asset.name}:{id:`token:${et.asset.type}:${et.asset.symbol}:${et.asset.name}`,iconUrl:et.asset.logo_url,value:et.out[0].value,symbol:et.asset.symbol,usdValue:et.out[0].usd_price?EE(et.out[0].usd_price):void 0,decimals:et.asset.decimals},Ct.has(Zr.id)||Ct.set(Zr.id,Zr)}}for(let et of xe)for(let Zr of Object.keys(et.spenders)){let _t;_t=et.asset.type==="ERC721"||((qt=et.spenders[Zr])==null?void 0:qt.value)==="approve_for_all"?{id:`nft:${et.asset.name}`,nftName:et.asset.name}:{id:`token:${et.asset.type}:${et.asset.symbol}:${et.asset.name}`,iconUrl:et.asset.logo_url,value:(Qt=et.spenders[Zr])==null?void 0:Qt.value,symbol:et.asset.symbol,usdValue:(Vt=et.spenders[Zr])!=null&&Vt.usd_price?EE((dr=et.spenders[Zr])==null?void 0:dr.usd_price):void 0,decimals:et.asset.decimals},Ct.has(_t.id)||Ct.set(_t.id,_t)}return{assetsIn:ft,assetsOut:Array.from(Ct.values())}}(Ee.simulation.assets_diffs,Ee.simulation.exposures);if(at.length===0&&Me.length===0)throw Error("No tokens found");z(at),M(Me)}};if(x.useEffect(()=>{var Ee;(Ee=t.sendTransaction)!=null&&Ee.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&G==="uninitiated"&&(Z("in progress"),t.sendTransaction.scanTransaction().then(Me=>{dt(Me),Z("completed")}).catch(()=>Z("failed")))},[!!((J=t.sendTransaction)!=null&&J.scanTransaction)]),x.useEffect(()=>{var Ee;(Ee=t.sendTransaction)!=null&&Ee.scanTransaction&&G!=="failed"||((Me,at,Fe)=>{if(m((xe=>xe!=null&&xe.sendTransaction?"transactionRequest"in xe.sendTransaction?0:xe.sendTransaction.transactionRequests.length-1:0)(t)),at.isErc20Ish&&at.amount&&Fe){let xe=N5({amount:at.amount,decimals:Fe.decimals});re(xe),z([{value:xe,symbol:Fe==null?void 0:Fe.symbol,decimals:Fe==null?void 0:Fe.decimals}])}else if(Me.value){let xe=BigInt(Me.value),ft=se?Vh(xe,se):void 0;z(c&&ft?[{value:ft}]:[{value:$re(xe),symbol:ae,decimals:18,usdValue:ft}])}else z(c?[{value:"$0"}]:[{value:"0",symbol:ae,decimals:18}])})((De==null?void 0:De.tx)??w,me,b)},[w,De==null?void 0:De.tx,me,b,G]),L)return d.jsx(Unt,{txn:(De==null?void 0:De.tx)??w,onClose:Xe,receipt:L,transactionInfo:(X=t.sendTransaction)==null?void 0:X.uiOptions.transactionInfo,tokenPrice:se,tokenSymbol:ae,receiptHeader:(te=t.sendTransaction)==null?void 0:te.uiOptions.successHeader,receiptDescription:(ge=t.sendTransaction)==null?void 0:ge.uiOptions.successDescription});if(W)return d.jsx(xie,{transactionError:W,transactionHash:R??void 0,network:"ethereum",chainId:(De==null?void 0:De.tx.chainId)??w.chainId,onClose:Xe,onRetry:({resetNonce:Ee})=>{j(null);let Me={...(De==null?void 0:De.tx)??w};Ee&&(Me.nonce=void 0),y(Me)}});let bt=g!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return S&&_?d.jsx(Lnt,{details:_,onBack:()=>I(!1)}):d.jsx(Xrt,{transactionIndex:f,onBack:bt,maxIndex:g,disabled:Ve&&!Ke||D,isSubmitting:O,submitError:W,isPreparing:!De,isTokenPriceLoading:ye,isTokenContractInfoLoading:!Je&&!b,prepareError:De==null?void 0:De.errors[0],symbol:b==null?void 0:b.symbol,chain:ne,img:nt,title:he,subtitle:He,txValue:w.value,fee:ht??kt,isSponsored:A,from:le??"",to:be,tokenAddress:ve??void 0,network:((fe=h.chains.find(Ee=>Ee.id===w.chainId))==null?void 0:fe.name)??"",transactionDetails:{...me,formattedAmount:K},cta:Ie,missingFunds:Ve,action:ue,balance:Se??Ae??rt,onClose:Xe,onClick:ot?async()=>{var Ee;if(le){if(!Ke)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:Ns,chainType:"ethereum",amount:kf(BigInt((De==null?void 0:De.tx.value)??0)+BigInt(((Ee=De==null?void 0:De.totalGasEstimate)==null?void 0:Ee.toString())??0)),chain:ne},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(Ns)}}:async()=>{var Ee,Me;if(f<g)p(f+1);else{N(!0);try{let at=await i.getAccessToken();if(O||!at||!l||!u)return;let Fe=await t.sendTransaction.onConfirm({transactionRequest:(De==null?void 0:De.tx)??w});if(T(Fe),(Ee=t.sendTransaction)==null?void 0:Ee.signOnly)return await new Promise(ft=>setTimeout(ft,Br)),(Me=t==null?void 0:t.sendTransaction)==null||Me.onSuccess({hash:Fe}),a({shouldCallAuthOnSuccess:!1});let xe=await $e.waitForTransactionReceipt({hash:Fe});if(xe.status==="reverted")throw Error("Transaction failed");B(xe)}catch(at){console.warn({transaction:(De==null?void 0:De.tx)??w,error:at}),j(at)}finally{N(!1)}}},validation:$,hasScanDetails:!!_,setIsScanDetailsOpen:I,preventMaliciousTransaction:D,setPreventMaliciousTransaction:F,tokensSent:k,tokensReceived:V,isScanning:G==="in progress",isCancellable:((vt=(Be=t.sendTransaction)==null?void 0:Be.uiOptions)==null?void 0:vt.isCancellable)??!1,functionName:ie})}};function Ms({title:t}){var o,a;let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=je();return d.jsx(Pt,{title:t,backFn:e===O5?r:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>n(Aie):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),n(l.methodScreen)}:void 0})}const kie={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=Te(),{navigate:i,setModalData:s,app:o,data:a}=je(),{wallets:l}=al(),c=Qg(),[u,h]=x.useState(null),[f,p]=x.useState(null),[g,m]=x.useState([]),[w,y]=x.useState(0),[b,v]=x.useState(!1),[A,E]=x.useState(!1),[O,N]=x.useState(!1),[R,T]=x.useState(!1),[L,B]=x.useState(),[W,j]=x.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:_,cluster:C,connectedWalletAddress:$}=a.funding,[P,S]=x.useState(a.funding.amount),I=$?l.find(({address:me})=>me===$):l[0],D=yu((I==null?void 0:I.walletClientType)||"unknown"),F=(D==null?void 0:D.name)||"wallet",[k,z]=x.useState(null);x.useEffect(()=>{(async()=>{if(!I)return;let me=await I.getEthereumProvider();z(tG({account:I.address,transport:nG(me)}).extend(z$))})().catch(console.error)},[I]);let[V,M]=x.useState(0n),G=_d(V);x.useEffect(()=>{let me=c(S2);me?me.getBalance({address:_,cluster:C}).then(ue=>M(BigInt(ue))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[Z,K]=x.useState(),{tokenPrice:re}=Zg("solana"),{fundingAmountInBaseUnit:le,fundingAmountInUsd:ne}=Sre({amount:P,fee:0n,tokenPrice:re,isUsdc:a.funding.isUSDC});if(x.useEffect(()=>{(async()=>{if(!k||!I)return;let me=["testnet","devnet"].includes(C.name);me&&console.warn("Solana testnets are not supported for bridging");let ue=V$(o.chains).filter(({testnet:ve})=>!!ve===me),de=(await tie({chains:ue,address:I.address,appId:e,rpcConfig:t})).filter(ve=>ve.balance>0n);if(de.length<1)return void h(new Q(`Wallet ${si(I.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));de.sort((ve,se)=>Number(se.balance-ve.balance));let Je=(await Promise.allSettled(de.map(async ve=>({...ve,quote:await Cw({isTestnet:!1,input:I0({amount:le.toString(),user:I.address,recipient:_,destinationChainId:_A,destinationCurrency:AA,originChainId:ve.chain.id})})})))).filter(ve=>ve.status==="fulfilled").map(ve=>ve.value);if(Je.length<1)return void h(new Q(`Unable to fetch quotes for bridging. Wallet ${si(I.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE));let ie=Je.map(({quote:ve,balance:se,chain:ye})=>({bridgeTx:I5(ve),balance:se,chain:ye,isErc20Quote:!1})).filter(({bridgeTx:ve})=>!!ve);if(ie.length>1)return void m(ie);let be=ie.at(0);be?(E(!0),K({data:be.bridgeTx.data,to:be.bridgeTx.to,value:be.bridgeTx.value,chain:be.chain})):h(new Q(`Unable to select bridge option from quotes. Wallet ${si(I.address)} does not have enough funds.`,void 0,ee.INSUFFICIENT_BALANCE))})().catch(console.error)},[k]),x.useEffect(()=>{(async()=>{let me,ue;if(!k||!I||b||O||!Z)return;v(!0);let de=ru({chain:Z.chain,transport:nu(cu(Z.chain,t,e))});try{me=await de.prepareTransactionRequest({account:I.address,to:Z.to,chain:Z.chain,data:Z.data,value:BigInt(Z.value??0)})}catch(Je){console.error(Je),g.length>1&&p(Je.shortMessage??"Something went wrong")}if(me){v(!1),N(!0);try{await k.switchChain({id:Z.chain.id})}catch{await k.addChain({chain:Z.chain}),await k.switchChain({id:Z.chain.id})}try{ue=await k.sendTransaction(me)}catch(Je){console.error(Je),Je.name==="TransactionExecutionError"&&(g.length<1?h(new Q(Je.shortMessage,void 0,ee.TRANSACTION_FAILURE)):p(Je.shortMessage??"Something went wrong"))}if(ue)return await k.waitForTransactionReceipt({hash:ue}),A?(j("pending"),void B(ue)):(N(!1),T(!0),void n({eventName:il,payload:{provider:"external",status:"success",txHash:ue,address:I.address,chainId:Z.chain.id,chainType:"ethereum",value:Z.value?ai(BigInt(Z.value),18):void 0,token:"ETH",destination:_,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:ai(le,9),destinationToken:"SOL"}}));N(!1)}else v(!1)})().catch(console.error)},[k,Z]),gT({transactionHash:L,wallet:I,isTestnet:!1,bridgingStatus:W,setBridgingStatus:j,onSuccess({transactionHash:me,wallet:ue}){E(!1),T(!0),n({eventName:il,payload:{provider:"external",status:"success",txHash:me,address:ue.address,chainId:Z==null?void 0:Z.chain.id,chainType:"ethereum",value:Z!=null&&Z.value?ai(BigInt(Z.value),18):void 0,token:"ETH",destination:_,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:ai(le,9),destinationToken:"SOL"}})},onFailure({error:me}){E(!1),h(me)}}),x.useEffect(()=>{u&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:u,previousScreen:em}}),i(Ur,!1))},[u]),x.useEffect(()=>{if(!R)return;let me=setTimeout(r,L4);return()=>clearTimeout(me)},[R]),R)return d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(ol,{}),d.jsxs(E2,{children:[d.jsx(Gg,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(go,{title:"Success!",description:`Youve successfully added ${P} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(_o,{}),d.jsx(Yt,{})]});let ae=g[w];return g.length>1&&ae?d.jsx(cie,{displayName:F,configuredFundingChain:C,formattedBalance:G,fundingAmount:P,fundingCurrency:"SOL",fundingAmountInUsd:ne,options:g,selectedOption:ae,isPreparing:b,isSubmitting:O,addressToFund:_,fundingWalletAddress:(I==null?void 0:I.address)||"",errorMessage:f,onSubmit:()=>{var me;((me=a.funding)==null?void 0:me.amount)!==P?async function(){if(I&&ae)try{let ue=await Cw({isTestnet:!1,input:I0({amount:le.toString(),user:I.address,recipient:_,destinationChainId:_A,destinationCurrency:AA,originChainId:ae.chain.id})}),de=I5(ue);if(!de)throw Error("Invalid transaction request");E(!0),K({data:de.data,to:de.to,value:de.value,chain:ae.chain})}catch(ue){console.error(ue),h(new Q("Unable to fetch quotes for bridging",ue,ee.INSUFFICIENT_BALANCE))}}().catch(console.error):K({to:ae.bridgeTx.to,data:ae.bridgeTx.data,value:ae.bridgeTx.value,chain:ae.chain})},onSelect:me=>{me!==w&&(p(null),y(me))},onAmountChange:S}):O&&I?d.jsx(lx,{wallet:I,displayName:F,addressToFund:_,isBridging:A,isErc20Flow:!1,chainId:"solana",chainName:C.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(Ms,{}),d.jsx(Wf,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Yt,{})]})}},CE=new Map([[Ns,null],[em,"external"],[uie,"external"],[wT,"external"],[kie,"external"],[die,"external"],[O5,"manual"],[pie,"moonpay"]]),eit=()=>{let t=Xt(),{user:e}=Dt(),{client:r,refreshSessionAndUser:n,walletProxy:i}=Te();return{migrate:x.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new Q("User must be authenticated before migrating wallets",ee.MUST_BE_AUTHENTICATED);let s=ea(e);if(!s||Fn(s)||!fg(s))return{success:!0};if(!i)throw new Q("Cannot connect to wallet proxy");let o=await r.getAccessToken();if(!o)throw new Q("User must be authenticated before migrating wallets",ee.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter(fg),{entropyId:l,entropyIdVerifier:c}=ni(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!Ew(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await n(),{success:!0}},[t.embeddedWallets.mode,e,i,r,n])}},tit=({disabled:t})=>{let{migrate:e}=eit(),{user:r}=Dt(),{walletProxy:n}=Te();return x.useEffect(()=>{!t&&r&&n&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[r,n,t,e]),null},rit=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function nit(t){let{logout:e}=x.useContext(Og);return Yg("logout",t),{logout:e}}const iit=({providerApp:t,success:e,error:r,onClose:n})=>{let{title:i,subtitle:s}=x.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:r?{title:"Authentication failed",subtitle:r.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,r,t.name]);return d.jsx(Ht,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},onBack:n,watermark:!0})},sit={component:()=>{let t=Xt(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=je(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=Te(),{logout:c}=nit(),[u,h]=x.useState({}),f=e==null?void 0:e.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},g=new Q(`There was an issue connecting your ${p.name} account. Please try again.`),m=new Xi(async y=>{var b,v,A,E,O,N,R,T,L,B,W,j,_,C,$;if(f.popup)try{let P=await s({appId:y,popup:f.popup,action:f.action});h({data:P})}catch(P){if(P instanceof Q)h({error:P});else if(P instanceof to){if(P.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED&&((v=(b=P.data)==null?void 0:b.data)!=null&&v.nonce))return n({accountTransfer:{nonce:(E=(A=P.data)==null?void 0:A.data)==null?void 0:E.nonce,account:(N=(O=P.data)==null?void 0:O.data)==null?void 0:N.subject,displayName:(L=(T=(R=P.data)==null?void 0:R.data)==null?void 0:T.account)==null?void 0:L.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:(j=(W=(B=P.data)==null?void 0:B.data)==null?void 0:W.otherUser)==null?void 0:j.embeddedWalletAddress,oAuthUserInfo:($=(C=(_=P.data)==null?void 0:_.data)==null?void 0:C.otherUser)==null?void 0:$.oAuthUserInfo}}),void r(Hf);f.popup&&f.popup.close(),h({error:g})}else h({error:g})}else h({error:g})}),w=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new Q("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=w,x.useEffect(()=>{p.id.length&&m.execute(p.id)},[p.id]),x.useEffect(()=>{if(!u.data)return;let y=u.data;if(t.legal.requireUsersAcceptTerms&&!y.hasAcceptedTerms){let v=setTimeout(()=>{r(qf)},Br);return()=>clearTimeout(v)}if(eh(y,t.embeddedWallets)){let v=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:A=>{console.error(A),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:A,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(vu)},Br);return()=>clearTimeout(v)}let b=setTimeout(w,Br);return()=>clearTimeout(b)},[u.data]),d.jsx(iit,{providerApp:p,success:!!u.data,error:u.error,onClose:w})}},oit=({appName:t,address:e,success:r,error:n,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Ht,r||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:n?ZJ:o2,iconVariant:n?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:mSe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(ax,{address:e,title:"Wallet"})}),ait={component:()=>{let{app:t,data:e}=je(),{closePrivyModal:r}=Te(),[n,i]=x.useState(!1),[s,o]=x.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{n?c():u(s??new Q("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!n&&!s)return;let f=setTimeout(h,LI);return()=>clearTimeout(f)},[n,s]),d.jsx(oit,{appName:t.name,address:a,success:n,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},lit=({appName:t,success:e,error:r,onRevoke:n,onDeny:i,onClose:s})=>d.jsx(Ht,e||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":"You've successfully revoked permissions.",icon:r?ZJ:o2,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:fSe,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),cit={component:()=>{let{app:t,data:e}=je(),{closePrivyModal:r}=Te(),[n,i]=x.useState(!1),[s,o]=x.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{n?l():c(s??new Q("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return x.useEffect(()=>{if(!n&&!s)return;let h=setTimeout(u,LI);return()=>clearTimeout(h)},[n,s]),d.jsx(lit,{appName:t.name,success:n,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let AB="#8a63d2";const uit=({appName:t,loading:e,success:r,errorMessage:n,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Ht,Sr||e?Kk?{title:n?n.message:"Add a signer to Farcaster",subtitle:n?n.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:Gh,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:n?n.message:"Requesting signer from Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:Gh,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:s,onClose:o,watermark:!0,children:i&&Sr&&d.jsx(dit,{children:d.jsx(Ine,{text:"Take me to Farcaster",url:i,color:AB})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(hit,{children:[d.jsx(fit,{children:i?d.jsx(k2,{url:i,size:275,squareLogoElement:Gh}):d.jsx(mit,{children:d.jsx(ia,{})})}),d.jsxs(pit,{children:[d.jsx(git,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(vT,{text:i,itemName:"link",color:AB})]})]})});let dit=q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),hit=q.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),fit=q.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),pit=q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),git=q.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),mit=q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const yit={component:()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=je(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Te(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=x.useRef([]),p=r==null?void 0:r.farcasterSigner;x.useEffect(()=>{let m=Date.now(),w=setInterval(async()=>{if(!(p!=null&&p.public_key))return clearInterval(w),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Br)));let y=await i(p==null?void 0:p.public_key),b=Date.now()-m;y.status==="approved"?(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),Br))):b>3e5?(clearInterval(w),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):y.status==="revoked"&&(clearInterval(w),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(w),f.current.forEach(y=>clearTimeout(y))}},[]);let g=(p==null?void 0:p.status)==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(uit,{appName:n.name,loading:l,success:u,errorMessage:o,connectUri:g,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{g&&(window.location.href=g)}})}},wit=({onClose:t})=>d.jsx(Ht,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:h_,primaryCta:{label:"Close",onClick:t},watermark:!0}),kB={component:()=>{let{closePrivyModal:t}=Te();return d.jsx(wit,{onClose:()=>t()})}},vit=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Ht,{title:t,subtitle:e,icon:O4,watermark:!0,children:d.jsx(Ore,{children:d.jsx(Bne,{stacked:!0})})}),bit={component:()=>{let{app:t}=je();return d.jsx(vit,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},xit=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=x.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)};return d.jsx(Ht,{title:t,subtitle:e,icon:Pd,primaryCta:{label:n?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:d.jsx(sx,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},bT={component:()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=je(),{initLoginWithSms:s}=Te(),[o,a]=x.useState(!1);return d.jsx(xit,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var c;a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(du)}catch(u){i({errorModalData:{error:u,previousScreen:((c=r==null?void 0:r.errorModalData)==null?void 0:c.previousScreen)||e||bT}}),n(Ur)}finally{a(!1)}},isSubmitting:o})}},Eit=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:r="Try again",secondaryCtaText:n="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Ht,{title:t,subtitle:e,icon:f4,iconVariant:"error",primaryCta:{label:r,onClick:i},secondaryCta:{label:n,onClick:s},watermark:!0}),Cit={component:()=>{let{closePrivyModal:t}=Te(),{navigate:e}=je();return d.jsx(Eit,{onTryAgain:()=>{e(Ui)},onCancel:async()=>{await t()}})}};function $ie(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=x.useContext(Og);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const _it=t=>d.jsxs(Ait,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Ait=q.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const kit=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce((p,g)=>({...p,[g]:!0}),{}),f=r.reduce((p,g)=>({...p,[g]:!0}),{});return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(uf,{})}),d.jsx(Es,{children:"Choose a verification method"}),e.length>0?d.jsx(Ho,{children:"To add or delete verification methods, verification is required."}):d.jsx(Ho,{children:"How would you like to verify your identity?"}),o&&d.jsx(Cre,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(xre,{children:[(f.passkey||h.passkey)&&d.jsxs(dE,{children:[d.jsx(Hr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(ia,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(pE,{children:[d.jsxs(fE,{children:[d.jsx(IS,{}),"Passkey"]}),h.passkey?d.jsx(_E,{color:"green",children:"Enabled"}):d.jsx(jL,{$isAccent:!0,children:d.jsx(ZGe,{})})]})}),h.passkey&&d.jsx(hE,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(q9,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(dE,{children:[d.jsx(Hr,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(ia,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(pE,{children:[d.jsxs(fE,{children:[d.jsx(J6,{}),"Authenticator app"]}),h.totp&&d.jsx(_E,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(hE,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(q9,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(dE,{children:[d.jsx(Hr,{disabled:h.sms||n,onClick:()=>c("sms"),children:d.jsxs(pE,{children:[d.jsxs(fE,{children:[d.jsx(Pd,{}),"SMS"]}),h.sms&&d.jsx(_E,{color:"green",children:"Enabled"}),n&&d.jsx(jL,{children:"Disabled"})]})}),h.sms&&d.jsx(hE,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(q9,{})})]},"sms")]}),d.jsx($it,{children:"You can always change your selection later"}),d.jsx(fn,{})]})};let _E=q(nc).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),$it=q(Ere).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Sie=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),Sit=({onClose:t,onReset:e,submitEnrollmentWithPasskey:r})=>{let{user:n}=Dt(),{initLinkWithPasskey:i,linkWithPasskey:s}=Te(),{app:o}=je(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),p=x.useMemo(()=>(n==null?void 0:n.linkedAccounts.filter(w=>w.type==="passkey"))??[],[n]),g=async w=>{l(!0);try{await r(w)}catch(y){f(y)}finally{l(!1)}},m=async()=>{u(!0),f(null);try{await i();let w=await s(),y=(w==null?void 0:w.linkedAccounts.filter(b=>b.type==="passkey").map(b=>b.credentialId))??[];await g(y)}catch(w){f(w)}finally{u(!1)}};return p.length===0||c?d.jsx(Iit,{onReset:e,onClose:t,onClick:m,isCreating:c}):h?d.jsx(A2,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(Tit,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>g(p.map(w=>w.credentialId)),onAddPasskey:m})};let Iit=({onReset:t,onClose:e,onClick:r,isCreating:n})=>d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:t,onClose:e},"header"),d.jsx(XI,{children:d.jsxs(nie,{children:[d.jsx(sT,{}),d.jsx(Sie,{})]})}),d.jsx(Es,{children:"Set up passkey verification"}),d.jsxs(q4,{children:[d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(uf,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(tKe,{})}),"Takes seconds to set up and use"]}),d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(WGe,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(ur,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),d.jsx(fn,{})]}),Tit=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=x.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(XI,{children:d.jsxs(nie,{children:[d.jsx(sT,{}),d.jsx(Sie,{})]})}),d.jsx(Es,{children:"Enable your passkeys for verification"}),d.jsxs(q4,{children:[i.slice(0,c).map(u=>{var h;return d.jsxs(Pit,{children:[d.jsx(Nit,{children:Rit(u)}),d.jsxs(Oit,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&d.jsx($B,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(ur,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx($B,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?d.jsx(ia,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(fn,{})]})},Pit=q.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),Nit=q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Oit=q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Rit=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const $B=q.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),jit=({appName:t,onComplete:e,onReset:r,onClose:n})=>{let[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=$ie(),{app:g,data:m}=je();function w(){var y;(y=m==null?void 0:m.mfaEnrollmentFlow)==null||y.onSuccess(),e()}return l?d.jsx(A2,{allowlistConfig:g.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(Pt,{backFn:r,onClose:n},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(Pd,{})}),d.jsx(Es,{children:"Set up SMS verification"}),d.jsxs(Ho,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(bf,{children:[d.jsx(sx,{onSubmit:async function({qualifiedPhoneNumber:y}){try{await f({phoneNumber:y}),s(y),h("verify")}catch(b){c(b)}},hideRecent:!0}),d.jsxs(Ere,{children:["By providing your mobile number, you agree to receive text messages from ",g==null?void 0:g.name,". Some carrier charges may apply"]})]}),d.jsx(fn,{})]}:o?{children:[d.jsx(Pt,{onClose:w},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(Gg,{})}),d.jsx(Es,{children:"SMS verification added"}),d.jsxs(Ho,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(Np,{children:d.jsx(ur,{onClick:w,children:"Done"})}),d.jsx(fn,{})]}:{children:[d.jsx(Pt,{backFn:function(){u==="verify"?h("enroll"):r()},onClose:n},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(Pd,{})}),d.jsx(Es,{children:"Enter enrollment code"}),d.jsxs(bf,{children:[d.jsx(k5,{onChange:async function(y){try{if(!y)return;await p({phoneNumber:i,mfaCode:y}),a(!0)}catch(b){throw Wre(b)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):aT(b)?Error("The code you entered is not valid"):oT(b)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Hre(b)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(Ho,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:v4e(i)})]})]}),d.jsx(fn,{})]})},Mit=q.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Dit=({size:t,authUrl:e})=>d.jsx(k2,{url:e,squareLogoElement:vYe,size:t,fgColor:"#1F1F1F"}),Fit=({onClose:t,onReset:e,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[s,o]=x.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(Pt,{backFn:e,onClose:t},"header"),d.jsx(hu,{children:"Scan QR code"}),d.jsx(Dd,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(kJe,{children:d.jsx(Dit,{authUrl:r.authUrl,size:240})}),d.jsx(gs,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(ox,{style:{marginTop:"0.25rem"},children:[d.jsx(Mit,{children:"".repeat(16)}),d.jsx(vT,{itemName:" ",text:r.secret})]}),d.jsx(ur,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(fn,{})]}:{children:[d.jsx(Pt,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(J6,{})}),d.jsx(hu,{children:"Enter enrollment code"}),d.jsx(Dd,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(bf,{children:d.jsx(k5,{onChange:async function(a){try{if(!a)return;await n({mfaCode:a})}catch(l){throw Wre(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):aT(l)?Error("The code you entered is not valid"):oT(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Hre(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),d.jsx(fn,{})]})},Lit={component:()=>{var F;let{user:t,enrollInMfa:e,ready:r}=Dt(),[n,i]=x.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=$ie(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:g}=je(),{closePrivyModal:m}=Te(),{promptMfa:w}=qre(),[y,b]=x.useState(!1),[v,A]=x.useState(null),[E,O]=x.useState(null),N=()=>{m({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),A(null)},500)},[R,T]=x.useState(!1),[L,B]=x.useState();g.current=N;let W=t==null?void 0:t.mfaMethods.includes("sms"),j=!!(t!=null&&t.phone),_=t==null?void 0:t.mfaMethods.includes("totp"),C=t==null?void 0:t.mfaMethods.includes("passkey"),$=W||_||C,P=(t==null?void 0:t.linkedAccounts.filter(k=>k.type==="passkey").map(k=>k.credentialId))??[];function S(){i(null),A(null)}async function I(k=P){var z,V;T(!0);try{return await c(),await u({credentialIds:k},{removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa}),(V=p==null?void 0:p.mfaEnrollmentFlow)==null||V.onSuccess(),N()}catch(M){B(M)}finally{T(!1)}}if(x.useEffect(()=>{$&&b(!0)},[$]),!r||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:N},"header"),d.jsx(XI,{children:d.jsx(_it,{})}),d.jsx(bf,{children:d.jsx(ia,{})}),d.jsx(fn,{})]});if(n==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:S,onClose:N},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(x0,{})}),d.jsx(Es,{children:"Remove SMS verification?"}),d.jsxs(Ho,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Np,{children:d.jsx(ur,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(fn,{})]});if(n==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:S,onClose:N},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(x0,{})}),d.jsx(Es,{children:"Remove authenticator app verification?"}),d.jsxs(Ho,{children:["MFA adds an extra layer of security to your ",f==null?void 0:f.name," account. Make sure you have other methods to secure your account."]}),d.jsx(Np,{children:d.jsx(ur,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(fn,{})]});if(n==="passkey"){let k=((F=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:F.shouldUnlinkOnUnenrollMfa)??!0;return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{backFn:S,onClose:N},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(x0,{})}),d.jsx(Es,{children:"Are you sure you want to remove this passkey?"}),d.jsx(Ho,{children:k?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(Np,{children:d.jsx(ur,{$warn:!0,onClick:async function(){var z;i(null);try{await a({removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(fn,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!$)return d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:N},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(uf,{})}),d.jsx(Es,{children:"Add more security"}),d.jsxs(Ho,{children:[f==null?void 0:f.name," does not have any verification methods enabled."]}),d.jsx(Np,{children:d.jsx(ur,{onClick:N,children:"Close"})}),d.jsx(fn,{})]});let D=!$&&!y;return D?d.jsxs(d.Fragment,{children:[d.jsx(Pt,{onClose:N},"header"),d.jsx(qo,{style:{marginBottom:"1.5rem"},children:d.jsx(uf,{})}),d.jsx(Es,{children:"Transaction Protection"}),d.jsx(Ho,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(q4,{children:[d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(gYe,{})}),"Enable 2-Step verification for your ",f==null?void 0:f.name," wallet."]}),d.jsxs(qh,{children:[d.jsx(Hh,{children:d.jsx(yYe,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(Np,{children:[d.jsx(ur,{onClick:()=>b(!0),children:"Continue"}),d.jsx(rl,{onClick:N,children:"Not now"})]}),d.jsx(fn,{})]}):v==="sms"?d.jsx(jit,{appName:(f==null?void 0:f.name)||"Privy",onComplete:N,onReset:S,onClose:N}):v==="totp"&&E?d.jsx(Fit,{onClose:N,onReset:S,submitEnrollmentWithTotp:({mfaCode:k})=>async function(z){var V;try{return B(void 0),await l({mfaCode:z}),(V=p==null?void 0:p.mfaEnrollmentFlow)==null||V.onSuccess(),N()}catch(M){B(M)}finally{i(null)}}(k),totpInfo:{...E,appName:(f==null?void 0:f.name)||"Privy"}}):v==="passkey"?d.jsx(Sit,{onReset:S,onClose:N,submitEnrollmentWithPasskey:I}):d.jsx(kit,{showIntro:D,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:j,onBackToIntro:function(){b(!1)},handleSelectMethod:async function(k){try{await w()}catch(z){return void B(z)}return k==="totp"?(A(k),O(null),void h().then(z=>{O(z)}).catch(()=>{O(null),S()})):k==="passkey"&&P.length===1?await I():void A(k)},isTotpLoading:v==="totp"&&!E,isPasskeyLoading:R,error:L,onClose:N,setRemovingMfaMethod:async k=>{try{await w()}catch(z){return void B(z)}i(k)}})}},Bit=({providerName:t,ProviderLogo:e,success:r,errorMessage:n,onRetry:i})=>{let s=r?`Successfully connected with ${t}`:n?n.message:`Verifying connection to ${t}`;return d.jsx(Ht,{title:s,subtitle:r?"You're good to go!":n?n.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},secondaryCta:n!=null&&n.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},SB={component:()=>{var O;let{authenticated:t,logout:e,ready:r,user:n}=Dt(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=je(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:g}=Te(),[m,w]=x.useState(!1),[y,b]=x.useState(void 0),v=((O=l())==null?void 0:O.provider)||"google",{name:A,component:E}=tE(v);return x.useEffect(()=>{u(v).then(()=>{w(!0),f(!0)}).catch(N=>{var L,B,W,j,_,C,$,P,S,I,D,F,k,z,V,M;if(f(!1),(N==null?void 0:N.privyErrorCode)===ee.ALLOWLIST_REJECTED)return b(void 0),a(),void o(nx);if((N==null?void 0:N.privyErrorCode)===ee.USER_LIMIT_REACHED)return console.error(new Jw(N).toString()),b(void 0),a(),void o($2);if((N==null?void 0:N.privyErrorCode)===ee.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(_2);if((N==null?void 0:N.privyErrorCode)===ee.ACCOUNT_TRANSFER_REQUIRED&&((B=(L=N.data)==null?void 0:L.data)!=null&&B.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(j=(W=N.data)==null?void 0:W.data)==null?void 0:j.nonce,account:(C=(_=N.data)==null?void 0:_.data)==null?void 0:C.subject,displayName:(S=(P=($=N.data)==null?void 0:$.data)==null?void 0:P.account)==null?void 0:S.displayName,linkMethod:(I=l())==null?void 0:I.provider,embeddedWalletAddress:(k=(F=(D=N.data)==null?void 0:D.data)==null?void 0:F.otherUser)==null?void 0:k.embeddedWalletAddress,oAuthUserInfo:(M=(V=(z=N.data)==null?void 0:z.data)==null?void 0:V.otherUser)==null?void 0:M.oAuthUserInfo}}),void o(Hf);let{retryable:R,detail:T}=function(G,Z){let K={detail:"",retryable:!1},re=Fte(Z);if((G==null?void 0:G.privyErrorCode)===ee.LINKED_TO_ANOTHER_USER&&(K.detail="This account has already been linked to another user."),(G==null?void 0:G.privyErrorCode)===ee.INVALID_CREDENTIALS&&(K.retryable=!0,K.detail="Something went wrong. Try again."),G.privyErrorCode===ee.OAUTH_USER_DENIED&&(K.detail=`Retry and check ${re} to finish connecting your account.`,K.retryable=!0),(G==null?void 0:G.privyErrorCode)===ee.TOO_MANY_REQUESTS&&(K.detail="Too many requests. Please wait before trying again."),(G==null?void 0:G.privyErrorCode)===ee.TOO_MANY_REQUESTS&&G.message.includes("provider rate limit")){let le=tE(Z).name;K.detail=`Request limit reached for ${le}. Please wait a moment and try again.`}if((G==null?void 0:G.privyErrorCode)===ee.OAUTH_ACCOUNT_SUSPENDED){let le=tE(Z).name;K.detail=`Your ${le} account is suspended. Please try another login method.`}return(G==null?void 0:G.privyErrorCode)===ee.CANNOT_LINK_MORE_OF_TYPE&&(K.detail="You cannot authorize more than one account for this user."),(G==null?void 0:G.privyErrorCode)===ee.OAUTH_UNEXPECTED&&Z.startsWith("privy:")&&(K.detail="Something went wrong. Please try again."),K}(N,v);b({retryable:R,detail:T,message:"Authentication failed"})}).finally(()=>{wA()})},[A,v]),x.useEffect(()=>{if(r&&t&&m&&n){if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let N=setTimeout(()=>{o(qf)},Br);return()=>clearTimeout(N)}if(eh(n,i.embeddedWallets)){let N=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:v,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(vu)},Br);return()=>clearTimeout(N)}{let N=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),Br);return h(),()=>clearTimeout(N)}}},[r,t,m,n]),d.jsx(Bit,{providerName:A,ProviderLogo:E,success:m,errorMessage:y,onRetry:y!=null&&y.retryable?()=>{wA(),c(v),b(void 0)}:void 0})}},Uit=x.forwardRef((t,e)=>{let[r,n]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l,user:c}=Dt(),{initUpdateEmail:u}=Te(),{navigate:h,setModalData:f,currentScreen:p}=je(),{enabled:g,token:m}=Ws(),w=Xt(),y=Qte(r)&&(w.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),b=o||!y,v=()=>{!g||m||l?(async A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:r,captchaToken:A}),h(du)}catch(E){f({errorModalData:{error:E,previousScreen:p||Ui}})}a(!1)})(m):(f({captchaModalData:{callback:A=>{if(!(c!=null&&c.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:r,captchaToken:A})},userIntentRequired:!1,onSuccessNavigateTo:du,onErrorNavigateTo:Ur}}),h(nl))};return d.jsxs(d.Fragment,{children:[d.jsxs(zit,{children:[i&&d.jsx(uu,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(Wit,{$error:!!i,children:[d.jsx(O4,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:A=>n(A.target.value),onKeyUp:A=>{A.key==="Enter"&&v()},value:r,autoComplete:"email"}),t.stacked?null:d.jsx(H4,{isSubmitting:o,onClick:v,disabled:b,children:"Submit"})]})]}),t.stacked?d.jsx(ur,{loadingText:null,loading:o,disabled:b,onClick:v,style:{width:"100%"},children:"Submit"}):null]})});let zit=xne,Wit=bne;const Hit=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Ht,{title:t,subtitle:e,icon:O4,watermark:!0,children:d.jsx(Ore,{children:d.jsx(Uit,{stacked:!0})})}),qit={component:()=>d.jsx(Hit,{})},Vit=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=x.useState(null);return d.jsx(Ht,{title:t,subtitle:e,icon:Pd,primaryCta:{label:n?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)},disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:d.jsx(sx,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},Git={component:()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=je(),{user:i}=Dt(),{initUpdatePhone:s}=Te(),[o,a]=x.useState(!1);return d.jsx(Vit,{onSubmit:async l=>{var c,u,h;a(!0);try{if(!((c=i==null?void 0:i.phone)!=null&&c.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),r(du)}catch(f){n({errorModalData:{error:f,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||bT}}),r(Ur)}finally{a(!1)}},isSubmitting:o})}};function Kit({subscribe:t,getExternalJwt:e,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=Te(),{logout:l,authenticated:c,ready:u}=th();if(!o)throw new Q("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=x.useState({status:"initial"}),p=x.useRef(),g=x.useRef(!1),m=x.useRef(e);x.useEffect(()=>{m.current=e},[e]);let w=x.useRef(n);x.useEffect(()=>{w.current=n},[n]);let y=x.useRef(i);x.useEffect(()=>{y.current=i},[i]);let b=x.useRef(s);return x.useEffect(()=>{b.current=s},[s]),x.useEffect(()=>{if(!r||!u)return;let v=async()=>{var A,E,O,N;if(!g.current){g.current=!0;try{f({status:"loading"});let R=await m.current();if(p.current!==void 0&&p.current===R)return void f({status:"done"});if(!R)return c&&(await l(),(A=y.current)==null||A.call(y)),p.current=R,void f({status:"done"});o.startAuthFlow(new mre(R));let{user:T,isNewUser:L=!1}=await o.authenticate();if(!T)throw new Q("Failed to sync with custom auth provider");(E=w.current)==null||E.call(w,{user:T,isNewUser:L}),a(T,L),p.current=R,f({status:"done"})}catch(R){if(console.warn(R),await l().catch(()=>{}),(O=y.current)==null||O.call(y),R instanceof to&&R.privyErrorCode===ee.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout(()=>{v()},0);(N=b.current)==null||N.call(b,R),f({status:"error",error:R})}finally{g.current=!1}}};return v(),t(v)},[t,o,a,c,l,r,u]),r?{state:h}:{state:{status:"not-enabled"}}}let Yit=jg(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function Zit({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:r}){let n=wu(),i=x.useRef(),s=x.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),o=(r==null?void 0:r.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=Kit({enabled:(r==null?void 0:r.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{n("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),n("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{n("customAuth","onUnauthenticated")},onError:l=>{n("login","onError",l.privyErrorCode||ee.UNKNOWN_AUTH_ERROR)}});return x.useEffect(()=>{(async()=>{var l;r&&!r.isLoading&&((l=i.current)==null||l.call(i))})()},[r==null?void 0:r.enabled,r==null?void 0:r.getCustomAccessToken,r==null?void 0:r.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return x.useEffect(()=>{Yit.setState({jwtAuthFlowState:e})},[e]),null}const Iie=x.createContext(!1);let i0,Tie,Pie,Nie,Oie,Rie,jie;async function pr(){return i0?i0.getAccessToken():Promise.resolve(it.get(Mb)||it.get(c1)||null)}const Jit=(t,e)=>Tie(t,e),Qit=(t,e)=>Pie(t,e),Xit=(t,e)=>Nie(t,e),est=(t,e)=>Oie(t,e),tst=t=>Rie(t),rst=t=>jie(t),nst=({config:t,...e})=>{var r;if((()=>{if(x.useContext(Iie))throw new Q("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new Q("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new Q("Cannot initialize the Privy provider with an invalid Privy app ID");i0||(i0=new uZe({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t),i=x.useMemo(()=>new p4e({appId:e.appId,clientId:e.clientId,storage:it,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"}),[]);return d.jsx(JYe,{client:i,legacyClient:i0,clientConfig:n,children:d.jsx(YXe,{children:d.jsx(ist,{...e,client:i0,privy:i})})})};let ist=t=>{var Jt;let e=t.client,r=t.privy,n=Qg();xQe();let[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState([]),[g,m]=x.useState([]),[w,y]=x.useState(void 0),[b,v]=x.useState(!1),[A,E]=x.useState(null),[O,N]=x.useState(!1),[R,T]=x.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:oe}),[L,B]=x.useState({status:"initial"}),[W,j]=x.useState({status:"initial"}),[_,C]=x.useState({status:"initial"}),[$,P]=x.useState({status:"initial"}),[S,I]=x.useState({status:"initial"}),[D,F]=x.useState({status:"initial"}),[k,z]=x.useState(null),V=Xt(),M=fre(),[G,Z]=x.useState({}),[K,re]=x.useState(null),le=x.useRef(null),[ne,ae]=x.useState(!1),[me,ue]=x.useState(!1),de=x.useRef(null),Je=x.useRef(null),ie=x.useRef(pZe),[be,ve]=x.useState(!1);e.onStoreCustomerAccessToken=U=>{U&&_e(ie,"accessToken","onAccessTokenGranted",{accessToken:U})},e.onDeleteCustomerAccessToken=()=>{h(null),c(!1),_e(ie,"accessToken","onAccessTokenRemoved")};let se=x.useRef(null),ye=x.useRef(null),yt=x.useRef(!1),ce=({showWalletUIs:U})=>yt.current?yt.current:U!==void 0?!U:!V.embeddedWallets.showWalletUIs,$e=U=>{E(U),setTimeout(()=>{s(!0)},15)};x.useEffect(()=>{var J,X,te;if(!u)return void((J=e.connectors)==null?void 0:J.removeEmbeddedWalletConnectors());let U=Sl(u),H=qK(u),Y=NC(u);U&&H.length||((X=e.connectors)==null||X.removeEmbeddedWalletConnectors()),Y||((te=e.connectors)==null||te.removeImportedWalletConnector()),e.connectors?k?(U&&e.connectors.addEmbeddedWalletConnectors({walletProxy:k,user:u,embeddedWallets:H,defaultChain:V.defaultChain,appId:t.appId,privyClient:r}),Y&&e.connectors.addImportedWalletConnector(k,Y.address,V.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[k,u]),x.useEffect(()=>{var U;k&&((U=le.current)==null||U.call(le,k))},[k]);let De=x.useCallback((U,H)=>{h(U),v(H),c(!0),ue(!0)},[]);x.useEffect(()=>{me&&k&&u&&(async()=>{var J;let U=fT(u,V.embeddedWallets.ethereum.createOnLogin),H=pT(u,V.embeddedWallets.solana.createOnLogin),Y=await pr();if(Y){if(U&&H){let X=await k.create({accessToken:Y});return await k.createSolana({accessToken:Y,ethereumAddress:X==null?void 0:X.address}),void ue(!1)}if(H)return await k.createSolana({accessToken:Y,ethereumAddress:(J=Sl(u))==null?void 0:J.address}),await qe.refreshSessionAndUser(),void ue(!1);if(U)return await k.create({accessToken:Y}),void ue(!1)}})().catch(console.error)},[me&&k&&u]),x.useEffect(()=>{if(V.externalWallets.solana.connectors)return V.externalWallets.solana.connectors.onMount(),()=>{var U;return(U=V.externalWallets.solana.connectors)==null?void 0:U.onUnmount()}},[V.externalWallets.solana.connectors]),x.useEffect(()=>{!o&&M&&async function(){var ge,fe,Be;let U,H=Xe(),Y=Ke(),J=pae();e.initializeConnectorManager({walletConnectCloudProjectId:V.walletConnectCloudProjectId,rpcConfig:V.rpcConfig,chains:V.chains,defaultChain:V.defaultChain,store:J,walletList:V.appearance.walletList,shouldEnforceDefaultChainOnConnect:V.shouldEnforceDefaultChainOnConnect,externalWalletConfig:V.externalWallets,appName:V.name??"Privy",walletChainType:V.appearance.walletChainType,appKit:V.externalWallets.walletConnect.appKit,setBaseAccountSdk:y}),(ge=e.connectors)==null||ge.on("connectorInitialized",()=>{U&&clearTimeout(U);let vt=e.connectors.walletConnectors.length,Ee=e.connectors.walletConnectors.reduce((Me,at)=>Me+(at.initialized?1:0),0);Ee===vt?ve(!0):U=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ee,expected:vt}),ve(!0)},1500)}),(fe=e.connectors)==null||fe.initialize().then(()=>{Se()});let X=await e.getAuthenticatedUser(),te=!!X;V.legal.requireUsersAcceptTerms&&X&&!X.hasAcceptedTerms?(await e.logout(),qe.setReadyToTrue(!0),_e(ie,"logout","onSuccess")):((Be=V.customAuth)!=null&&Be.enabled||(c(!!X),X&&_e(ie,"login","onComplete",{user:X,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),h(X)),H?ye.current=te?"link":"login":Y&&!te?(ye.current="login",Z({telegramAuthModalData:{seamlessAuth:!0}}),$e(zb)):qe.setReadyToTrue(!!X))}()},[e,K,o,M]),x.useEffect(()=>{if(o){if(!u||!u.linkedAccounts.find(U=>U.type==="wallet"&&U.walletClientType==="privy"))return void ae(!!k);if([...f].some(U=>U.walletClientType==="privy"))return void ae(!0);ae(!!k)}},[o,u,f,k]),x.useEffect(()=>{var U;(U=e.connectors)==null||U.setWalletList(V.appearance.walletList)},[V.appearance.walletList.join()]);let Xe=()=>{let U=$Ye();return U.inProgress&&U.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):U.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}):(U.inProgress&&function(H){return H.startsWith("privy:")}(U.provider)&&!U.popupFlow&&(new BroadcastChannel(WL).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}),window.close()),!!U.inProgress&&!!U.withPrivyUi&&(e.startAuthFlow(new Pp({...U,customOAuthRedirectUrl:V.customOAuthRedirectUrl})),$e(SB),!0))},Ke=()=>{var Y;let U=function(){let J;return(J=function(){let X=new URLSearchParams(window.location.search),te=Number(X.get("id")||""),ge=X.get("hash"),fe=Number(X.get("auth_date")||""),Be=X.get("first_name");if(te&&Be&&fe&&ge)return Object.fromEntries(X.entries())}())?(CL(),{flowType:"login-url",authData:J}):(J=function(){let X=window.location.hash;if(!X||!X.startsWith("#tgWebAppData"))return;let te=EL(X.replace("#tgWebAppData=","")),{user:ge,auth_date:fe,hash:Be}=te;return ge&&fe&&Be?te:void 0}())?(CL(),{flowType:"web-app",authData:J}):void 0}();if(!U||!V.loginMethods.telegram||!((Y=V.loginConfig.telegramAuthConfiguration)!=null&&Y.seamlessAuthEnabled))return;let H=new Lm;return e.startAuthFlow(H),U.flowType==="login-url"&&(H.meta.telegramWebAppData=void 0,H.meta.telegramAuthResult=U.authData),U.flowType==="web-app"&&(H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=U.authData),!0},kt=async(U,H,Y,J)=>{var X,te;if(U!=="solana_adapter")ht(await((X=e.connectors)==null?void 0:X.createEthereumWalletConnector({connectorType:U,walletClientType:H}))||null,H,Y,J);else{let ge=(te=e.connectors)==null?void 0:te.findSolanaWalletConnector(H);if(!ge)return;ht(ge,H,Y,J)}};async function ht(U,H,Y,J){if(!U)return T({status:"disconnected",connectedWallet:null,connectError:new _r("Unable to connect to wallet."),connector:null,connectRetry:oe}),J==null?void 0:J(null,Y);T({status:"disconnected",connectedWallet:null,connectError:null,connector:U,connectRetry:oe}),U instanceof S0&&H&&await U.resetConnection(H),T({connector:U,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>ht(U,H,Y,J)});try{let X=await U.connect({showPrompt:!0});if((!X||Rc(X))&&V.shouldEnforceDefaultChainOnConnect&&!V.chains.find(te=>te.id===Number(X==null?void 0:X.chainId.replace("eip155:","")))&&((X==null?void 0:X.connectorType)!=="wallet_connect_v2"||(X==null?void 0:X.walletClientType)!=="metamask")){T(te=>({...te,connector:U,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:oe}));try{await(X==null?void 0:X.switchChain(V.defaultChain.id)),X&&(X.chainId=V1(cn(V.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${V.defaultChain.id}`)}}return T(te=>({...te,status:"connected",connectedWallet:X,connectError:null,connectRetry:oe})),X&&_e(ie,"connectWallet","onSuccess",{wallet:X}),J==null?void 0:J(X,Y)}catch(X){return X instanceof Li?(console.warn(X.cause?X.cause:X.message),_e(ie,"connectWallet","onError",X.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(X),_e(ie,"connectWallet","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR)),T(te=>({...te,status:"disconnected",connectedWallet:null,connectError:X})),J==null?void 0:J(null,Y)}}let rt=async(U,H,Y)=>{if(U===null||!Rc(U))return;let J=new k0(e,U,H,Y);e.startAuthFlow(J)},Ae=async(U,H,Y,J="plain")=>{let X=n($ne);if(J==="transaction"&&!X)throw new Q("useSolanaLedger plugin hook must be mounted");if(U===null||!$L(U))return;let te=new b5(U,e,H,Y,J,X?{deserializeTransactionFromB64String:X.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:X.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(te)},Se=()=>{let U=new URLSearchParams(window.location.search),H=U.get("privy_connector"),Y=U.get("privy_wallet_client"),J=U.get("privy_connect_only")==="true";if(!H||!Y)return;let X=cre({connectorType:H,walletClientType:Y});if(!X||!X.isInstalled)return $e(Cit);if(!e.connectors)throw new Q("Connector not initialized");$e(J?zA:Gc);let te=new URL(window.location.href);te.searchParams.delete("privy_connector"),te.searchParams.delete("privy_wallet_client"),te.searchParams.delete("privy_connect_only"),window.history.pushState({},"",te),kt(H,Y,void 0,J?void 0:H==="solana_adapter"?Ae:rt)};x.useEffect(()=>{o&&l&&u===null&&e.getAuthenticatedUser().then(h)},[o,l,u,e]);let he=U=>{if(!l)throw _e(ie,"linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:U}),new Q("User must be authenticated before linking an account.")},He=U=>{if(!l||!u)return!1;if(U.walletClientType==="privy")return!0;for(let H of u.linkedAccounts)if(H.type==="wallet"&&H.address===U.address&&H.walletClientType!=="privy")return!0;return!1},nt=async U=>{let H;if(!e.connectors)throw new Q("Connector not initialized");H=U.type==="ethereum"?e.connectors.findWalletConnector(U.connectorType,U.walletClientType)||null:e.connectors.findSolanaWalletConnector(U.walletClientType)||null,T(Y=>({...Y,connector:H,status:"connected",connectedWallet:U,connectError:null,connectRetry:oe})),V.captchaEnabled&&!l?(Z({captchaModalData:{callback:Y=>Rc(U)?rt(U,Y):Ae(U,Y),userIntentRequired:!1,onSuccessNavigateTo:Gc,onErrorNavigateTo:Ur}}),$e(nl)):(Rc(U)?await rt(U):await Ae(U),$e(Gc))},Ve=()=>{p(U=>{var Y;let H=((Y=e.connectors)==null?void 0:Y.wallets.filter(Rc).map(J=>({...J,linked:He(J),loginOrLink:async()=>{if(!await J.isConnected())throw new Q("Wallet is not connected");if(J.connectorType==="embedded"&&J.walletClientType==="privy")throw new Q("Cannot link or login with embedded wallet");nt(J)},fund:async X=>{await qe.fundWallet(J.address,X)},unlink:async()=>{if(!l)throw new Q("User is not authenticated.");if(J.connectorType==="embedded"&&J.walletClientType==="privy")throw new Q("Cannot unlink an embedded wallet");h(await e.unlinkEthereumWallet(J.address))}})))||[];return EA(U,H)?U:H}),m(U=>{var Y;let H=(((Y=e.connectors)==null?void 0:Y.wallets)??[]).filter($L).map(J=>({...J,linked:He(J),loginOrLink:async()=>{if(!await J.isConnected())throw new Q("Wallet is not connected");if(J.connectorType==="embedded"&&J.walletClientType==="privy")throw new Q("Cannot link or login with embedded wallet");nt(J)},fund:async()=>{throw new Q("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!l)throw new Q("User is not authenticated.");if(J.connectorType==="embedded"&&J.walletClientType==="privy")throw new Q("Cannot unlink an embedded wallet");h(await e.unlinkSolanaWallet(J.address))}}));return EA(U,H)?U:H})};x.useEffect(()=>{Ve()},[u==null?void 0:u.linkedAccounts,l,o]),x.useEffect(()=>{if(o){if(!e.connectors)throw new Q("Connector not initialized");Ve(),e.connectors.on("walletsUpdated",Ve)}},[o]),x.useEffect(()=>{var U,H;[...((U=V.loginMethodsAndOrder)==null?void 0:U.primary)??[],...((H=V.loginMethodsAndOrder)==null?void 0:H.overflow)??[]].filter(Y=>Y.startsWith("privy:")).forEach(Y=>e.getCrossAppProviderDetails(Y.replace("privy:","")))},[!!e]);let ot=({transaction:U,sponsor:H,uiOptions:Y,fundWalletConfig:J,address:X,signOnly:te})=>new Promise(async(ge,fe)=>{let{requesterAppId:Be}=Y||{},vt=te?"signTransaction":"sendTransaction",Ee=X?Lo(u,X):Sl(u);if(!Ee&&X){let _t=F8(f,X);if(_t){if(H)throw new Q("Cannot sponsor transactions for externally connected wallet.");try{let hr=await _t.getEthereumProvider(),lt={...U,from:X,chainId:U.chainId||Number(_t.chainId.replace("eip155:","")),value:U.value!==void 0?cn(U.value):void 0},$t=await hr.request({method:vt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[lt]});return _e(ie,vt,"onSuccess",{hash:$t}),void ge({hash:$t})}catch(hr){return _e(ie,vt,"onError",ee.TRANSACTION_FAILURE),void fe(hr??new $i("Unable to "+vt+hr))}}}if(!Ee)return _e(ie,vt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void fe(new Q("No embedded or connected wallet found for address."));if(!l||!u)return _e(ie,vt,"onError",ee.MUST_BE_AUTHENTICATED),void fe(Error("User must be authenticated before signing with a Privy wallet"));let Me=Ee.address,at=Ee.walletIndex??0,{entropyId:Fe,entropyIdVerifier:xe}=ni(u,Ee),ft=Ft.wallets.find(_t=>_t.walletClientType==="privy"&&an(_t.address)===an(Me));if(!ft)return _e(ie,vt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void fe(Error("Must have a Privy wallet before signing"));let Ct=await ft.getEthereumProvider(),jt=await Ct.request({method:"eth_chainId"}),qt=U.chainId?Number(U.chainId):Kre(jt);(_t=>{if(!V.chains.map(hr=>hr.id).includes(_t))throw new _r(`Chain ID ${_t} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ee.UNSUPPORTED_CHAIN_ID)})(qt);let Qt={...U,from:U.from??Me,chainId:qt},Vt=await pr();if(!Vt||!k)return _e(ie,vt,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),void fe(Error("Must have valid access token and Privy wallet to send transaction"));let dr=dg(Qt.chainId,V.chains,V.rpcConfig,{appId:t.appId}),et=Fn(Ee),Zr=async({transactionRequest:_t})=>{try{let hr;if(!await qe.recoverEmbeddedWallet({address:Me}))throw _e(ie,vt,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),fe(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(H){let lt=await(async({transactionRequest:$t})=>{if(!et)throw new Q("Sponsoring is only supported for wallets on the TEE stack");if(te)throw new Q("Cannot sponsor a sign transaction request");let yr=pi=>pi==null?void 0:cn(pi),Pr=await Ki(r,async({message:pi})=>await k.signWithUserSigner({accessToken:Vt,requesterAppId:Be,message:pi}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:V1(cn($t.chainId)),sponsor:!0,params:{transaction:{from:$t.from,to:$t.to,chain_id:yr($t.chainId),data:Mi($t.data)?$t.data?$t.data:cn(Uint8Array.from($t.data)):void 0,value:yr($t.value)}},wallet_id:Ee.id});if(Pr.data&&"hash"in Pr.data)return Pr.data.hash;throw new $i("Unable to sign transaction")})({transactionRequest:_t});return _e(ie,"sendTransaction","onSuccess",{hash:lt}),lt}if(et){let lt=yr=>yr==null?void 0:cn(yr),$t=await Ki(r,async({message:yr})=>await k.signWithUserSigner({accessToken:Vt,requesterAppId:Be,message:yr}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:_t.from,to:_t.to,nonce:lt(_t.nonce),chain_id:lt(_t.chainId),data:Mi(_t.data)?_t.data?_t.data:cn(Uint8Array.from(_t.data)):void 0,value:lt(_t.value),type:_t.type,gas_limit:lt(_t.gasLimit??_t.gas),gas_price:lt(_t.gasPrice??_t.gas),max_fee_per_gas:lt(_t.maxFeePerGas),max_priority_fee_per_gas:lt(_t.maxPriorityFeePerGas)}},wallet_id:Ee.id});if(!$t.data||!("signed_transaction"in $t.data))throw new $i("Unable to sign transaction");hr=$t.data.signed_transaction}else hr=await async function({accessToken:lt,entropyId:$t,entropyIdVerifier:yr,transactingWalletIndex:Pr,walletProxy:pi,transactionRequest:rh,requesterAppId:tm}){return(await pi.rpc({entropyId:$t,entropyIdVerifier:yr,hdWalletIndex:Pr??0,chainType:"ethereum",accessToken:lt,requesterAppId:tm,request:{method:"eth_signTransaction",params:[rh]}})).response.data}({accessToken:Vt,entropyId:Fe,entropyIdVerifier:xe,transactingWalletIndex:at,walletProxy:k,transactionRequest:_t,requesterAppId:Be});if(te)return _e(ie,"signTransaction","onSuccess",{signature:hr}),hr;{let lt=await dr.sendRawTransaction({serializedTransaction:hr});return _e(ie,"sendTransaction","onSuccess",{hash:lt}),lt}}catch(hr){throw _e(ie,vt,"onError",ee.TRANSACTION_FAILURE),hr}};if(ce({showWalletUIs:Y==null?void 0:Y.showWalletUIs})){let _t=te||H?Qt:await A5(Qt,dr,Qt.from);try{let hr=await Zr({transactionRequest:_t});te?_e(ie,"signTransaction","onSuccess",{signature:hr}):_e(ie,"sendTransaction","onSuccess",{hash:hr}),ge({hash:hr})}catch(hr){_e(ie,vt,"onError",ee.TRANSACTION_FAILURE),fe(hr)}}else{let _t={connectingWalletAddress:Me,recoveryMethod:Ee.recoveryMethod,entropyId:Fe,entropyIdVerifier:xe,onCompleteNavigateTo:Aie,isUnifiedWallet:et,onFailure:lt=>{_e(ie,vt,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),fe(lt)}},hr=eie(V)?pB({address:Me,appConfig:V,fundWalletConfig:J,methodScreen:Ns,chainIdOverride:Qt.chainId,comingFromSendTransactionScreen:!0}):void 0;Z({connectWallet:_t,sendTransaction:{transactionRequest:Qt,transactingWalletIndex:at,transactingWalletAddress:Me,entropyId:Fe,entropyIdVerifier:xe,signOnly:te,scanTransaction:async()=>{var $t,yr,Pr,pi;let lt=await A5(Qt,dr,Qt.from);return await e.scanTransaction({metadata:{domain:V.embeddedWallets.transactionScanning.domain},chain_id:lt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:lt.from,to:lt.to,value:($t=lt.value)==null?void 0:$t.toString(),gas:(yr=lt.gas)==null?void 0:yr.toString(),gasPrice:(Pr=lt.gasPrice)==null?void 0:Pr.toString(),nonce:(pi=lt.nonce)==null?void 0:pi.toString(),data:lt.data}]}})},getIsSponsored:async()=>!!H,onConfirm:({transactionRequest:lt})=>Zr({transactionRequest:lt}),onSuccess:lt=>{te?_e(ie,"signTransaction","onSuccess",{signature:lt.hash}):_e(ie,"sendTransaction","onSuccess",{hash:lt.hash}),ge(lt)},onFailure:lt=>{_e(ie,vt,"onError",ee.TRANSACTION_FAILURE),fe(lt)},uiOptions:Y||{},fundWalletConfig:J,requesterAppId:Be},funding:hr}),$e(Zu)}});function Ie(){return new Promise(async(U,H)=>{let Y=await pr();if(!Y||!k)throw Error("Must have valid access token to enroll in MFA");try{await k.verifyMfa({accessToken:Y}),U()}catch(J){H(J)}})}let dt=U=>U==null?void 0:U.linkedAccounts.filter(H=>H.latestVerifiedAt!==null&&!(H.type==="wallet"&&H.walletClientType==="privy")).sort((H,Y)=>Y.latestVerifiedAt.getTime()-H.latestVerifiedAt.getTime())[0],bt=U=>{let H=(u==null?void 0:u.linkedAccounts.filter(X=>X.type===U).length)??0,{displayName:Y,loginMethod:J}=rx(U);if(U==="passkey"&&H>=5||U!=="passkey"&&H>=1)throw _e(ie,"linkAccount","onError",ee.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:J}),new Q(`User already has an account of type ${Y} linked.`)};async function wt({showAutomaticRecovery:U=!1,legacySetWalletPasswordFlow:H=!1}){E(null);let Y=H?"setWalletPassword":"setWalletRecovery";if(!l||!u)throw _e(ie,Y,"onError",ee.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let J=ea(u);if(!J||!k)throw _e(ie,Y,"onError",ee.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let X=Fn(J);if(X)throw _e(ie,Y,"onError",ee.UNSUPPORTED_WALLET_TYPE),new Q("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Ie()}catch(te){throw _e(ie,Y,"onError",ee.MISSING_MFA_CREDENTIALS),te}return new Promise((te,ge)=>{let fe=J.recoveryMethod==="user-passcode",Be=Kne({walletAction:"update",availableRecoveryMethods:V.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:H,isResettingPassword:fe,showAutomaticRecovery:U}),{entropyId:vt,entropyIdVerifier:Ee}=ni(u),Me={recoveryMethod:J.recoveryMethod,connectingWalletAddress:J.address,onCompleteNavigateTo:Be,shouldForceMFA:!1,entropyId:vt,isUnifiedWallet:X,entropyIdVerifier:Ee,onFailure:at=>{_e(ie,Y,"onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),ge(at)}};Z({setWalletPassword:{onSuccess:at=>{_e(ie,Y,"onSuccess",{method:"user-passcode",wallet:at}),te(at)},onFailure:at=>{_e(ie,Y,"onError",ee.USER_EXITED_SET_PASSWORD_FLOW),ge(at)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:vt,entropyIdVerifier:Ee,onFailure:ge},connectWallet:Me,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:fe,shouldCreateEth:!1,shouldCreateSol:!1}}),$e(Zu)})}async function Le({appId:U,action:H}){let Y=await pr();if(H==="link"&&!Y)throw _e(ie,"linkAccount","onError",ee.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${U}`}),new Q("User must be authenticated before linking an account.");if(H==="login"&&Y)throw _e(ie,"login","onError",ee.UNKNOWN_AUTH_ERROR),new Q("Attempted to log in, but user is already logged in. Use a `link` helper instead.");se.current=`privy:${U}`,ye.current=H;let J=K4();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:U}}),new Promise(async(X,te)=>{let{name:ge,logoUrl:fe}=await Yre({api:e.api,providerAppId:U,requesterAppId:V.id});Z({crossAppAuth:{appId:U,name:ge,logoUrl:fe,action:H,popup:J,onSuccess:X,onError:te}}),$e(sit)})}let Ar={ready:o,authenticated:l,user:u,walletConnectors:e.connectors||null,connectWallet:U=>{U&&"target"in U&&U&&(U=void 0),Z({externalConnectWallet:{walletList:U!=null&&U.walletList&&(U==null?void 0:U.walletList.length)>0?U.walletList:void 0,suggestedAddress:U==null?void 0:U.suggestedAddress,walletChainType:U==null?void 0:U.walletChainType,description:U==null?void 0:U.description}}),$e(LA)},linkWallet:U=>{U&&"target"in U&&U&&(U=void 0),he("siwe"),se.current="siwe",ye.current="link",Z({...G,externalConnectWallet:{...G.externalConnectWallet,suggestedAddress:U==null?void 0:U.suggestedAddress,walletList:U==null?void 0:U.walletList,walletChainType:U==null?void 0:U.walletChainType,description:U!=null&&U.suggestedAddress?d.jsxs("span",{children:["Link the wallet with address"," ",d.jsx(Rt,{showCopyIcon:!1,address:U==null?void 0:U.suggestedAddress})," ",V!=null&&V.name?`to ${V.name}.`:"."]}):`Link a wallet to your ${V==null?void 0:V.name} account`}}),$e(Ub)},startCrossAppAuthFlow:Le,linkEmail:()=>{he("email"),bt("email"),se.current="email",ye.current="link",$e(bit)},linkPhone:()=>{he("sms"),bt("phone"),se.current="sms",ye.current="link",$e(bT)},linkGoogle:async()=>{he("google"),bt("google_oauth"),ye.current="link",await qe.initLoginWithOAuth("google")},linkTwitter:async()=>{he("twitter"),bt("twitter_oauth"),ye.current="link",await qe.initLoginWithOAuth("twitter")},linkDiscord:async()=>{he("discord"),bt("discord_oauth"),ye.current="link",await qe.initLoginWithOAuth("discord")},linkGithub:async()=>{he("github"),bt("github_oauth"),ye.current="link",await qe.initLoginWithOAuth("github")},linkSpotify:async()=>{he("spotify"),bt("spotify_oauth"),ye.current="link",await qe.initLoginWithOAuth("spotify")},linkInstagram:async()=>{he("instagram"),bt("instagram_oauth"),ye.current="link",await qe.initLoginWithOAuth("instagram")},linkTiktok:async()=>{he("tiktok"),bt("tiktok_oauth"),ye.current="link",await qe.initLoginWithOAuth("tiktok")},linkLine:async()=>{he("line"),bt("line_oauth"),ye.current="link",await qe.initLoginWithOAuth("line")},linkLinkedIn:async()=>{he("linkedin"),bt("linkedin_oauth"),ye.current="link",await qe.initLoginWithOAuth("linkedin")},linkApple:async()=>{he("apple"),bt("apple_oauth"),ye.current="link",await qe.initLoginWithOAuth("apple")},linkPasskey:async()=>{he("passkey"),bt("passkey"),await qe.initLinkWithPasskey(),$e(trt)},linkTelegram:async U=>{if(he("telegram"),bt("telegram"),ye.current="link",se.current="telegram",U==null?void 0:U.launchParams)if(U.launchParams.initDataRaw){let H=new Lm;e.startAuthFlow(H),H.meta.telegramAuthResult=void 0,H.meta.telegramWebAppData=EL(U.launchParams.initDataRaw),Z({telegramAuthModalData:{seamlessAuth:!0}}),$e(zb)}else _e(ie,"linkAccount","onError",ee.INVALID_DATA,{linkMethod:"telegram"});else await qe.initLoginWithTelegram();$e(zb)},linkFarcaster:async()=>{he("farcaster"),bt("farcaster"),await qe.initLoginWithFarcaster(),ye.current="link",se.current="farcaster",$e(BA)},updateEmail:()=>{if(he("email"),!(u!=null&&u.email))throw new Q("User does not have an email linked to their account.");ye.current="update",se.current="email",$e(qit)},updatePhone:()=>{if(he("sms"),!(u!=null&&u.phone))throw new Q("User does not have a phone number linked to their account.");ye.current="update",se.current="sms",$e(Git)},login:async U=>{U&&"target"in U&&U&&(U=void 0);let H="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let Y=await new Promise(J=>{re(X=>J.bind(X))});if(re(null),Y)return void console.warn(H)}!u||u.isGuest?(ye.current="login",Z({login:U}),$e(Ui)):console.warn(H)},connectOrCreateWallet:async()=>{o||(await new Promise(U=>{re(()=>U)}),re(null)),l?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ye.current="connect-or-create",$e(Lne))},logout:async()=>{if(ye.current=null,se.current=null,u&&e.clearProviderAcccessTokens(u),E(null),await e.logout(),u&&k)try{await k.clearMfa({userId:u.id})}catch{}h(null),c(!1),_e(ie,"logout","onSuccess"),s(!1),it.del(gA),it.del(Rte(V.id))},getAccessToken:x.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async U=>{let H;return h(H=U.startsWith("0x")?await e.unlinkEthereumWallet(U):await e.unlinkSolanaWallet(U)),H},unlinkEmail:async U=>{let H=await e.unlinkEmail(U);return h(H),H},unlinkPhone:async U=>{let H=await e.unlinkPhone(U);return h(H),H},unlinkGoogle:async U=>{let H=await e.unlinkOAuth("google",U);return h(H),H},unlinkTwitter:async U=>{let H=await e.unlinkOAuth("twitter",U);return h(H),H},unlinkDiscord:async U=>{let H=await e.unlinkOAuth("discord",U);return h(H),H},unlinkGithub:async U=>{let H=await e.unlinkOAuth("github",U);return h(H),H},unlinkSpotify:async U=>{let H=await e.unlinkOAuth("spotify",U);return h(H),H},unlinkInstagram:async U=>{let H=await e.unlinkOAuth("instagram",U);return h(H),H},unlinkTiktok:async U=>{let H=await e.unlinkOAuth("tiktok",U);return h(H),H},unlinkLine:async U=>{let H=await e.unlinkOAuth("line",U);return h(H),H},unlinkLinkedIn:async U=>{let H=await e.unlinkOAuth("linkedin",U);return h(H),H},unlinkApple:async U=>{let H=await e.unlinkOAuth("apple",U);return h(H),H},unlinkFarcaster:async U=>{let H=await e.unlinkFarcaster(U);return h(H),H},unlinkTelegram:async U=>{let H=await e.unlinkTelegram(U);return h(H),H},unlinkPasskey:async U=>{let H=await pr();if(!H)throw Error("Must have valid access token to enroll in MFA");if(!k)throw Error("Wallet proxy not initialized.");let Y=V.passkeys.shouldUnenrollMfaOnUnlink;await k.unlinkPasskeyAccount({credentialId:U,accessToken:H,removeAsMfa:Y});let J=await e.getAuthenticatedUser();return h(J),J},unlinkCrossAppAccount:async({subject:U})=>{var J;let H=(J=u==null?void 0:u.linkedAccounts.find(X=>X.type==="cross_app"&&X.subject===U))==null?void 0:J.providerApp;if(!H)throw new Q("Invalid subject");e.storeProviderAccessToken(H.id,null);let Y=await e.unlinkOAuth(`privy:${H.id}`,U);return h(Y),Y},setWalletRecovery:async U=>wt({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(U==null?void 0:U.showAutomaticRecovery)??!1}),setWalletPassword:async()=>wt({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(U,H)=>new Promise(async(Y,J)=>{var Fe;let{requesterAppId:X}=(H==null?void 0:H.uiOptions)||{},te=U.message,ge=H!=null&&H.address?Lo(u,H.address):Sl(u);if(!ge&&(H==null?void 0:H.address)!==void 0){let xe=F8(f,H.address);if(xe)try{let ft=await xe.getEthereumProvider(),Ct=await ft.request({method:"personal_sign",params:[te,xe.address]});return _e(ie,"signMessage","onSuccess",{signature:Ct}),void Y({signature:Ct})}catch(ft){return _e(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),void J(ft??new $i("Unable to sign message"))}}if(!ge)throw new Q("No embedded or connected wallet found for address.");if(!l||!u)return _e(ie,"signMessage","onError",ee.MUST_BE_AUTHENTICATED),void J(Error("User must be authenticated before signing with a Privy wallet"));let fe=ge.address,Be=ge.walletIndex??0,{entropyId:vt,entropyIdVerifier:Ee}=ni(u,ge),Me=Fn(ge);if(typeof te!="string"||te.length<1)return _e(ie,"signMessage","onError",ee.INVALID_MESSAGE),void J(Error("Message must be a non-empty string"));let at=async()=>{let xe;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let ft=await pr();if(!k||!ft||!await qe.recoverEmbeddedWallet({address:fe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:fe,requesterAppId:X}}),Me){let Ct=Mi(U.message,{strict:!0}),jt=await Ki(r,async({message:qt})=>await k.signWithUserSigner({accessToken:ft,requesterAppId:X,message:qt}),{chain_type:"ethereum",method:"personal_sign",params:Ct?{message:te.slice(2),encoding:"hex"}:{message:te,encoding:"utf-8"},wallet_id:ge.id});if(!jt.data||!("signature"in jt.data))throw new $i("Unable to sign message");xe=jt.data.signature}else{let{response:Ct}=await k.rpc({accessToken:ft,entropyId:vt,entropyIdVerifier:Ee,chainType:"ethereum",hdWalletIndex:Be,requesterAppId:X,request:{method:"personal_sign",params:[te,fe]}});xe=Ct.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:fe,requesterAppId:X}}),xe};if(ce({showWalletUIs:(Fe=H==null?void 0:H.uiOptions)==null?void 0:Fe.showWalletUIs}))try{let xe=await at();_e(ie,"signMessage","onSuccess",{signature:xe}),Y({signature:xe})}catch(xe){_e(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),J(xe??new $i("Unable to sign message"))}else Z({signMessage:{method:"personal_sign",data:te,confirmAndSign:at,onSuccess:xe=>{_e(ie,"signMessage","onSuccess",{signature:xe}),Y({signature:xe})},onFailure:xe=>{_e(ie,"signMessage","onError",ee.UNABLE_TO_SIGN),J(xe)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:ge.recoveryMethod,connectingWalletAddress:fe,entropyId:vt,entropyIdVerifier:Ee,onCompleteNavigateTo:KA,isUnifiedWallet:Me,onFailure:xe=>{_e(ie,"signMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),J(xe)}}}),$e(Zu)}),signTypedData:(U,H)=>new Promise(async(Y,J)=>{var Fe;let{requesterAppId:X}=(H==null?void 0:H.uiOptions)||{},te=H!=null&&H.address?Lo(u,H.address):Sl(u);if(!te&&(H!=null&&H.address)){let xe=F8(f,H.address);if(xe)try{let ft=await xe.getEthereumProvider(),Ct=Db(U),jt=await ft.request({method:"eth_signTypedData_v4",params:[xe.address,Ct]});return _e(ie,"signTypedData","onSuccess",{signature:jt}),void Y({signature:jt})}catch(ft){return _e(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),void J(ft??new $i("Unable to sign typed data "+ft))}}if(!te)throw new Q("No embedded or connected wallet found for address.");if(!l||!u)return _e(ie,"signTypedData","onError",ee.MUST_BE_AUTHENTICATED),void J(Error("User must be authenticated before signing with a Privy wallet"));let ge=te.address,fe=te.walletIndex??0,{entropyId:Be,entropyIdVerifier:vt}=ni(u,te),Ee=Fn(te),Me=Db(U),at=async()=>{let xe;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let ft=await pr();if(!k||!ft||!await qe.recoverEmbeddedWallet({address:ge}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:ge,requesterAppId:X}}),Ee){let{domain:Ct,types:jt,primaryType:qt,message:Qt}=Me,Vt=await Ki(r,async({message:dr})=>await k.signWithUserSigner({accessToken:ft,requesterAppId:X,message:dr}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Ct,types:jt,primary_type:qt,message:Qt}},wallet_id:te.id});if(!Vt.data||!("signature"in Vt.data))throw new $i("Unable to sign message");xe=Vt.data.signature}else{let{response:Ct}=await k.rpc({accessToken:ft,entropyId:Be,entropyIdVerifier:vt,chainType:"ethereum",hdWalletIndex:fe,requesterAppId:X,request:{method:"eth_signTypedData_v4",params:[ge,Me]}});xe=Ct.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:ge,requesterAppId:X}}),xe};if(ce({showWalletUIs:(Fe=H==null?void 0:H.uiOptions)==null?void 0:Fe.showWalletUIs}))try{let xe=await at();_e(ie,"signTypedData","onSuccess",{signature:xe}),Y({signature:xe})}catch(xe){_e(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),J(xe??new $i("Unable to sign message"))}else Z({signMessage:{method:"eth_signTypedData_v4",data:Me,confirmAndSign:at,onSuccess:xe=>{_e(ie,"signTypedData","onSuccess",{signature:xe}),Y({signature:xe})},onFailure:xe=>{_e(ie,"signTypedData","onError",ee.UNABLE_TO_SIGN),J(xe)},uiOptions:(H==null?void 0:H.uiOptions)||{}},connectWallet:{recoveryMethod:te.recoveryMethod,connectingWalletAddress:te.address,entropyId:Be,isUnifiedWallet:Ee,entropyIdVerifier:vt,onCompleteNavigateTo:KA,onFailure:xe=>{_e(ie,"signMessage","onError",ee.UNKNOWN_CONNECT_WALLET_ERROR),J(xe)}}}),$e(Zu)}),sendTransaction:async(U,H)=>await ot({transaction:U,sponsor:H==null?void 0:H.sponsor,uiOptions:H==null?void 0:H.uiOptions,fundWalletConfig:H==null?void 0:H.fundWalletConfig,address:H==null?void 0:H.address,signOnly:!1}),signTransaction:async(U,H)=>({signature:(await ot({transaction:U,uiOptions:H==null?void 0:H.uiOptions,address:H==null?void 0:H.address,signOnly:!0})).hash}),exportWallet:U=>new Promise(async(H,Y)=>{if(!l||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));U&&"target"in U&&U&&(U=void 0);let J=U!=null&&U.address?Lo(u,U.address):Sl(u);if(!J)return void Y(new Q("User must have an embedded wallet."));let X=J.address,{entropyId:te,entropyIdVerifier:ge}=ni(u,J),fe=Fn(J);if(!X)return void Y(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Rs(X))return void Y(Error("Must provide a valid Ethereum address."));let Be={recoveryMethod:J.recoveryMethod,connectingWalletAddress:J.address,isUnifiedWallet:fe,entropyId:te,entropyIdVerifier:ge,onCompleteNavigateTo:GA,onFailure:Y,shouldForceMFA:!0};Z(G),await pr()&&k?k?fg(J)?(Z({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:J.address,entropyId:te,entropyIdVerifier:ge,hdWalletIndex:J.walletIndex,chainType:J.chainType,walletId:J.id,isUnifiedWallet:fe,imported:J.imported,onSuccess:H,onFailure:Y},connectWallet:Be}),$e(Zu)):Y(Error(`Export is not supported for ${J.chainType} wallets`)):Y(Error("Must have a Privy wallet before exporting")):Y(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Ie,async init(U){switch(U){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${U}`)}},async submit(U,H){var Y,J,X;switch(U){case"totp":case"sms":if(typeof H!="string")throw new Q("Invalid MFA code");(Y=de.current)==null||Y.resolve({mfaMethod:U,mfaCode:H,relyingParty:window.origin}),await new Promise((fe,Be)=>{Je.current={resolve:fe,reject:Be}});break;case"passkey":if(typeof H=="string")throw new Q("Invalid authenticator response");let te=await Fl(()=>import("./index-Bjltdz_y.js"),[]),ge=rit(await te.startAuthentication(H));(J=de.current)==null||J.resolve({mfaMethod:U,mfaCode:ge,relyingParty:window.origin}),await new Promise((fe,Be)=>{Je.current={resolve:fe,reject:Be}});break;default:throw(X=de.current)==null||X.reject(new Q("Unsupported MFA method")),new Q(`Unsupported MFA method: ${U}`)}},cancel(){var U;(U=de.current)==null||U.reject(new Q("MFA canceled"))},async initEnrollmentWithSms(U){let H=await pr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.initEnrollMfa({method:"sms",accessToken:H,phoneNumber:U.phoneNumber})},enrollInMfa:U=>new Promise((H,Y)=>{if(!U)return qe.closePrivyModal(),void H();V.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),Z({mfaEnrollmentFlow:{mfaMethods:V.mfa.methods,shouldUnlinkOnUnenrollMfa:V.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:H,onFailure:Y}}),$e(Lit)}),async initEnrollmentWithTotp(){let U=await pr();if(!U||!k)throw Error("Must have valid access token to enroll in MFA");let H=await k.initEnrollMfa({method:"totp",accessToken:U});return{secret:H.secret,authUrl:H.authUrl}},async submitEnrollmentWithSms(U){let H=await pr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"sms",accessToken:H,phoneNumber:U.phoneNumber,code:U.mfaCode}),h(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(U){let H=await pr();if(!H||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"totp",accessToken:H,code:U.mfaCode}),h(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:U},H={}){let Y=await pr();if(!Y||!k)throw Error("Must have valid access token to enroll in MFA");await k.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:U,removeForLogin:H.removeForLogin}),h(await e.getAuthenticatedUser())},async unenroll(U,H={}){let Y=await pr();if(!Y||!k)throw Error("Must have valid access token to remove MFA");U==="passkey"?await k.submitEnrollMfa({method:"passkey",accessToken:Y,credentialIds:[],removeForLogin:H.removeForLogin}):await k.unenrollMfa({method:U,accessToken:Y}),h(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var J;let U=await pr(),H=u==null?void 0:u.linkedAccounts.find(X=>X.type==="wallet"&&X.walletClientType==="privy");if(!U)throw Error("Must have valid access token to connect with Farcaster");if(!k||!H)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fn(H))throw new Q("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((J=u==null?void 0:u.farcaster)!=null&&J.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await qe.recoverEmbeddedWallet({address:H.address}))throw Error("Unable to connect to wallet");let Y=await k.initFarcasterSigner({address:H.address,hdWalletIndex:null,accessToken:U,mfaCode:null,mfaMethod:null,relyingParty:window.origin});Y.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),Z({farcasterSigner:Y}),$e(yit)},getFarcasterSignerPublicKey:async()=>{var J,X;let U,H=await pr(),Y=u==null?void 0:u.linkedAccounts.find(te=>te.type==="wallet"&&te.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fn(Y))throw new Q("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((J=u==null?void 0:u.farcaster)!=null&&J.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await qe.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((X=u.farcaster)!=null&&X.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return U=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(U.match(/.{1,2}/g).map(te=>parseInt(te,16)))},signFarcasterMessage:async U=>{var te,ge;let H=await pr(),Y=u==null?void 0:u.linkedAccounts.find(fe=>fe.type==="wallet"&&fe.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fn(Y))throw new Q("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((te=u==null?void 0:u.farcaster)!=null&&te.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await qe.recoverEmbeddedWallet({address:Y.address}))throw Error("Unable to connect to wallet");if(!((ge=u.farcaster)!=null&&ge.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let J=await Fl(()=>import("./index-Bjltdz_y.js"),[]),X=await k.signFarcasterMessage({address:Y.address,hdWalletIndex:null,accessToken:H,mfaCode:null,mfaMethod:null,payload:{hash:J.bufferToBase64URLString(U)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(J.base64URLStringToBuffer(X.signature))},signMessageWithCrossAppWallet(U,{address:H,chainId:Y}){let J=u==null?void 0:u.linkedAccounts.some(X=>X.type==="cross_app"&&X.smartWallets.some(te=>te.address===H));return Gv({user:u,client:e,address:H,requesterAppId:V.id,request:{method:J?"privy_signSmartWalletMessage":"personal_sign",params:[U,H],chainId:Y},reconnect:Le})},signTypedDataWithCrossAppWallet(U,{address:H,chainId:Y}){let J=u==null?void 0:u.linkedAccounts.some(te=>te.type==="cross_app"&&te.smartWallets.some(ge=>ge.address===H)),X=Db(U);return Gv({user:u,client:e,address:H,requesterAppId:V.id,request:{method:J?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[H,X],chainId:Y},reconnect:Le})},sendTransactionWithCrossAppWallet(U,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(J=>J.type==="cross_app"&&J.smartWallets.some(X=>X.address===H));return Gv({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Y?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[U],chainId:U.chainId},reconnect:Le})},signTransactionWithCrossAppWallet(U,{address:H}){let Y=u==null?void 0:u.linkedAccounts.some(J=>J.type==="cross_app"&&J.smartWallets.some(X=>X.address===H));return Gv({user:u,client:e,address:H,requesterAppId:V.id,request:{method:Y?"privy_signSmartWalletTx":"eth_signTransaction",params:[U],chainId:U.chainId},reconnect:Le})},isModalOpen:i,mfaMethods:V.mfa.methods};Tie=Ar.signMessage,Pie=Ar.signTypedData,Oie=async(U,H)=>await ot({transaction:U,...H,signOnly:!1}),Nie=async(U,H)=>({signature:(await ot({transaction:U,...H,signOnly:!0})).hash});let qe={privy:r,setAuthenticated:c,setUser:h,setIsNewUser:v,isNewUserThisSession:b,pendingTransaction:null,walletConnectionStatus:R,setWalletConnectionStatus:T,connectors:((Jt=e.connectors)==null?void 0:Jt.walletConnectors)??[],solanaWallets:g,rpcConfig:V.rpcConfig,chains:V.chains,appId:t.appId,showFiatPrices:V.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:De,hideWalletUIs:yt,isHeadlessSigning:x.useCallback(ce,[V.embeddedWallets.showWalletUIs]),emailOtpState:W,setEmailOtpState:j,smsOtpState:_,setSmsOtpState:C,oAuthState:S,setOAuthState:I,telegramAuthState:D,setTelegramAuthState:F,siweState:$,setSiweState:P,isHeadlessOAuthLoading:O,baseAccountSdk:w,setBaseAccountSdk:y,nativeTokenSymbolForChainId:U=>{var H;return(H=V.chains.find(Y=>Y.id===Number(U)))==null?void 0:H.nativeCurrency.symbol},initializeWalletProxy:async U=>{if(k)return k;let H=new Promise(X=>{le.current=X}),Y=new Promise(X=>setTimeout(()=>X(null),U)),J=await Promise.race([H,Y]);return le.current=null,J},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var U;return(U=e.authFlow)==null?void 0:U.meta},client:e,closePrivyModal:async(U={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let H,Y=o&&l&&u;Y&&se.current&&(H=dt(u)),ye.current==="login"?U.shouldCallAuthOnSuccess&&Y&&se.current?_e(ie,"login","onComplete",{user:u,isNewUser:b,wasAlreadyAuthenticated:!1,loginMethod:se.current,loginAccount:H??null}):_e(ie,"login","onError",ee.USER_EXITED_AUTH_FLOW):ye.current==="link"&&H?U.isSuccess&&Y&&se.current?_e(ie,"linkAccount","onSuccess",{user:u,linkMethod:se.current,linkedAccount:H}):se.current&&_e(ie,"linkAccount","onError",ee.USER_EXITED_LINK_FLOW,{linkMethod:se.current}):ye.current==="update"&&H?U.isSuccess&&Y&&se.current?_e(ie,"update","onSuccess",{user:u,updateMethod:se.current,updatedAccount:H}):se.current&&_e(ie,"update","onError",ee.USER_EXITED_UPDATE_FLOW,{linkMethod:se.current}):ye.current==="connect-or-create"&&(f[0]?_e(ie,"connectOrCreateWallet","onSuccess",{wallet:f[0]}):_e(ie,"connectOrCreateWallet","onError",ee.USER_EXITED_AUTH_FLOW));let J=A&&CE.has(A),X=A===Ur&&G.errorModalData&&CE.has(G.errorModalData.previousScreen);if((J||X)&&G.funding){let te,ge=CE.get(A)??null;if(G.funding.chainType==="solana"){let fe=n(S2);if(fe)try{te=BigInt(await fe.getBalance({address:G.funding.address,cluster:G.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");_e(ie,"fundSolanaWallet","onUserExited",{address:G.funding.address,cluster:G.funding.cluster,fundingMethod:ge,balance:te})}else{let fe=dg(G.funding.chain.id,V.chains,V.rpcConfig,{appId:t.appId});try{te=await fe.getBalance({address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}_e(ie,"fundWallet","onUserExited",{address:G.funding.address,chain:G.funding.chain,fundingMethod:ge,balance:te})}}Z(te=>({...te,externalConnectWallet:{suggestedAddress:void 0}})),ye.current=null,se.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:$e,connectWallet:ht,initLoginWithWallet:async(U,H,Y,J)=>{Rc(U)?(se.current="siwe",rt(U,H,Y)):(se.current="siws",Ae(U,H,Y,J))},loginWithWallet:async()=>{let U,H,Y;if(!o)throw new sh;if(e.authFlow instanceof k0?U="siwe":e.authFlow instanceof b5&&(U="siws"),!U)throw new Q("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:H}=await e.link()),se.current=U}catch(J){throw _e(ie,"linkAccount","onError",J.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),J}else try{({user:H,isNewUser:Y}=await e.authenticate()),se.current=U}catch(J){throw _e(ie,"login","onError",J.privyErrorCode||ee.GENERIC_CONNECT_WALLET_ERROR),J}h(H||u||null),v(Y||!1),c(!0)},delegateWallet:async({address:U,chainType:H,showDelegationUIs:Y})=>new Promise(async(J,X)=>{let te=await pr();if(!l||!u||!te)throw new Q("User must be authenticated and have an embedded wallet to delegate actions.");if(H!=="solana"&&H!=="ethereum")throw new Q("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let ge=qe.walletProxy??await qe.initializeWalletProxy(15e3);if(!ge)throw new Q("Wallet proxy not initialized.");if((({address:Me,user:at})=>!!zL(at).find(Fe=>Fe.address===Me))({address:U,user:u}))return J();let fe=Lo(u,U);if(!fe)throw new Q("Address to delegate is not associated with current user.");if(Fn(fe))throw new Q("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Be=vQe({address:U,user:u}),vt=bQe({address:U,user:u}),Ee=async()=>{await ge.createDelegatedAction({accessToken:te,rootWallet:vt,delegatedWallets:[Be]}),await qe.refreshSessionAndUser()};if(await qe.recoverEmbeddedWallet({address:U}),Y)Z({delegatedActions:{consent:{address:U,onDelegate:Ee,onSuccess:async()=>{J()},onError:async Me=>{X(Me)}}}}),$e(ait);else try{await Ee(),J()}catch(Me){X(Me)}}),revokeDelegatedWallets:async({showDelegationUIs:U})=>new Promise(async(H,Y)=>{if(!l||!u)throw new Q("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let J=zL(u);if(J.length===0)throw new Q("User has no delegated wallets to revoke.");if(J.some(Fn))throw new Q("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let X=async()=>{await e.revokeDelegatedWallet(),await qe.refreshSessionAndUser()};if(U)Z({delegatedActions:{revoke:{onRevoke:X,onSuccess:async()=>{H()},onError:async te=>{Y(te)}}}}),$e(cit);else try{await X(),H()}catch(te){Y(te)}}),initLoginWithFarcaster:async(U,H)=>{let Y=new pL(U,H);e.startAuthFlow(Y);try{se.current="farcaster",await Y.initializeFarcasterConnect()}catch(J){throw ye.current==="login"?_e(ie,"login","onError",J.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):ye.current==="link"&&_e(ie,"linkAccount","onError",J.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),J}},loginWithFarcaster:async()=>{let U,H;if(!o)throw new sh;if(!(e.authFlow instanceof pL))throw new Q("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:U}=await e.link()),se.current="farcaster"}catch(Y){throw _e(ie,"linkAccount","onError",Y.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),Y}else try{({user:U,isNewUser:H}=await e.authenticate()),se.current="farcaster"}catch(Y){throw _e(ie,"login","onError",Y.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),Y}h(U||null),v(H||!1),c(!0)},async crossAppAuthFlow({appId:U,popup:H,action:Y}){let J=`privy:${U}`;se.current=J;let{url:X,stateCode:te,codeVerifier:ge}=await async function({api:fe,appId:Be}){let vt=U4(),Ee=UI(),Me=await zI(vt);try{let{url:at}=await fe.post(BK,{provider:`privy:${Be}`,redirect_to:window.location.href,code_challenge:Me,state_code:Ee});return{url:at,stateCode:Ee,codeVerifier:vt}}catch(at){throw zt(at)}}({api:e.api,appId:U});if(!X)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:U}}),new Q("No authorization URL returned for cross-app auth.");try{let fe=await async function({url:at,popup:Fe}){return Fe.location=at,new Promise((xe,ft)=>{let Ct,jt=setTimeout(()=>{ft(new Q("Authorization request timed out after 2 minutes.")),qt()},12e4);function qt(){Fe==null||Fe.close(),window.removeEventListener("message",Vt)}let Qt=setInterval(()=>{Fe!=null&&Fe.closed&&!Ct&&(qt(),clearInterval(Qt),clearTimeout(jt),ft(new Q("User rejected request")))},300);function Vt(dr){dr.data&&(dr.data.type==="PRIVY_OAUTH_RESPONSE"&&dr.data.stateCode&&dr.data.authorizationCode&&(clearTimeout(jt),xe(dr.data),qt()),dr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(jt),ft(new Q(dr.data.error)),qt()),dr.data.type===HL&&((Ct=new BroadcastChannel(WL)).onmessage=Vt))}window.addEventListener("message",Vt)})}({url:X,popup:H,provider:J}),Be=fe.stateCode,vt=fe.authorizationCode;if(Be!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:J,storedStateCode:te??"",returnedStateCode:Be??""}}),new Q("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);let Ee=await async function({appId:at,stateCode:Fe,codeVerifier:xe,authorizationCode:ft,action:Ct,client:jt}){var qt;if(!ft||!Fe)throw new Q("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(ft==="undefined")throw new Q("User denied confirmation during cross-app auth flow");try{let Qt=new EQe({authorizationCode:ft,stateCode:Fe,codeVerifier:xe,provider:`privy:${at}`});jt.startAuthFlow(Qt);let Vt=Ct==="link"?await jt.link():await jt.authenticate(),dr=(qt=Vt.oAuthTokens)==null?void 0:qt.accessToken;return console.debug(),dr}catch(Qt){let Vt=zt(Qt);throw Vt.privyErrorCode===ee.ACCOUNT_TRANSFER_REQUIRED?Vt:Vt.privyErrorCode?new Q(Vt.message||"Invalid code during cross-app auth flow.",void 0,Vt.privyErrorCode):Vt.message==="User denied confirmation during cross-app auth flow"?new Q("Invalid code during cross-app auth flow.",void 0,ee.OAUTH_USER_DENIED):new Q("Invalid code during cross-app auth flow.",void 0,ee.UNKNOWN_AUTH_ERROR)}}({appId:U,codeVerifier:ge,stateCode:Be,authorizationCode:vt,action:Y,client:e});Ee&&e.storeProviderAccessToken(U,Ee);let Me=await qe.refreshSessionAndUser();if(!Me)throw new Q("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:U}}),Me}catch(fe){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:fe.toString(),provider:J}}),fe}},async initLoginWithOAuth(U,H,Y){if(se.current=U,!fA()||U==="google"&&UA(window.navigator.userAgent))return void $e(kB);U==="twitter"&&window.opener&&window.opener.postMessage({type:HL},"*"),it.del(v5),it.del(q1);let J=new Pp({provider:U,disableSignup:!!Y,withPrivyUi:!0,customOAuthRedirectUrl:V.customOAuthRedirectUrl});H&&J.addCaptchaToken(H),e.startAuthFlow(J);let X=await e.authFlow.getAuthorizationUrl();if(X&&X.url)if(U==="twitter"&&Rle&&(X.url=X.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&mA())try{let{privyOAuthCode:te,privyOAuthState:ge}=await vL(X.url);$e(SB),J.meta.stateCode=ge,J.meta.authorizationCode=te}catch(te){throw console.error("OAuth in chrome extension flow failed:",te),te}else window.location.assign(X.url)},async initLoginWithTelegram(U,H){if(!o)throw new sh;se.current="telegram";let Y=new Lm(U,H);e.startAuthFlow(Y),F({status:"loading"}),Y.meta.telegramWebAppData=void 0,Y.meta.telegramAuthResult=await new Promise((J,X)=>V.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:V.loginConfig.telegramAuthConfiguration.botId,request_access:!0},te=>te?J(te):X(new Q("Telegram auth failed or was canceled by the client"))):X(new Q("Telegram was not initialized")):X(new Q("Telegram Auth configuration is not loaded")))},async loginWithTelegram(U){var ge;let H,Y;if(!(e.authFlow instanceof Lm))throw new Q("Must initialize Telegram flow before calling loginWithTelegram");(ge=e.authFlow.meta).captchaToken||(ge.captchaToken=U==null?void 0:U.captchaToken);let J=await pr(),X=(U==null?void 0:U.intent)||ye.current;if(X==="login")try{let fe=await e.authenticate();H=fe.user,Y=fe.isNewUser,se.current="telegram"}catch(fe){throw _e(ie,"login","onError",fe.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),fe}else{if(X!=="link")throw new Q("Unknown auth intent");try{H=(await e.link()).user,se.current="telegram"}catch(fe){throw _e(ie,"linkAccount","onError",fe.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),fe}}h(H),v(Y||!1),c(!0),F({status:"done"});let te=(H==null?void 0:H.linkedAccounts.find(({type:fe})=>fe==="telegram"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!J,loginAccount:te}},async loginWithOAuth(U){let H,Y,J;if(!(e.authFlow instanceof Pp))throw new Q("Must initialize OAuth flow before calling loginWithOAuth");let X=it.get(w5),te=e.authFlow.meta.stateCode;if(X!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U,storedStateCode:X??"",returnedStateCode:te??""}}),new Q("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let ge=await e.link();H=ge.user,J=ge.oAuthTokens,se.current=U}catch(ge){throw _e(ie,"linkAccount","onError",ge.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),ge}else try{let ge=await e.authenticate();H=ge.user,Y=ge.isNewUser,J=ge.oAuthTokens,se.current=U}catch(ge){throw ye.current==="login"?_e(ie,"login","onError",ge.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):ye.current==="link"&&_e(ie,"linkAccount","onError",ge.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),ge}return h(H),v(Y||!1),c(!0),J&&H&&_e(ie,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:J,user:H}),J},passkeyAuthState:L,setPasskeyAuthState:B,async initSignupWithPasskey({captchaToken:U,withPrivyUi:H}){let Y=new Ap({captchaToken:U,setPasskeyAuthState:B});e.startAuthFlow(Y),ye.current="login";try{se.current="passkey",B({status:"generating-challenge"}),await Y.initRegisterFlow(H),B({status:"awaiting-passkey"})}catch(J){throw B({status:"error",error:J}),_e(ie,"login","onError",J.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),J}},async signupWithPasskey(){let U,H;if(!o)throw new sh;if(!(e.authFlow instanceof Ap))throw new Q("Must initialize Passkey flow first.");if(se.current!=="passkey"){let X=new Q("Must init login with Passkey flow first.");throw B({status:"error",error:X}),X}let Y=await pr();try{se.current="passkey",B({status:"awaiting-passkey"}),{user:U,isNewUser:H}=await e.authenticate()}catch(X){throw B({status:"error",error:X}),_e(ie,"login","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),X}h(U),v(H||!1),c(!0),B({status:"done"});let J=(U==null?void 0:U.linkedAccounts.find(({type:X})=>X==="passkey"))||null;return{user:U,isNewUser:H||!1,wasAlreadyAuthenticated:!!Y,loginAccount:J}},async initLoginWithPasskey({captchaToken:U,withPrivyUi:H}){let Y=new Ap({captchaToken:U,setPasskeyAuthState:B});e.startAuthFlow(Y),ye.current="login";try{se.current="passkey",B({status:"generating-challenge"}),await Y.initAuthenticationFlow(H),B({status:"awaiting-passkey"})}catch(J){throw B({status:"error",error:J}),_e(ie,"login","onError",J.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),J}},async loginWithPasskey(U){let H,Y;if(!o)throw new sh;if(!(e.authFlow instanceof Ap))throw new Q("Must initialize Passkey flow first.");if(U!=null&&U.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=U.credentialIds),se.current!=="passkey"){let te=new Q("Must init login with Passkey flow first.");throw B({status:"error",error:te}),te}let J=await pr();try{se.current="passkey",B({status:"awaiting-passkey"}),{user:H,isNewUser:Y}=await e.authenticate()}catch(te){throw B({status:"error",error:te}),_e(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),te}h(H),v(Y||!1),c(!0),B({status:"done"});let X=(H==null?void 0:H.linkedAccounts.find(({type:te})=>te==="passkey"))||null;return{user:H,isNewUser:Y||!1,wasAlreadyAuthenticated:!!J,loginAccount:X}},async initLinkWithPasskey(U){let H=new Ap({captchaToken:U});e.startAuthFlow(H),ye.current="link",se.current="passkey",B({status:"generating-challenge"});try{await H.initLinkFlow(),B({status:"awaiting-passkey"})}catch(Y){throw _e(ie,"linkAccount","onError",Y.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),B({status:"error",error:Y}),Y}},async linkWithPasskey(){let U;if(!o)throw new sh;if(!(e.authFlow instanceof Ap))throw new Q("Must initialize Passkey flow first.");if(se.current!=="passkey")throw new Q("Must init login with Passkey flow first.");try{se.current="passkey",{user:U}=await e.link()}catch(H){throw _e(ie,"linkAccount","onError",H.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),H}return h(U||u||null),B({status:"done"}),U},async initLoginWithHeadlessOAuth(U,H,Y){if(!fA()||U==="google"&&UA(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let J=new Pp({provider:U,withPrivyUi:!1,disableSignup:Y??!1,customOAuthRedirectUrl:V.customOAuthRedirectUrl});H&&J.addCaptchaToken(H),I({status:"loading"});let X=await e.startAuthFlow(J).getAuthorizationUrl();if(X!=null&&X.url)if(window.location.protocol==="chrome-extension:"&&mA())try{let{privyOAuthCode:te,privyOAuthState:ge}=await vL(X.url);J.meta.stateCode=ge,J.meta.authorizationCode=te,await this.loginWithHeadlessOAuth(J.meta)}catch(te){throw I({status:"error",error:te}),te}else window.location.assign(X.url)},async loginWithHeadlessOAuth(U){let H,Y,J;N(!0),I({status:"loading"}),e.startAuthFlow(new Pp({...U,customOAuthRedirectUrl:V.customOAuthRedirectUrl}));let X=it.get(w5),te=U.stateCode;if(X!==te)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U.provider,storedStateCode:X??"",returnedStateCode:te??""}}),N(!1),new Q("Unexpected auth flow. This may be a phishing attempt.",void 0,ee.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:H,oAuthTokens:J}=await e.link()),se.current=U.provider;let ge=dt(H);H&&ge&&_e(ie,"linkAccount","onSuccess",{user:H,linkMethod:se.current,linkedAccount:ge})}catch(ge){throw N(!1),_e(ie,"linkAccount","onError",ge.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:U.provider}),ge}else try{({user:H,isNewUser:Y,oAuthTokens:J}=await e.authenticate()),se.current=U.provider;let ge=dt(H);H&&ge&&Y!==void 0&&_e(ie,"login","onComplete",{user:H,isNewUser:Y,wasAlreadyAuthenticated:!1,loginMethod:se.current,loginAccount:ge})}catch(ge){throw N(!1),I({status:"error",error:ge}),_e(ie,"login","onError",ge.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),ge}return h(H),v(Y||!1),c(!0),N(!1),I({status:"done"}),J&&H&&_e(ie,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:J,user:H}),H??void 0},initLoginWithEmail:async({email:U,captchaToken:H,disableSignup:Y,withPrivyUi:J})=>{let X=new e0({email:U,captchaToken:H,disableSignup:Y});e.startAuthFlow(X);try{se.current="email",j({status:"sending-code"}),await X.sendCodeEmail({withPrivyUi:J}),j({status:"awaiting-code-input"})}catch(te){throw j({status:"error",error:te}),ye.current==="login"?_e(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):ye.current==="link"&&_e(ie,"linkAccount","onError",te.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),te}},initUpdateEmail:async({oldAddress:U,newAddress:H,captchaToken:Y})=>{let J=new bYe(U,H,Y);e.startAuthFlow(J);try{await J.sendCodeEmail({withPrivyUi:!0})}catch(X){_e(ie,"update","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:se.current})}},initUpdatePhone:async(U,H,Y)=>{let J=new IYe(U,H,Y);e.startAuthFlow(J);try{await J.sendSmsCode({withPrivyUi:!0})}catch(X){_e(ie,"update","onError",X.privyErrorCode||ee.UNKNOWN_AUTH_ERROR,{linkMethod:se.current})}},initLoginWithSms:async({phoneNumber:U,captchaToken:H,disableSignup:Y,withPrivyUi:J})=>{C({status:"sending-code"});let X=new t0({phoneNumber:U,captchaToken:H,disableSignup:Y});e.startAuthFlow(X);try{se.current="sms",await X.sendSmsCode({withPrivyUi:J}),C({status:"awaiting-code-input"})}catch(te){throw C({status:"error",error:te}),ye.current==="login"?_e(ie,"login","onError",te.privyErrorCode||ee.UNKNOWN_AUTH_ERROR):ye.current==="link"&&_e(ie,"linkAccount","onError",te.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),te}},resendEmailCode:async()=>{var U;await((U=e.authFlow)==null?void 0:U.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var U;await((U=e.authFlow)==null?void 0:U.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async U=>{let H,Y;function J(fe){e.authFlow instanceof e0?j(fe):e.authFlow instanceof t0&&C(fe)}if(J({status:"submitting-code"}),!o){let fe=new sh;throw J({status:"error",error:fe}),fe}if(e.authFlow instanceof e0)e.authFlow.meta.emailCode=U.trim();else{if(!(e.authFlow instanceof t0)){let fe=new Q("Must initialize a passwordless code flow first");throw J({status:"error",error:fe}),fe}e.authFlow.meta.smsCode=U.trim()}let X=await pr();if(ye.current==="link")try{({user:H}=await e.link())}catch(fe){throw J({status:"error",error:fe}),_e(ie,"linkAccount","onError",fe.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:se.current}),fe}else if(ye.current==="update")try{({user:H}=await e.link())}catch(fe){throw J({status:"error",error:fe}),_e(ie,"update","onError",fe.privyErrorCode||ee.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:se.current}),fe}else try{({user:H,isNewUser:Y}=await e.authenticate())}catch(fe){throw J({status:"error",error:fe}),_e(ie,"login","onError",fe.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),fe}let te=H||u;h(te||null),v(Y||!1),c(!0),J({status:"done"});let ge=null;return e.authFlow instanceof e0?ge=(te==null?void 0:te.linkedAccounts.find(({type:fe})=>fe==="email"))||null:e.authFlow instanceof t0&&(ge=(te==null?void 0:te.linkedAccounts.find(({type:fe})=>fe==="phone"))||null),{user:te,isNewUser:Y||!1,wasAlreadyAuthenticated:!!X,linkedAccount:ge}},generateSiweMessage:async({address:U,chainId:H,captchaToken:Y})=>{ye.current=l?"link":"login",se.current="siwe",P({status:"generating-message"});let J=await e.generateSiweNonce({address:U,captchaToken:Y});return P({status:"awaiting-signature"}),vA({address:U,chainId:H.replace("eip155:",""),nonce:J})},generateSiweMessageForSmartWallet:async({address:U,chainId:H})=>{let Y=await e.generateSiweNonce({address:U});return vA({address:U,chainId:H.replace("eip155:",""),nonce:Y})},linkSmartWallet:async({message:U,signature:H,smartWalletType:Y,smartWalletVersion:J})=>{let X;X=await e.linkSmartWallet({message:U,signature:H,smartWalletType:Y,smartWalletVersion:J}),h((X=await qe.refreshSessionAndUser()??X)||u||null)},loginWithSiwe:async({message:U,signature:H,captchaToken:Y,disableSignup:J})=>{let X,te=null;try{if(u)throw Error("User already authenticated");let ge=new k0(e,void 0,Y,J,{message:U,signature:H});if(e.startAuthFlow(ge),se.current="siwe",ye.current="login",P({status:"submitting-signature"}),{user:te,isNewUser:X}=await e.authenticate(),!te)throw Error("Authentication failed - no user returned")}catch(ge){throw _e(ie,"login","onError",ge.privyErrorCode||ee.UNKNOWN_AUTH_ERROR),P({status:"error",error:ge}),ge}return h(te),v(X||!1),c(!0),P({status:"done"}),ye.current=null,se.current=null,te},linkWithSiwe:async({message:U,signature:H,chainId:Y,walletClientType:J,connectorType:X})=>{let te;he("siwe");let ge=null;try{P({status:"submitting-signature"}),te=await e.linkWithSiwe({message:U,signature:H,chainId:Y,walletClientType:J,connectorType:X}),te=await qe.refreshSessionAndUser()??te,P({status:"done"}),(ge=dt(te)||null)&&_e(ie,"linkAccount","onSuccess",{user:te,linkMethod:"siwe",linkedAccount:ge})}catch(Be){throw _e(ie,"linkAccount","onError",Be.privyErrorCode||ee.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ye.current=null,se.current=null,P({status:"error",error:Be}),Be}let fe=te||u;return h(fe||null),ye.current=null,se.current=null,{user:fe,linkedAccount:ge}},refreshSessionAndUser:async()=>{let U=await e.getAuthenticatedUser();return c(!!U),h(U),U},walletProxy:k,createAnalyticsEvent:({eventName:U,payload:H,timestamp:Y})=>e.createAnalyticsEvent({eventName:U,payload:H,timestamp:Y}),acceptTerms:async()=>{let U=await e.acceptTerms();return h(U),U},getUsdTokenPrice:U=>e.getUsdTokenPrice(U),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:U=>e.getSplTokenMetadata(U),recoverEmbeddedWallet:async U=>new Promise(async(H,Y)=>{if(!u)return void H(!0);let J=U!=null&&U.address?Lo(u,U.address):ea(u)||NC(u)||F6(u);if(!J||Fn(J))return void H(!0);let X=await pr();if(!X||!k||!J)return void Y(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:te,entropyIdVerifier:ge}=ni(u,J);try{await k.connect({accessToken:X,entropyId:te,entropyIdVerifier:ge}),H(!0)}catch(fe){if(Ew(fe)&&J.recoveryMethod==="privy"){let Be;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:J.address}});try{Be=await k.recover({entropyId:te,entropyIdVerifier:ge,accessToken:X})}catch(vt){return void Y(vt)}Be.entropyId||Y(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:J.address}}),H(!0)}else Ew(fe)&&J.recoveryMethod!=="privy"&&J.recoveryMethod!=="privy-v2"?(Z({recoverWallet:{entropyId:te,entropyIdVerifier:ge,onFailure:Y,onSuccess:()=>H(!0)},recoveryOAuthStatus:{provider:J.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),$e(Yne(J.recoveryMethod))):Y(fe)}}),exportSolanaWallet:U=>new Promise(async(H,Y)=>{if(!l||!u)return void Y(Error("User must be authenticated before exporting their Privy wallet"));let J=U!=null&&U.address?Lo(u,U.address):Pf(u);if(!J)return void Y(new Q("User must have an embedded wallet."));let{entropyId:X,entropyIdVerifier:te}=ni(u,J),ge=Fn(J);if(!await pr()||!k)return void Y(Error("Must have valid access token to enroll in MFA"));if(!k)return void Y(Error("Must have a Privy wallet before exporting"));let fe={recoveryMethod:J.recoveryMethod,connectingWalletAddress:J.address,isUnifiedWallet:ge,entropyId:X,entropyIdVerifier:te,onCompleteNavigateTo:GA,onFailure:Y,shouldForceMFA:!0};fg(J)?(Z({connectWallet:fe,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:J.address,entropyId:X,entropyIdVerifier:te,hdWalletIndex:J.walletIndex,chainType:J.chainType,walletId:J.id,isUnifiedWallet:ge,imported:J.imported,onSuccess:H,onFailure:Y}}),$e(Zu)):Y(Error(`Export is not supported for ${J.chainType} wallets`))}),setReadyToTrue:U=>{a(!0),K==null||K(U)},updateWallets:()=>Ve(),fundWallet:async(U,H)=>{Z({funding:pB({address:U,appConfig:V,fundWalletConfig:H,methodScreen:Ns})}),$e(Ns)},openModal:$e,requestFarcasterSignerStatus:async U=>{var X;let H=await pr(),Y=u==null?void 0:u.linkedAccounts.find(te=>te.type==="wallet"&&te.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!k||!Y)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((X=u==null?void 0:u.farcaster)!=null&&X.fid))throw Error("Must have Farcaster account to use Farcaster signers");let J=await e.requestFarcasterSignerStatus(U);return J.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),J},connectCoinbaseSmartWallet:async()=>{var H,Y;V.externalWallets.coinbaseWallet.config.preference={...V.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let U=((H=e.connectors)==null?void 0:H.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((Y=e.connectors)==null?void 0:Y.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(U)return U.updateConnectionPreference("smartWalletOnly"),ht(U);await kt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var H;let U=(H=e.connectors)==null?void 0:H.findWalletConnector("base_account","base_account");if(U)return ht(U);await kt("base_account","base_account")},initiateAccountTransfer:async({nonce:U,account:H,accountType:Y,externalWalletMetadata:J,telegramAuthResult:X,telegramWebAppData:te,farcasterEmbeddedAddress:ge,oAuthUserInfo:fe})=>{let Be=await e.sendAccountTransferRequest({nonce:U,account:H,accountType:Y,externalWalletMetadata:J,telegramAuthResult:X,telegramWebAppData:te,farcasterEmbeddedAddress:ge,oAuthUserInfo:fe});return h(Be),Be},inProgressAuthFlowRef:ye,inProgressLoginOrLinkMethodRef:se};Rie=qe.recoverEmbeddedWallet,jie=qe.recoverEmbeddedWallet;let Ft=x.useMemo(()=>({wallets:f,ready:ne&&be}),[f,ne,be]),zi=e.authFlow instanceof Lm,er=!V.headless&&V.captchaEnabled&&!l&&(o||zi);return d.jsx(Iie.Provider,{value:!0,children:d.jsx(Og.Provider,{value:Ar,children:d.jsx(yre.Provider,{value:ie,children:d.jsx(Bre.Provider,{value:Ft,children:d.jsx(OYe,{...V,children:d.jsxs(HK.Provider,{value:qe,children:[d.jsx(nXe,{children:d.jsxs(QYe,{data:G,setModalData:Z,setInitialScreen:E,initialScreen:A,authenticated:l,open:i,children:[t.children,d.jsx(Zit,{customAuth:V.customAuth}),er&&d.jsx(hZe,{delayedExecution:!1}),d.jsx(gQe,{}),d.jsx(tit,{disabled:V.embeddedWallets.disableAutomaticMigration}),d.jsx(eQe,{palette:V.appearance.palette||{}}),!V.render.standalone&&d.jsx(cQe,{open:i})]})}),d.jsx(wQe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u==null?void 0:u.mfaMethods,mfaPromise:de,mfaSubmitPromise:Je,onLoad:z,onLoadFailed:()=>null}),V.loginConfig.telegramAuthConfiguration&&d.jsx(hg,{$if:!0,children:d.jsx(dQe,{scriptHost:t.apiUrl||pA,botUsername:V.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};const Mie=x.createContext(),T2=()=>{const t=x.useContext(Mie);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},sst=({children:t})=>{const{ready:e,authenticated:r,user:n,login:i,logout:s,getAccessToken:o}=th(),{wallets:a}=al(),[l,c]=x.useState({isAuthenticated:!1,user:null,wallet:null,isLoading:!0});x.useEffect(()=>{e&&c({isAuthenticated:r,user:n,wallet:a[0]||null,isLoading:!1})},[e,r,n,a]);const g={...l,login:async(m="email")=>{try{await i({method:m})}catch(w){throw console.error("Login failed:",w),w}},logout:async()=>{try{await s()}catch(m){throw console.error("Logout failed:",m),m}},getAuthToken:async()=>{try{return await o()}catch(m){return console.error("Failed to get access token:",m),null}},connectWallet:async()=>{try{if(a.length>0){const m=a[0];return await m.connect(),m}return null}catch(m){throw console.error("Wallet connection failed:",m),m}},wallets:a};return d.jsx(Mie.Provider,{value:g,children:t})},vr={AUTHENTICATION:"/authentication",INVESTMENT_SELECTION:"/investment-selection",REGISTER:"/register",EMAIL_VERIFICATION:"/email-verification",DASHBOARD:"/dashboard",TRADE:"/trade",WALLETS:"/wallets",REPORTS:"/reports",SETTINGS:"/settings",HOME:"/",NOT_FOUND:"/404"};vr.DASHBOARD,vr.TRADE,vr.WALLETS,vr.REPORTS,vr.SETTINGS,vr.AUTHENTICATION,vr.INVESTMENT_SELECTION,vr.REGISTER,vr.EMAIL_VERIFICATION,vr.HOME;const Sp={[vr.AUTHENTICATION]:{title:"Authentication - Alphatoken",requiresAuth:!1},[vr.INVESTMENT_SELECTION]:{title:"Select Investment Type - Alphatoken",requiresAuth:!1},[vr.REGISTER]:{title:"Register - Alphatoken",requiresAuth:!1},[vr.EMAIL_VERIFICATION]:{title:"Email Verification - Alphatoken",requiresAuth:!1},[vr.DASHBOARD]:{title:"Dashboard - Alphatoken",requiresAuth:!0},[vr.TRADE]:{title:"Trade - Alphatoken",requiresAuth:!0},[vr.WALLETS]:{title:"Wallets - Alphatoken",requiresAuth:!0},[vr.REPORTS]:{title:"Reports - Alphatoken",requiresAuth:!0},[vr.SETTINGS]:{title:"Settings - Alphatoken",requiresAuth:!0},[vr.HOME]:{title:"Alphatoken - Cryptocurrency Trading Platform",requiresAuth:!1}},Die=x.createContext(),cx=()=>{const t=x.useContext(Die);if(!t)throw new Error("useRouter must be used within a RouterProvider");return t},ost=({children:t})=>{const{isAuthenticated:e,user:r}=T2(),[n,i]=x.useState(vr.HOME),[s,o]=x.useState([vr.HOME]);x.useEffect(()=>{var h,f;e&&r?((h=Sp[n])==null?void 0:h.requiresAuth)===!1&&a(vr.DASHBOARD):((f=Sp[n])==null?void 0:f.requiresAuth)===!0&&a(vr.AUTHENTICATION)},[e,r,n]);const a=(h,f=!1)=>{var p,g;if(h!==n){if((p=Sp[h])!=null&&p.requiresAuth&&!e){console.warn(""),i(vr.AUTHENTICATION),o(f?[vr.AUTHENTICATION]:m=>[...m,vr.AUTHENTICATION]);return}i(h),o(f?[h]:m=>[...m,h]),document.title=((g=Sp[h])==null?void 0:g.title)||"Alphatoken"}},u={currentRoute:n,routeHistory:s,navigate:a,goBack:()=>{var h;if(s.length>1){const f=s[s.length-2];o(p=>p.slice(0,-1)),i(f),document.title=((h=Sp[f])==null?void 0:h.title)||"Alphatoken"}},getCurrentRouteMeta:()=>Sp[n]||{},ROUTES:vr};return d.jsx(Die.Provider,{value:u,children:t})},IB=()=>{const{user:t,isAuthenticated:e,isLoading:r}=T2(),[n,i]=x.useState("English"),[s,o]=x.useState(1);x.useEffect(()=>{e&&t&&console.log(":",t)},[e,t]);const a=()=>{console.log("Continue button clicked"),s<3?o(s+1):navigate(ROUTES.INVESTMENT_SELECTION)},l=()=>{console.log("Back button clicked"),s>1?o(s-1):navigate(ROUTES.HOME)},c=[{id:1,title:"Provide identity document",description:""},{id:2,title:"Provide personal information",description:""},{id:3,title:"Perform a liveness check",description:""}];return d.jsxs("div",{className:"authentication-container",children:[d.jsxs("div",{className:"authentication-brand-section",children:[d.jsx("div",{className:"brand-background"}),d.jsxs("div",{className:"brand-overlay",children:[d.jsx("div",{className:"brand-gradient"}),d.jsxs("div",{className:"brand-content",children:[d.jsxs("div",{className:"logo-section",children:[d.jsx("img",{src:"/alphatoken-logo.svg",alt:"Alphatoken Logo",className:"logo"}),d.jsx("span",{className:"brand-name",children:"Alphatoken"})]}),d.jsx("div",{className:"brand-description",children:d.jsx("div",{className:"description-card",children:d.jsx("p",{children:"This is a text description"})})})]})]})]}),d.jsxs("div",{className:"authentication-content-section",children:[d.jsx("div",{className:"language-selector",children:d.jsxs("div",{className:"language-dropdown",children:[d.jsx("img",{src:"/global-icon.svg",alt:"Global Icon",className:"global-icon"}),d.jsx("span",{className:"language-text",children:n}),d.jsx("img",{src:"/arrow-down.svg",alt:"Arrow Down",className:"arrow-icon"})]})}),d.jsxs("div",{className:"back-button",onClick:l,children:[d.jsx("div",{className:"back-icon",children:d.jsx("img",{src:"/next-icon.svg",alt:"Back",className:"back-arrow"})}),d.jsx("span",{className:"back-text",children:"back"})]}),d.jsx("h1",{className:"authentication-title",children:"Authentication"}),d.jsx("p",{className:"welcome-text",children:"Let's get you verified"}),d.jsx("div",{className:"steps-container",children:c.map(u=>d.jsxs("div",{className:`step-item ${s===u.id?"active":""}`,children:[d.jsx("div",{className:"step-icon",children:d.jsx("img",{src:`/step${u.id}-icon.svg`,alt:`Step ${u.id}`,className:"step-icon-img"})}),d.jsxs("div",{className:"step-content",children:[d.jsxs("div",{className:"step-number",children:["Step ",u.id]}),d.jsx("div",{className:"step-title",children:u.title}),d.jsx("div",{className:"step-description",children:u.description})]})]},u.id))}),d.jsx("button",{className:"continue-button",onClick:a,children:"Continue"})]})]})},YA=({onRegister:t})=>{const[e,r]=x.useState(null),{navigate:n,ROUTES:i}=cx(),s=[{id:"individual",name:"Individual investors",icon:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M10 10C12.2091 10 14 8.20914 14 6C14 3.79086 12.2091 2 10 2C7.79086 2 6 3.79086 6 6C6 8.20914 7.79086 10 10 10Z",fill:"#4B5EF5"}),d.jsx("path",{d:"M15.5 18H4.5C3.94772 18 3.5 17.5523 3.5 17C3.5 13.6863 6.18629 11 9.5 11H10.5C13.8137 11 16.5 13.6863 16.5 17C16.5 17.5523 16.0523 18 15.5 18Z",fill:"#4B5EF5"})]})},{id:"corporate",name:"Corporate investors",icon:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M6 4H14C15.1046 4 16 4.89543 16 6V14C16 15.1046 15.1046 16 14 16H6C4.89543 16 4 15.1046 4 14V6C4 4.89543 4.89543 4 6 4Z",fill:"#4B5EF5"}),d.jsx("path",{d:"M8 8H12V12H8V8Z",fill:"white"})]})}],o=l=>{r(l)},a=()=>{e&&(console.log("Selected investment type:",e),localStorage.setItem("selectedInvestmentType",e),n(i.REGISTER),t&&t(e))};return d.jsxs("div",{className:"min-h-screen bg-[#F8FAFF] flex",children:[d.jsxs("div",{className:"hidden lg:flex lg:w-[475px] relative overflow-hidden",children:[d.jsx("img",{src:"/brand-delivery-bg.png",alt:"Brand background",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-[#1F32D6]"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#DBDFFF] via-[#DBDFFF]/60 to-transparent"}),d.jsxs("div",{className:"relative z-10 p-10",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-56",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-white to-white/50 rounded-lg shadow-sm flex items-center justify-center",children:d.jsx("img",{src:"/alphatoken-logo.svg",alt:"Alphatoken",className:"w-4 h-4"})}),d.jsx("span",{className:"text-white text-2xl font-bold",children:"Alphatoken"})]}),d.jsx("div",{className:"bg-gradient-to-b from-white/60 to-white/50 backdrop-blur-lg rounded-lg border border-white/10 shadow-lg p-6",children:d.jsx("p",{className:"text-white text-xl font-semibold leading-tight",children:"This is a text description"})})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[d.jsx("div",{className:"flex justify-end p-6",children:d.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-[#EDEEF3] rounded-lg px-3 py-2",children:[d.jsx("img",{src:"/global-icon.svg",alt:"Global",className:"w-4 h-4"}),d.jsx("span",{className:"text-[#1C1C1C] text-sm font-medium",children:"English"}),d.jsx("img",{src:"/arrow-down.svg",alt:"Dropdown",className:"w-3 h-3"})]})}),d.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 lg:px-16",children:d.jsxs("div",{className:"max-w-md mx-auto w-full",children:[d.jsx("h1",{className:"text-3xl lg:text-4xl font-semibold text-[#1C1C1C] mb-4",children:"Welcome "}),d.jsx("p",{className:"text-lg lg:text-xl text-[#1C1C1C] mb-12",children:"Please select your investment type"}),d.jsx("div",{className:"space-y-4",children:s.map(l=>d.jsxs("div",{className:`relative cursor-pointer transition-all duration-200 ${e===l.id?"border-2 border-[#4B5EF5]":"border border-[#EDEEF3]"} bg-white rounded-lg p-4 hover:shadow-md`,onClick:()=>o(l.id),children:[d.jsx("div",{className:"absolute top-4 right-4",children:e===l.id?d.jsx("img",{src:"/radio-on.svg",alt:"Selected",className:"w-4 h-4"}):d.jsx("img",{src:"/radio-off.svg",alt:"Not selected",className:"w-4 h-4"})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-10 h-10 bg-[#4B5EF5]/10 rounded-lg flex items-center justify-center",children:l.icon}),d.jsx("span",{className:"text-base lg:text-lg font-semibold text-[#1C1C1C]",children:l.name})]})]},l.id))}),d.jsx("button",{onClick:a,disabled:!e,className:`w-full mt-8 py-3 px-6 rounded-lg font-semibold text-sm transition-all duration-200 ${e?"bg-[#4B5EF5] text-white hover:bg-[#3A4BD4] active:bg-[#2A3AB3]":"bg-[#D9D9D9] text-[#73798B] cursor-not-allowed"}`,children:"Register"})]})})]})]})},Fie=({investmentType:t,onComplete:e,onBack:r})=>{const{user:n,login:i,logout:s,isAuthenticated:o}=T2(),{navigate:a,ROUTES:l}=cx(),[c,u]=x.useState(!1),[h,f]=x.useState(""),[p,g]=x.useState({email:"",password:"",confirmPassword:"",language:"English"}),[m,w]=x.useState({}),[y,b]=x.useState(!1),[v,A]=x.useState(!1);x.useEffect(()=>{o&&n&&(console.log(":",n),a(l.EMAIL_VERIFICATION),e&&e())},[o,n,e,a,l]);const E=R=>{const{name:T,value:L}=R.target;g(B=>({...B,[T]:L})),m[T]&&w(B=>({...B,[T]:""}))},O=()=>{const R={};return p.email?/\S+@\S+\.\S+/.test(p.email)||(R.email="Invalid email format"):R.email="Email is required",p.password?p.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",p.password!==p.confirmPassword&&(R.confirmPassword="Passwords do not match"),w(R),Object.keys(R).length===0},N=async R=>{if(R.preventDefault(),f(""),!!O()){u(!0);try{await i({email:p.email,createIfNotExists:!0}),console.log("")}catch(T){console.error(":",T),f("")}finally{u(!1)}}};return d.jsxs("div",{className:"min-h-screen bg-white flex",children:[d.jsxs("div",{className:"w-[475px] bg-gradient-to-b from-[#1F32D6] to-[#4B5EF5] relative overflow-hidden",children:[d.jsx("img",{src:"/brand-delivery-bg.png",alt:"Brand background",className:"absolute inset-0 w-full h-full object-cover"}),d.jsxs("div",{className:"relative z-10 p-10 h-full flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:"/alphatoken-logo.svg",alt:"Alphatoken",className:"w-8 h-8"}),d.jsx("span",{className:"text-white text-2xl font-bold",children:"Alphatoken"})]}),d.jsx("div",{className:"bg-white/10 backdrop-blur-lg border border-white/10 rounded-lg p-6 shadow-lg",children:d.jsx("p",{className:"text-white text-lg font-semibold",children:"This is a text description"})})]})]}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:d.jsxs("div",{className:"max-w-md w-full",children:[d.jsx("button",{onClick:r,className:"text-[#1C1C1C] font-semibold text-sm mb-8 hover:text-[#4B5EF5] transition-colors",children:" back"}),d.jsx("h1",{className:"text-[36px] font-semibold text-[#1C1C1C] mb-12",children:"Register"}),d.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[d.jsx("div",{className:"w-8 h-8 bg-[#4B5EF5] bg-opacity-10 rounded-lg flex items-center justify-center",children:d.jsx("img",{src:"/email-icon.svg",alt:"Profile",className:"w-4 h-4 text-[#4B5EF5]"})}),d.jsx("span",{className:"text-[#1C1C1C] font-medium",children:t==="individual"?"Individual investors":"Corporate investors"})]}),d.jsxs("form",{onSubmit:N,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm text-[#1C1C1C] mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",id:"email",name:"email",value:p.email,onChange:E,placeholder:"Please enter your Email",className:"w-full px-3 py-2 border border-[#EDEEF3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B5EF5] focus:border-transparent text-sm"}),d.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#B9BCC5] hover:text-[#4B5EF5]",children:d.jsx("img",{src:"/email-icon.svg",alt:"Email",className:"w-4 h-4"})})]}),m.email&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.email})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm text-[#1C1C1C] mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",id:"password",name:"password",value:p.password,onChange:E,placeholder:"Please enter your password",className:"w-full px-3 py-2 border border-[#EDEEF3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B5EF5] focus:border-transparent text-sm"}),d.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#B9BCC5] hover:text-[#4B5EF5]",children:d.jsx("img",{src:"/password-icon.svg",alt:"Password",className:"w-4 h-4"})})]}),m.password&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.password})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm text-[#1C1C1C] mb-2",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:v?"text":"password",id:"confirmPassword",name:"confirmPassword",value:p.confirmPassword,onChange:E,placeholder:"Please enter your password again",className:"w-full px-3 py-2 border border-[#EDEEF3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B5EF5] focus:border-transparent text-sm"}),d.jsx("button",{type:"button",onClick:()=>A(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#B9BCC5] hover:text-[#4B5EF5]",children:d.jsx("img",{src:"/confirm-password-icon.svg",alt:"Confirm Password",className:"w-4 h-4"})})]}),m.confirmPassword&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.confirmPassword})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"language",className:"block text-sm text-[#1C1C1C] mb-2",children:"Language"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{id:"language",name:"language",value:p.language,onChange:E,className:"w-full px-3 py-2 border border-[#EDEEF3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B5EF5] focus:border-transparent text-sm appearance-none bg-white",children:[d.jsx("option",{value:"English",children:"English"}),d.jsx("option",{value:"Chinese",children:"Chinese"}),d.jsx("option",{value:"Spanish",children:"Spanish"}),d.jsx("option",{value:"French",children:"French"})]}),d.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[d.jsx("img",{src:"/global-icon.svg",alt:"Global",className:"w-4 h-4"}),d.jsx("img",{src:"/next-icon.svg",alt:"Dropdown",className:"w-3 h-3"})]})]})]}),h&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsx("p",{className:"text-red-600 text-sm",children:h})}),d.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-[#1F32D6] to-[#4B5EF5] text-white py-3 px-4 rounded-lg font-semibold text-sm hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:c?d.jsxs("div",{className:"flex items-center justify-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"..."]}):"Continue"})]})]})})]})},ast=()=>{const{user:t,login:e,isLoading:r,isAuthenticated:n}=T2(),{navigate:i,ROUTES:s}=cx(),[o,a]=x.useState("English"),[l,c]=x.useState(""),[u,h]=x.useState(["","","","",""]),[f,p]=x.useState(""),[g,m]=x.useState(!1);x.useEffect(()=>{n&&t&&(console.log(":",t),i(s.DASHBOARD))},[n,t,i,s]);const w=(E,O)=>{if(O.length<=1&&/^[0-9]*$/.test(O)){const N=[...u];N[E]=O,h(N),O&&E<4&&document.getElementById(`code-input-${E+1}`).focus()}},y=(E,O)=>{O.key==="Backspace"&&!u[E]&&E>0&&document.getElementById(`code-input-${E-1}`).focus()},b=async()=>{if(!l){p("");return}p("");try{await e("email",{email:l}),m(!0),console.log(":",l)}catch(E){console.error(":",E),p("")}},v=async()=>{if(u.some(E=>!E)){p("");return}p(""),console.log("Privy...")},A=()=>{m(!1),c(""),h(["","","","",""]),p("")};return d.jsxs("div",{className:"email-verification-container",children:[d.jsx("div",{className:"brand-section",children:d.jsxs("div",{className:"brand-background",children:[d.jsx("img",{src:"/brand-delivery-bg.png",alt:"Brand Background",className:"brand-bg-image"}),d.jsxs("div",{className:"brand-overlay",children:[d.jsx("div",{className:"brand-gradient"}),d.jsxs("div",{className:"brand-content",children:[d.jsxs("div",{className:"brand-logo",children:[d.jsx("img",{src:"/alphatoken-logo.svg",alt:"Alphatoken Logo",className:"logo-image"}),d.jsx("span",{className:"brand-name",children:"Alphatoken"})]}),d.jsx("div",{className:"brand-description",children:d.jsx("div",{className:"description-card",children:d.jsx("p",{className:"description-text",children:"This is a text description"})})})]})]})]})}),d.jsxs("div",{className:"content-section",children:[d.jsxs("button",{className:"back-button",children:[d.jsx("img",{src:"/next-icon.svg",alt:"Back",className:"back-icon"}),d.jsx("span",{children:"back"})]}),d.jsx("div",{className:"language-selector",children:d.jsxs("div",{className:"language-content",children:[d.jsx("img",{src:"/global-icon.svg",alt:"Global",className:"global-icon"}),d.jsx("span",{className:"language-text",children:o}),d.jsx("img",{src:"/arrow-down.svg",alt:"Dropdown",className:"dropdown-icon"})]})}),d.jsxs("div",{className:"main-content",children:[d.jsx("h1",{className:"title",children:"Verify your email address"}),d.jsx("p",{className:"subtitle",children:g?"Please enter the email verification code":"Please enter your email address to receive verification code"}),g?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"email-info",children:[d.jsx("img",{src:"/email-icon.svg",alt:"Email",className:"email-icon"}),d.jsx("span",{className:"email-address",children:l})]}),d.jsx("div",{className:"verification-code-container",children:d.jsx("div",{className:"code-inputs",children:u.map((E,O)=>d.jsx("input",{id:`code-input-${O}`,type:"text",maxLength:"1",value:E,onChange:N=>w(O,N.target.value),onKeyDown:N=>y(O,N),className:"code-input",placeholder:"0"},O))})}),d.jsx("div",{className:"switch-email",children:d.jsx("span",{className:"switch-text",onClick:A,children:"Unable to verify? Switch to another email address"})}),f&&d.jsx("div",{className:"error-message",children:f}),d.jsx("button",{className:`verify-button ${r?"loading":""}`,onClick:v,disabled:r||u.some(E=>!E),children:r?"Verifying...":"Verify"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"email-input-container",children:d.jsx("input",{type:"email",value:l,onChange:E=>c(E.target.value),placeholder:"Enter your email address",className:"email-input"})}),d.jsx("button",{className:`send-code-button ${r?"loading":""}`,onClick:b,disabled:r||!l,children:r?"Sending...":"Send Verification Code"})]})]})]})]})};function lst({user:t,onLogout:e}){var n,i,s,o;th();const r=((n=t==null?void 0:t.email)==null?void 0:n.address)||((i=t==null?void 0:t.google)==null?void 0:i.name)||((o=(s=t==null?void 0:t.wallet)==null?void 0:s.address)==null?void 0:o.slice(0,8))+"..."||"";return d.jsx("header",{className:"bg-white shadow-lg border-b border-[#F0F2F5]",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:"/logo.svg",alt:"Crypto Buddy",className:"h-6 sm:h-8"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-[#1c1c1c]",children:"Crypto Buddy"})})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"icon-container icon-container-primary w-8 h-8 sm:w-10 sm:h-10",children:d.jsx("span",{className:"font-medium text-xs sm:text-sm",children:r.charAt(0).toUpperCase()})}),d.jsx("span",{className:"text-xs sm:text-sm font-medium text-[#1c1c1c] hidden sm:inline",children:r})]}),d.jsx("button",{onClick:e,className:"btn-secondary text-xs sm:text-sm px-3 py-1.5 sm:px-4 sm:py-2",children:""})]})]})})})}function cst(){th();const{wallets:t}=al(),e=t[0],r=!!e,n=e==null?void 0:e.address;return d.jsxs("div",{className:"card p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[d.jsx("h2",{className:"text-base sm:text-lg font-semibold text-[#1c1c1c]",children:""}),d.jsx("div",{className:`tag ${r?"tag-success":"tag-warning"} text-xs sm:text-sm`,children:r?"":""})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:""}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"icon-container icon-container-primary w-6 h-6 sm:w-8 sm:h-8",children:d.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12z"})})}),d.jsx("span",{className:"font-mono text-xs sm:text-sm text-[#1c1c1c]",children:n?`${n.slice(0,6)}...${n.slice(-4)}`:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:""}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"icon-container icon-container-gray w-6 h-6 sm:w-8 sm:h-8",children:d.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12z"})})}),d.jsx("span",{className:"text-base sm:text-lg font-semibold text-[#1c1c1c]",children:"0.00 ETH"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:""}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"icon-container icon-container-primary w-6 h-6 sm:w-8 sm:h-8",children:d.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12z"})})}),d.jsx("span",{className:"text-xs sm:text-sm text-[#1c1c1c]",children:""})]})]})]}),!r&&d.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-[#4B5EF5]/10 rounded-xl border border-[#4B5EF5]/20",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#4B5EF5] mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-xs sm:text-sm text-[#4B5EF5]",children:""})]})})]})}function ust(){const{wallets:t}=al(),e=!!t[0],[r,n]=x.useState("buy"),[i,s]=x.useState(""),[o,a]=x.useState(""),[l,c]=x.useState("ETH"),u=[{symbol:"ETH",name:"Ethereum",price:"2,800.50"},{symbol:"BTC",name:"Bitcoin",price:"42,150.75"},{symbol:"USDT",name:"Tether",price:"1.00"},{symbol:"BNB",name:"Binance Coin",price:"320.25"}],h=()=>{if(!e){alert("");return}if(!i||!o){alert("");return}alert(`${r==="buy"?"":""} ${i} ${l} ${o} USD`),s(""),a("")};return d.jsxs("div",{className:"card p-4 sm:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 space-y-3 sm:space-y-0",children:[d.jsx("h2",{className:"text-base sm:text-lg font-semibold text-[#1c1c1c]",children:""}),d.jsxs("div",{className:"flex space-x-1 bg-[#F8FAFF] rounded-xl p-1 w-full sm:w-auto",children:[d.jsx("button",{onClick:()=>n("buy"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 flex-1 sm:flex-none ${r==="buy"?"bg-white text-[#4B5EF5] shadow-sm":"text-[#73798B] hover:text-[#1c1c1c]"}`,children:""}),d.jsx("button",{onClick:()=>n("sell"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 flex-1 sm:flex-none ${r==="sell"?"bg-white text-[#4B5EF5] shadow-sm":"text-[#73798B] hover:text-[#1c1c1c]"}`,children:""})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:""}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3",children:u.map(f=>d.jsx("button",{onClick:()=>c(f.symbol),className:`p-2 sm:p-3 rounded-xl border transition-all duration-200 ${l===f.symbol?"border-[#4B5EF5] bg-[#4B5EF5]/10":"border-[#E5E7EB] hover:border-[#D1D5DB]"}`,children:d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("div",{className:"icon-container icon-container-primary w-6 h-6 sm:w-8 sm:h-8",children:d.jsx("span",{className:"text-xs font-medium",children:f.symbol[0]})}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium text-[#1c1c1c] text-xs sm:text-sm",children:f.symbol}),d.jsx("div",{className:"text-[#73798B] text-xs",children:f.name})]})]})},f.symbol))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:r==="buy"?"":""}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:i,onChange:f=>s(f.target.value),placeholder:"0.00",className:"input-field pr-16 sm:pr-20 text-sm sm:text-base"}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx("span",{className:"text-xs sm:text-sm font-medium text-[#73798B]",children:l})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs sm:text-sm font-medium text-[#73798B] mb-1 sm:mb-2 block",children:" (USD)"}),d.jsx("input",{type:"number",value:o,onChange:f=>a(f.target.value),placeholder:"0.00",className:"input-field text-sm sm:text-base"})]}),i&&o&&d.jsx("div",{className:"p-3 sm:p-4 bg-[#F8FAFF] rounded-xl border border-[#F0F2F5]",children:d.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsx("span",{className:"font-medium text-[#1c1c1c]",children:r==="buy"?"":""})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[i," ",l]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[o," USD"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[(parseFloat(i)*parseFloat(o)||0).toFixed(2)," USD"]})]})]})}),d.jsx("button",{onClick:h,disabled:!e,className:`w-full py-2 sm:py-3 rounded-xl font-medium transition-all duration-200 text-sm sm:text-base ${e?r==="buy"?"bg-[#10b981] hover:bg-[#059669] text-white":"bg-[#ef4444] hover:bg-[#dc2626] text-white":"bg-[#E5E7EB] text-[#9CA3AF] cursor-not-allowed"}`,children:e?r==="buy"?"":"":""})]})]})}function dst(){const t=[{id:1,type:"buy",token:"ETH",amount:"0.5",price:"2800.00",total:"1400.00",status:"completed",timestamp:"2024-01-15 14:30:25",txHash:"0x1a2b3c4d5e6f..."},{id:2,type:"sell",token:"BTC",amount:"0.1",price:"42150.00",total:"4215.00",status:"completed",timestamp:"2024-01-14 09:15:42",txHash:"0x2b3c4d5e6f7a..."},{id:3,type:"buy",token:"USDT",amount:"1000",price:"1.00",total:"1000.00",status:"pending",timestamp:"2024-01-15 16:45:18",txHash:"0x3c4d5e6f7a8b..."},{id:4,type:"sell",token:"BNB",amount:"5",price:"320.00",total:"1600.00",status:"failed",timestamp:"2024-01-13 11:20:33",txHash:"0x4d5e6f7a8b9c..."}],e=s=>{switch(s){case"completed":return"text-[#10b981] bg-[#10b981]/10";case"pending":return"text-[#f59e0b] bg-[#f59e0b]/10";case"failed":return"text-[#ef4444] bg-[#ef4444]/10";default:return"text-[#73798B] bg-[#73798B]/10"}},r=s=>{switch(s){case"completed":return"";case"pending":return"";case"failed":return"";default:return""}},n=s=>s==="buy"?"":"",i=s=>s==="buy"?"text-[#10b981]":"text-[#ef4444]";return d.jsxs("div",{className:"card p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[d.jsx("h2",{className:"text-base sm:text-lg font-semibold text-[#1c1c1c]",children:""}),d.jsx("button",{className:"text-[#4B5EF5] hover:text-[#3A4BE5] text-xs sm:text-sm font-medium transition-colors",children:""})]}),d.jsx("div",{className:"space-y-3 sm:space-y-4 max-h-80 sm:max-h-96 overflow-y-auto",children:t.map(s=>d.jsxs("div",{className:"p-3 sm:p-4 border border-[#E5E7EB] rounded-xl hover:border-[#D1D5DB] transition-all duration-200",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 sm:mb-3 space-y-2 sm:space-y-0",children:[d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[d.jsx("span",{className:`text-xs sm:text-sm font-medium ${i(s.type)}`,children:n(s.type)}),d.jsx("span",{className:"text-xs sm:text-sm font-medium text-[#1c1c1c]",children:s.token})]}),d.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium ${e(s.status)}`,children:r(s.status)})]}),d.jsxs("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[s.amount," ",s.token]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[s.price," USD"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsxs("span",{className:"font-medium text-[#1c1c1c]",children:[s.total," USD"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[#73798B]",children:""}),d.jsx("span",{className:"text-[#73798B] text-xs",children:s.timestamp})]})]}),d.jsx("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-[#F0F2F5]",children:d.jsx("button",{className:"text-[#4B5EF5] hover:text-[#3A4BE5] text-xs font-medium transition-colors",children:""})})]},s.id))}),t.length===0&&d.jsxs("div",{className:"text-center py-6 sm:py-8",children:[d.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-[#D1D5DB] mx-auto mb-2 sm:mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),d.jsx("p",{className:"text-[#73798B] text-xs sm:text-sm",children:""})]})]})}function TB(){const{authenticated:t,user:e,login:r,logout:n}=th(),[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState(!1);x.useEffect(()=>{localStorage.getItem("investmentTypeSelected")==="true"&&s(!0)},[]);const f=m=>{console.log("Starting registration for:",m),c(m),a(!0)},p=()=>{console.log("Registration completed"),a(!1),s(!0),localStorage.setItem("investmentTypeSelected","true"),r()},g=()=>{a(!1),h(!0)};return o?d.jsx(Fie,{investmentType:l,onComplete:p,onBack:g}):!t&&!i||u?d.jsx(YA,{onRegister:f}):t&&i?d.jsxs("div",{className:"min-h-screen bg-[#F8FAFF]",children:[d.jsx(lst,{user:e,onLogout:n}),d.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[d.jsxs("div",{className:"xl:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[d.jsx(cst,{}),d.jsx(ust,{})]}),d.jsx("div",{className:"xl:col-span-1",children:d.jsx(dst,{})})]})})]}):d.jsx(YA,{onRegister:f})}const hst=()=>{const{currentRoute:t,ROUTES:e}=cx(),{isAuthenticated:r,user:n}=T2(),i=()=>{switch(t){case e.AUTHENTICATION:return d.jsx(IB,{});case e.INVESTMENT_SELECTION:return d.jsx(YA,{});case e.REGISTER:return d.jsx(Fie,{});case e.EMAIL_VERIFICATION:return d.jsx(ast,{});case e.DASHBOARD:return d.jsx(TB,{});case e.HOME:default:return r&&n?d.jsx(TB,{}):d.jsx(IB,{})}};return d.jsx("div",{className:"router-container",children:i()})};function fst(){return d.jsx(nst,{appId:"cmgkk8drf001lk00cob8vgj4e",config:{loginMethods:["email","google","wallet"],appearance:{theme:"light",accentColor:"#4B5EF5",logo:"/logo.svg",logoStyle:"rounded",showWalletLoginFirst:!1},embeddedWallets:{createOnLogin:"users-without-wallets"}},children:d.jsx(sst,{children:d.jsx(ost,{children:d.jsx(hst,{})})})})}kE.createRoot(document.getElementById("root")).render(d.jsx(Pe.StrictMode,{children:d.jsx(fst,{})}));export{tu as $,$ue as A,Nue as B,aC as C,Za as D,Tf as E,XW as F,we as G,Lw as H,$d as I,Ts as J,ude as K,Ow as L,Ohe as M,z7 as N,uq as O,uo as P,qd as Q,tn as R,Ds as S,bye as T,Mst as U,XV as V,Sf as W,l$ as X,Qc as Y,wq as Z,Nn as _,_H as a,Fo as a$,kg as a0,EV as a1,ru as a2,nu as a3,Mi as a4,zH as a5,qst as a6,Hst as a7,vq as a8,U0 as a9,lQ as aA,$_ as aB,cQ as aC,Eo as aD,S4 as aE,iBe as aF,ls as aG,tLe as aH,TLe as aI,zs as aJ,Tl as aK,Ff as aL,m2 as aM,fa as aN,UBe as aO,kI as aP,T4 as aQ,ww as aR,YS as aS,qM as aT,eX as aU,IOe as aV,au as aW,mf as aX,ud as aY,I4 as aZ,kl as a_,cn as aa,bV as ab,Fh as ac,zc as ad,$H as ae,Xr as af,Ice as ag,Cg as ah,Jst as ai,qa as aj,Fw as ak,e$ as al,ai as am,Wpe as an,rG as ao,xy as ap,f0 as aq,qp as ar,L7 as as,Df as at,VM as au,Ne as av,pf as aw,kRe as ax,ZS as ay,DSe as az,sH as b,Fl as b0,l2 as b1,Al as b2,sl as b3,n$ as b4,l6 as b5,zhe as b6,a6 as b7,E1 as b8,HKe as b9,Eg as c,zue as d,Bst as e,Cf as f,ZV as g,Va as h,Rs as i,Xce as j,Vce as k,Nst as l,Sd as m,ut as n,tue as o,bg as p,hy as q,Gce as r,F0 as s,nue as t,qq as u,I1 as v,Qo as w,ife as x,oi as y,st as z};
